(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function e(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=e(i);fetch(i.href,s)}})();function Qc(r,t){const e=Object.create(null),n=r.split(",");for(let i=0;i<n.length;i++)e[n[i]]=!0;return i=>!!e[i]}const Vt={},Ii=[],Hr=()=>{},Ry=()=>!1,fa=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&(r.charCodeAt(2)>122||r.charCodeAt(2)<97),tl=r=>r.startsWith("onUpdate:"),fe=Object.assign,el=(r,t)=>{const e=r.indexOf(t);e>-1&&r.splice(e,1)},By=Object.prototype.hasOwnProperty,_t=(r,t)=>By.call(r,t),it=Array.isArray,Di=r=>pa(r)==="[object Map]",od=r=>pa(r)==="[object Set]",ht=r=>typeof r=="function",ce=r=>typeof r=="string",Xi=r=>typeof r=="symbol",Xt=r=>r!==null&&typeof r=="object",ad=r=>(Xt(r)||ht(r))&&ht(r.then)&&ht(r.catch),cd=Object.prototype.toString,pa=r=>cd.call(r),Py=r=>pa(r).slice(8,-1),ld=r=>pa(r)==="[object Object]",rl=r=>ce(r)&&r!=="NaN"&&r[0]!=="-"&&""+parseInt(r,10)===r,mo=Qc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ga=r=>{const t=Object.create(null);return e=>t[e]||(t[e]=r(e))},Ny=/-(\w)/g,Yr=ga(r=>r.replace(Ny,(t,e)=>e?e.toUpperCase():"")),My=/\B([A-Z])/g,Qi=ga(r=>r.replace(My,"-$1").toLowerCase()),ya=ga(r=>r.charAt(0).toUpperCase()+r.slice(1)),Za=ga(r=>r?`on${ya(r)}`:""),ui=(r,t)=>!Object.is(r,t),Ja=(r,t)=>{for(let e=0;e<r.length;e++)r[e](t)},Co=(r,t,e)=>{Object.defineProperty(r,t,{configurable:!0,enumerable:!1,value:e})},Uy=r=>{const t=parseFloat(r);return isNaN(t)?r:t};let Au;const vc=()=>Au||(Au=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function nl(r){if(it(r)){const t={};for(let e=0;e<r.length;e++){const n=r[e],i=ce(n)?jy(n):nl(n);if(i)for(const s in i)t[s]=i[s]}return t}else if(ce(r)||Xt(r))return r}const $y=/;(?![^(]*\))/g,ky=/:([^]+)/,Gy=/\/\*[^]*?\*\//g;function jy(r){const t={};return r.replace(Gy,"").split($y).forEach(e=>{if(e){const n=e.split(ky);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function il(r){let t="";if(ce(r))t=r;else if(it(r))for(let e=0;e<r.length;e++){const n=il(r[e]);n&&(t+=n+" ")}else if(Xt(r))for(const e in r)r[e]&&(t+=e+" ");return t.trim()}const zy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Vy=Qc(zy);function ud(r){return!!r||r===""}const Lr=r=>ce(r)?r:r==null?"":it(r)||Xt(r)&&(r.toString===cd||!ht(r.toString))?JSON.stringify(r,hd,2):String(r),hd=(r,t)=>t&&t.__v_isRef?hd(r,t.value):Di(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[n,i],s)=>(e[Xa(n,s)+" =>"]=i,e),{})}:od(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Xa(e))}:Xi(t)?Xa(t):Xt(t)&&!it(t)&&!ld(t)?String(t):t,Xa=(r,t="")=>{var e;return Xi(r)?`Symbol(${(e=r.description)!=null?e:t})`:r};let gr;class Wy{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gr,!t&&gr&&(this.index=(gr.scopes||(gr.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const e=gr;try{return gr=this,t()}finally{gr=e}}}on(){gr=this}off(){gr=this.parent}stop(t){if(this._active){let e,n;for(e=0,n=this.effects.length;e<n;e++)this.effects[e].stop();for(e=0,n=this.cleanups.length;e<n;e++)this.cleanups[e]();if(this.scopes)for(e=0,n=this.scopes.length;e<n;e++)this.scopes[e].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function Hy(r,t=gr){t&&t.active&&t.effects.push(r)}function Yy(){return gr}const sl=r=>{const t=new Set(r);return t.w=0,t.n=0,t},dd=r=>(r.w&Pn)>0,fd=r=>(r.n&Pn)>0,qy=({deps:r})=>{if(r.length)for(let t=0;t<r.length;t++)r[t].w|=Pn},Ky=r=>{const{deps:t}=r;if(t.length){let e=0;for(let n=0;n<t.length;n++){const i=t[n];dd(i)&&!fd(i)?i.delete(r):t[e++]=i,i.w&=~Pn,i.n&=~Pn}t.length=e}},bc=new WeakMap;let ys=0,Pn=1;const _c=30;let br;const oi=Symbol(""),wc=Symbol("");class ol{constructor(t,e=null,n){this.fn=t,this.scheduler=e,this.active=!0,this.deps=[],this.parent=void 0,Hy(this,n)}run(){if(!this.active)return this.fn();let t=br,e=Ln;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=br,br=this,Ln=!0,Pn=1<<++ys,ys<=_c?qy(this):Iu(this),this.fn()}finally{ys<=_c&&Ky(this),Pn=1<<--ys,br=this.parent,Ln=e,this.parent=void 0,this.deferStop&&this.stop()}}stop(){br===this?this.deferStop=!0:this.active&&(Iu(this),this.onStop&&this.onStop(),this.active=!1)}}function Iu(r){const{deps:t}=r;if(t.length){for(let e=0;e<t.length;e++)t[e].delete(r);t.length=0}}let Ln=!0;const pd=[];function ts(){pd.push(Ln),Ln=!1}function es(){const r=pd.pop();Ln=r===void 0?!0:r}function je(r,t,e){if(Ln&&br){let n=bc.get(r);n||bc.set(r,n=new Map);let i=n.get(e);i||n.set(e,i=sl()),gd(i)}}function gd(r,t){let e=!1;ys<=_c?fd(r)||(r.n|=Pn,e=!dd(r)):e=!r.has(br),e&&(r.add(br),br.deps.push(r))}function hn(r,t,e,n,i,s){const o=bc.get(r);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(e==="length"&&it(r)){const c=Number(n);o.forEach((l,u)=>{(u==="length"||!Xi(u)&&u>=c)&&a.push(l)})}else switch(e!==void 0&&a.push(o.get(e)),t){case"add":it(r)?rl(e)&&a.push(o.get("length")):(a.push(o.get(oi)),Di(r)&&a.push(o.get(wc)));break;case"delete":it(r)||(a.push(o.get(oi)),Di(r)&&a.push(o.get(wc)));break;case"set":Di(r)&&a.push(o.get(oi));break}if(a.length===1)a[0]&&Sc(a[0]);else{const c=[];for(const l of a)l&&c.push(...l);Sc(sl(c))}}function Sc(r,t){const e=it(r)?r:[...r];for(const n of e)n.computed&&Du(n);for(const n of e)n.computed||Du(n)}function Du(r,t){(r!==br||r.allowRecurse)&&(r.scheduler?r.scheduler():r.run())}const Zy=Qc("__proto__,__v_isRef,__isVue"),yd=new Set(Object.getOwnPropertyNames(Symbol).filter(r=>r!=="arguments"&&r!=="caller").map(r=>Symbol[r]).filter(Xi)),Ou=Jy();function Jy(){const r={};return["includes","indexOf","lastIndexOf"].forEach(t=>{r[t]=function(...e){const n=Ot(this);for(let s=0,o=this.length;s<o;s++)je(n,"get",s+"");const i=n[t](...e);return i===-1||i===!1?n[t](...e.map(Ot)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{r[t]=function(...e){ts();const n=Ot(this)[t].apply(this,e);return es(),n}}),r}function Xy(r){const t=Ot(this);return je(t,"has",r),t.hasOwnProperty(r)}class md{constructor(t=!1,e=!1){this._isReadonly=t,this._shallow=e}get(t,e,n){const i=this._isReadonly,s=this._shallow;if(e==="__v_isReactive")return!i;if(e==="__v_isReadonly")return i;if(e==="__v_isShallow")return s;if(e==="__v_raw")return n===(i?s?hm:wd:s?_d:bd).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(n)?t:void 0;const o=it(t);if(!i){if(o&&_t(Ou,e))return Reflect.get(Ou,e,n);if(e==="hasOwnProperty")return Xy}const a=Reflect.get(t,e,n);return(Xi(e)?yd.has(e):Zy(e))||(i||je(t,"get",e),s)?a:ze(a)?o&&rl(e)?a:a.value:Xt(a)?i?Sd(a):va(a):a}}class vd extends md{constructor(t=!1){super(!1,t)}set(t,e,n,i){let s=t[e];if(!this._shallow){const c=Mi(s);if(!Ro(n)&&!Mi(n)&&(s=Ot(s),n=Ot(n)),!it(t)&&ze(s)&&!ze(n))return c?!1:(s.value=n,!0)}const o=it(t)&&rl(e)?Number(e)<t.length:_t(t,e),a=Reflect.set(t,e,n,i);return t===Ot(i)&&(o?ui(n,s)&&hn(t,"set",e,n):hn(t,"add",e,n)),a}deleteProperty(t,e){const n=_t(t,e);t[e];const i=Reflect.deleteProperty(t,e);return i&&n&&hn(t,"delete",e,void 0),i}has(t,e){const n=Reflect.has(t,e);return(!Xi(e)||!yd.has(e))&&je(t,"has",e),n}ownKeys(t){return je(t,"iterate",it(t)?"length":oi),Reflect.ownKeys(t)}}class Qy extends md{constructor(t=!1){super(!0,t)}set(t,e){return!0}deleteProperty(t,e){return!0}}const tm=new vd,em=new Qy,rm=new vd(!0),al=r=>r,ma=r=>Reflect.getPrototypeOf(r);function to(r,t,e=!1,n=!1){r=r.__v_raw;const i=Ot(r),s=Ot(t);e||(ui(t,s)&&je(i,"get",t),je(i,"get",s));const{has:o}=ma(i),a=n?al:e?ul:Fs;if(o.call(i,t))return a(r.get(t));if(o.call(i,s))return a(r.get(s));r!==i&&r.get(t)}function eo(r,t=!1){const e=this.__v_raw,n=Ot(e),i=Ot(r);return t||(ui(r,i)&&je(n,"has",r),je(n,"has",i)),r===i?e.has(r):e.has(r)||e.has(i)}function ro(r,t=!1){return r=r.__v_raw,!t&&je(Ot(r),"iterate",oi),Reflect.get(r,"size",r)}function Tu(r){r=Ot(r);const t=Ot(this);return ma(t).has.call(t,r)||(t.add(r),hn(t,"add",r,r)),this}function Fu(r,t){t=Ot(t);const e=Ot(this),{has:n,get:i}=ma(e);let s=n.call(e,r);s||(r=Ot(r),s=n.call(e,r));const o=i.call(e,r);return e.set(r,t),s?ui(t,o)&&hn(e,"set",r,t):hn(e,"add",r,t),this}function xu(r){const t=Ot(this),{has:e,get:n}=ma(t);let i=e.call(t,r);i||(r=Ot(r),i=e.call(t,r)),n&&n.call(t,r);const s=t.delete(r);return i&&hn(t,"delete",r,void 0),s}function Lu(){const r=Ot(this),t=r.size!==0,e=r.clear();return t&&hn(r,"clear",void 0,void 0),e}function no(r,t){return function(n,i){const s=this,o=s.__v_raw,a=Ot(o),c=t?al:r?ul:Fs;return!r&&je(a,"iterate",oi),o.forEach((l,u)=>n.call(i,c(l),c(u),s))}}function io(r,t,e){return function(...n){const i=this.__v_raw,s=Ot(i),o=Di(s),a=r==="entries"||r===Symbol.iterator&&o,c=r==="keys"&&o,l=i[r](...n),u=e?al:t?ul:Fs;return!t&&je(s,"iterate",c?wc:oi),{next(){const{value:h,done:d}=l.next();return d?{value:h,done:d}:{value:a?[u(h[0]),u(h[1])]:u(h),done:d}},[Symbol.iterator](){return this}}}}function An(r){return function(...t){return r==="delete"?!1:r==="clear"?void 0:this}}function nm(){const r={get(s){return to(this,s)},get size(){return ro(this)},has:eo,add:Tu,set:Fu,delete:xu,clear:Lu,forEach:no(!1,!1)},t={get(s){return to(this,s,!1,!0)},get size(){return ro(this)},has:eo,add:Tu,set:Fu,delete:xu,clear:Lu,forEach:no(!1,!0)},e={get(s){return to(this,s,!0)},get size(){return ro(this,!0)},has(s){return eo.call(this,s,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:no(!0,!1)},n={get(s){return to(this,s,!0,!0)},get size(){return ro(this,!0)},has(s){return eo.call(this,s,!0)},add:An("add"),set:An("set"),delete:An("delete"),clear:An("clear"),forEach:no(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{r[s]=io(s,!1,!1),e[s]=io(s,!0,!1),t[s]=io(s,!1,!0),n[s]=io(s,!0,!0)}),[r,e,t,n]}const[im,sm,om,am]=nm();function cl(r,t){const e=t?r?am:om:r?sm:im;return(n,i,s)=>i==="__v_isReactive"?!r:i==="__v_isReadonly"?r:i==="__v_raw"?n:Reflect.get(_t(e,i)&&i in n?e:n,i,s)}const cm={get:cl(!1,!1)},lm={get:cl(!1,!0)},um={get:cl(!0,!1)},bd=new WeakMap,_d=new WeakMap,wd=new WeakMap,hm=new WeakMap;function dm(r){switch(r){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function fm(r){return r.__v_skip||!Object.isExtensible(r)?0:dm(Py(r))}function va(r){return Mi(r)?r:ll(r,!1,tm,cm,bd)}function pm(r){return ll(r,!1,rm,lm,_d)}function Sd(r){return ll(r,!0,em,um,wd)}function ll(r,t,e,n,i){if(!Xt(r)||r.__v_raw&&!(t&&r.__v_isReactive))return r;const s=i.get(r);if(s)return s;const o=fm(r);if(o===0)return r;const a=new Proxy(r,o===2?n:e);return i.set(r,a),a}function Oi(r){return Mi(r)?Oi(r.__v_raw):!!(r&&r.__v_isReactive)}function Mi(r){return!!(r&&r.__v_isReadonly)}function Ro(r){return!!(r&&r.__v_isShallow)}function Ed(r){return Oi(r)||Mi(r)}function Ot(r){const t=r&&r.__v_raw;return t?Ot(t):r}function Ad(r){return Co(r,"__v_skip",!0),r}const Fs=r=>Xt(r)?va(r):r,ul=r=>Xt(r)?Sd(r):r;function Id(r){Ln&&br&&(r=Ot(r),gd(r.dep||(r.dep=sl())))}function Dd(r,t){r=Ot(r);const e=r.dep;e&&Sc(e)}function ze(r){return!!(r&&r.__v_isRef===!0)}function Cu(r){return gm(r,!1)}function gm(r,t){return ze(r)?r:new ym(r,t)}class ym{constructor(t,e){this.__v_isShallow=e,this.dep=void 0,this.__v_isRef=!0,this._rawValue=e?t:Ot(t),this._value=e?t:Fs(t)}get value(){return Id(this),this._value}set value(t){const e=this.__v_isShallow||Ro(t)||Mi(t);t=e?t:Ot(t),ui(t,this._rawValue)&&(this._rawValue=t,this._value=e?t:Fs(t),Dd(this))}}function Ec(r){return ze(r)?r.value:r}const mm={get:(r,t,e)=>Ec(Reflect.get(r,t,e)),set:(r,t,e,n)=>{const i=r[t];return ze(i)&&!ze(e)?(i.value=e,!0):Reflect.set(r,t,e,n)}};function Od(r){return Oi(r)?r:new Proxy(r,mm)}class vm{constructor(t,e,n,i){this._setter=e,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new ol(t,()=>{this._dirty||(this._dirty=!0,Dd(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=n}get value(){const t=Ot(this);return Id(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function bm(r,t,e=!1){let n,i;const s=ht(r);return s?(n=r,i=Hr):(n=r.get,i=r.set),new vm(n,i,s||!i,e)}function Cn(r,t,e,n){let i;try{i=n?r(...n):r()}catch(s){ba(s,t,e)}return i}function wr(r,t,e,n){if(ht(r)){const s=Cn(r,t,e,n);return s&&ad(s)&&s.catch(o=>{ba(o,t,e)}),s}const i=[];for(let s=0;s<r.length;s++)i.push(wr(r[s],t,e,n));return i}function ba(r,t,e,n=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=e;for(;s;){const l=s.ec;if(l){for(let u=0;u<l.length;u++)if(l[u](r,o,a)===!1)return}s=s.parent}const c=t.appContext.config.errorHandler;if(c){Cn(c,null,10,[r,o,a]);return}}_m(r,e,i,n)}function _m(r,t,e,n=!0){console.error(r)}let xs=!1,Ac=!1;const be=[];let Nr=0;const Ti=[];let sn=null,Xn=0;const Td=Promise.resolve();let hl=null;function wm(r){const t=hl||Td;return r?t.then(this?r.bind(this):r):t}function Sm(r){let t=Nr+1,e=be.length;for(;t<e;){const n=t+e>>>1,i=be[n],s=Ls(i);s<r||s===r&&i.pre?t=n+1:e=n}return t}function dl(r){(!be.length||!be.includes(r,xs&&r.allowRecurse?Nr+1:Nr))&&(r.id==null?be.push(r):be.splice(Sm(r.id),0,r),Fd())}function Fd(){!xs&&!Ac&&(Ac=!0,hl=Td.then(Ld))}function Em(r){const t=be.indexOf(r);t>Nr&&be.splice(t,1)}function Am(r){it(r)?Ti.push(...r):(!sn||!sn.includes(r,r.allowRecurse?Xn+1:Xn))&&Ti.push(r),Fd()}function Ru(r,t,e=xs?Nr+1:0){for(;e<be.length;e++){const n=be[e];if(n&&n.pre){if(r&&n.id!==r.uid)continue;be.splice(e,1),e--,n()}}}function xd(r){if(Ti.length){const t=[...new Set(Ti)];if(Ti.length=0,sn){sn.push(...t);return}for(sn=t,sn.sort((e,n)=>Ls(e)-Ls(n)),Xn=0;Xn<sn.length;Xn++)sn[Xn]();sn=null,Xn=0}}const Ls=r=>r.id==null?1/0:r.id,Im=(r,t)=>{const e=Ls(r)-Ls(t);if(e===0){if(r.pre&&!t.pre)return-1;if(t.pre&&!r.pre)return 1}return e};function Ld(r){Ac=!1,xs=!0,be.sort(Im);try{for(Nr=0;Nr<be.length;Nr++){const t=be[Nr];t&&t.active!==!1&&Cn(t,null,14)}}finally{Nr=0,be.length=0,xd(),xs=!1,hl=null,(be.length||Ti.length)&&Ld()}}function Dm(r,t,...e){if(r.isUnmounted)return;const n=r.vnode.props||Vt;let i=e;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:d}=n[u]||Vt;d&&(i=e.map(f=>ce(f)?f.trim():f)),h&&(i=e.map(Uy))}let a,c=n[a=Za(t)]||n[a=Za(Yr(t))];!c&&s&&(c=n[a=Za(Qi(t))]),c&&wr(c,r,6,i);const l=n[a+"Once"];if(l){if(!r.emitted)r.emitted={};else if(r.emitted[a])return;r.emitted[a]=!0,wr(l,r,6,i)}}function Cd(r,t,e=!1){const n=t.emitsCache,i=n.get(r);if(i!==void 0)return i;const s=r.emits;let o={},a=!1;if(!ht(r)){const c=l=>{const u=Cd(l,t,!0);u&&(a=!0,fe(o,u))};!e&&t.mixins.length&&t.mixins.forEach(c),r.extends&&c(r.extends),r.mixins&&r.mixins.forEach(c)}return!s&&!a?(Xt(r)&&n.set(r,null),null):(it(s)?s.forEach(c=>o[c]=null):fe(o,s),Xt(r)&&n.set(r,o),o)}function _a(r,t){return!r||!fa(t)?!1:(t=t.slice(2).replace(/Once$/,""),_t(r,t[0].toLowerCase()+t.slice(1))||_t(r,Qi(t))||_t(r,t))}let Le=null,wa=null;function Bo(r){const t=Le;return Le=r,wa=r&&r.type.__scopeId||null,t}function Rd(r){wa=r}function Bd(){wa=null}function Pd(r,t=Le,e){if(!t||r._n)return r;const n=(...i)=>{n._d&&Wu(-1);const s=Bo(t);let o;try{o=r(...i)}finally{Bo(s),n._d&&Wu(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function Qa(r){const{type:t,vnode:e,proxy:n,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:c,emit:l,render:u,renderCache:h,data:d,setupState:f,ctx:m,inheritAttrs:b}=r;let N,D;const O=Bo(r);try{if(e.shapeFlag&4){const _=i||n,S=_;N=Pr(u.call(S,_,h,s,f,d,m)),D=c}else{const _=t;N=Pr(_.length>1?_(s,{attrs:c,slots:a,emit:l}):_(s,null)),D=t.props?c:Om(c)}}catch(_){Is.length=0,ba(_,r,1),N=Je(Nn)}let T=N;if(D&&b!==!1){const _=Object.keys(D),{shapeFlag:S}=T;_.length&&S&7&&(o&&_.some(tl)&&(D=Tm(D,o)),T=Ui(T,D))}return e.dirs&&(T=Ui(T),T.dirs=T.dirs?T.dirs.concat(e.dirs):e.dirs),e.transition&&(T.transition=e.transition),N=T,Bo(O),N}const Om=r=>{let t;for(const e in r)(e==="class"||e==="style"||fa(e))&&((t||(t={}))[e]=r[e]);return t},Tm=(r,t)=>{const e={};for(const n in r)(!tl(n)||!(n.slice(9)in t))&&(e[n]=r[n]);return e};function Fm(r,t,e){const{props:n,children:i,component:s}=r,{props:o,children:a,patchFlag:c}=t,l=s.emitsOptions;if(t.dirs||t.transition)return!0;if(e&&c>=0){if(c&1024)return!0;if(c&16)return n?Bu(n,o,l):!!o;if(c&8){const u=t.dynamicProps;for(let h=0;h<u.length;h++){const d=u[h];if(o[d]!==n[d]&&!_a(l,d))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?Bu(n,o,l):!0:!!o;return!1}function Bu(r,t,e){const n=Object.keys(t);if(n.length!==Object.keys(r).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(t[s]!==r[s]&&!_a(e,s))return!0}return!1}function xm({vnode:r,parent:t},e){for(;t&&t.subTree===r;)(r=t.vnode).el=e,t=t.parent}const Lm="components";function Pu(r,t){return Rm(Lm,r,!0,t)||r}const Cm=Symbol.for("v-ndc");function Rm(r,t,e=!0,n=!1){const i=Le||he;if(i){const s=i.type;{const a=Iv(s,!1);if(a&&(a===t||a===Yr(t)||a===ya(Yr(t))))return s}const o=Nu(i[r]||s[r],t)||Nu(i.appContext[r],t);return!o&&n?s:o}}function Nu(r,t){return r&&(r[t]||r[Yr(t)]||r[ya(Yr(t))])}const Bm=r=>r.__isSuspense;function Pm(r,t){t&&t.pendingBranch?it(r)?t.effects.push(...r):t.effects.push(r):Am(r)}const so={};function vo(r,t,e){return Nd(r,t,e)}function Nd(r,t,{immediate:e,deep:n,flush:i,onTrack:s,onTrigger:o}=Vt){var a;const c=Yy()===((a=he)==null?void 0:a.scope)?he:null;let l,u=!1,h=!1;if(ze(r)?(l=()=>r.value,u=Ro(r)):Oi(r)?(l=()=>r,n=!0):it(r)?(h=!0,u=r.some(_=>Oi(_)||Ro(_)),l=()=>r.map(_=>{if(ze(_))return _.value;if(Oi(_))return Si(_);if(ht(_))return Cn(_,c,2)})):ht(r)?t?l=()=>Cn(r,c,2):l=()=>{if(!(c&&c.isUnmounted))return d&&d(),wr(r,c,3,[f])}:l=Hr,t&&n){const _=l;l=()=>Si(_())}let d,f=_=>{d=O.onStop=()=>{Cn(_,c,4),d=O.onStop=void 0}},m;if(Rs)if(f=Hr,t?e&&wr(t,c,3,[l(),h?[]:void 0,f]):l(),i==="sync"){const _=Tv();m=_.__watcherHandles||(_.__watcherHandles=[])}else return Hr;let b=h?new Array(r.length).fill(so):so;const N=()=>{if(O.active)if(t){const _=O.run();(n||u||(h?_.some((S,I)=>ui(S,b[I])):ui(_,b)))&&(d&&d(),wr(t,c,3,[_,b===so?void 0:h&&b[0]===so?[]:b,f]),b=_)}else O.run()};N.allowRecurse=!!t;let D;i==="sync"?D=N:i==="post"?D=()=>Be(N,c&&c.suspense):(N.pre=!0,c&&(N.id=c.uid),D=()=>dl(N));const O=new ol(l,D);t?e?N():b=O.run():i==="post"?Be(O.run.bind(O),c&&c.suspense):O.run();const T=()=>{O.stop(),c&&c.scope&&el(c.scope.effects,O)};return m&&m.push(T),T}function Nm(r,t,e){const n=this.proxy,i=ce(r)?r.includes(".")?Md(n,r):()=>n[r]:r.bind(n,n);let s;ht(t)?s=t:(s=t.handler,e=t);const o=he;$i(this);const a=Nd(i,s.bind(n),e);return o?$i(o):ai(),a}function Md(r,t){const e=t.split(".");return()=>{let n=r;for(let i=0;i<e.length&&n;i++)n=n[e[i]];return n}}function Si(r,t){if(!Xt(r)||r.__v_skip||(t=t||new Set,t.has(r)))return r;if(t.add(r),ze(r))Si(r.value,t);else if(it(r))for(let e=0;e<r.length;e++)Si(r[e],t);else if(od(r)||Di(r))r.forEach(e=>{Si(e,t)});else if(ld(r))for(const e in r)Si(r[e],t);return r}function Yn(r,t,e,n){const i=r.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(ts(),wr(c,e,8,[r.el,a,r,t]),es())}}/*! #__NO_SIDE_EFFECTS__ */function Ud(r,t){return ht(r)?fe({name:r.name},t,{setup:r}):r}const Es=r=>!!r.type.__asyncLoader,$d=r=>r.type.__isKeepAlive;function Mm(r,t){kd(r,"a",t)}function Um(r,t){kd(r,"da",t)}function kd(r,t,e=he){const n=r.__wdc||(r.__wdc=()=>{let i=e;for(;i;){if(i.isDeactivated)return;i=i.parent}return r()});if(Sa(t,n,e),e){let i=e.parent;for(;i&&i.parent;)$d(i.parent.vnode)&&$m(n,t,e,i),i=i.parent}}function $m(r,t,e,n){const i=Sa(t,r,n,!0);Aa(()=>{el(n[t],i)},e)}function Sa(r,t,e=he,n=!1){if(e){const i=e[r]||(e[r]=[]),s=t.__weh||(t.__weh=(...o)=>{if(e.isUnmounted)return;ts(),$i(e);const a=wr(t,e,r,o);return ai(),es(),a});return n?i.unshift(s):i.push(s),s}}const mn=r=>(t,e=he)=>(!Rs||r==="sp")&&Sa(r,(...n)=>t(...n),e),km=mn("bm"),Ea=mn("m"),Gm=mn("bu"),fl=mn("u"),jm=mn("bum"),Aa=mn("um"),zm=mn("sp"),Vm=mn("rtg"),Wm=mn("rtc");function Gd(r,t=he){Sa("ec",r,t)}function Hm(r,t,e={},n,i){if(Le.isCE||Le.parent&&Es(Le.parent)&&Le.parent.isCE)return Je("slot",e,n);let s=r[t];s&&s._c&&(s._d=!1),Rn();const o=s&&jd(s(e)),a=Xd(mr,{key:e.key||o&&o.key||`_${t}`},o||[],o&&r._===1?64:-2);return s&&s._c&&(s._d=!0),a}function jd(r){return r.some(t=>Qd(t)?!(t.type===Nn||t.type===mr&&!jd(t.children)):!0)?r:null}const Ic=r=>r?ef(r)?vl(r)||r.proxy:Ic(r.parent):null,As=fe(Object.create(null),{$:r=>r,$el:r=>r.vnode.el,$data:r=>r.data,$props:r=>r.props,$attrs:r=>r.attrs,$slots:r=>r.slots,$refs:r=>r.refs,$parent:r=>Ic(r.parent),$root:r=>Ic(r.root),$emit:r=>r.emit,$options:r=>pl(r),$forceUpdate:r=>r.f||(r.f=()=>dl(r.update)),$nextTick:r=>r.n||(r.n=wm.bind(r.proxy)),$watch:r=>Nm.bind(r)}),tc=(r,t)=>r!==Vt&&!r.__isScriptSetup&&_t(r,t),Ym={get({_:r},t){const{ctx:e,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=r;let l;if(t[0]!=="$"){const f=o[t];if(f!==void 0)switch(f){case 1:return n[t];case 2:return i[t];case 4:return e[t];case 3:return s[t]}else{if(tc(n,t))return o[t]=1,n[t];if(i!==Vt&&_t(i,t))return o[t]=2,i[t];if((l=r.propsOptions[0])&&_t(l,t))return o[t]=3,s[t];if(e!==Vt&&_t(e,t))return o[t]=4,e[t];Dc&&(o[t]=0)}}const u=As[t];let h,d;if(u)return t==="$attrs"&&je(r,"get",t),u(r);if((h=a.__cssModules)&&(h=h[t]))return h;if(e!==Vt&&_t(e,t))return o[t]=4,e[t];if(d=c.config.globalProperties,_t(d,t))return d[t]},set({_:r},t,e){const{data:n,setupState:i,ctx:s}=r;return tc(i,t)?(i[t]=e,!0):n!==Vt&&_t(n,t)?(n[t]=e,!0):_t(r.props,t)||t[0]==="$"&&t.slice(1)in r?!1:(s[t]=e,!0)},has({_:{data:r,setupState:t,accessCache:e,ctx:n,appContext:i,propsOptions:s}},o){let a;return!!e[o]||r!==Vt&&_t(r,o)||tc(t,o)||(a=s[0])&&_t(a,o)||_t(n,o)||_t(As,o)||_t(i.config.globalProperties,o)},defineProperty(r,t,e){return e.get!=null?r._.accessCache[t]=0:_t(e,"value")&&this.set(r,t,e.value,null),Reflect.defineProperty(r,t,e)}};function Mu(r){return it(r)?r.reduce((t,e)=>(t[e]=null,t),{}):r}let Dc=!0;function qm(r){const t=pl(r),e=r.proxy,n=r.ctx;Dc=!1,t.beforeCreate&&Uu(t.beforeCreate,r,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:h,mounted:d,beforeUpdate:f,updated:m,activated:b,deactivated:N,beforeDestroy:D,beforeUnmount:O,destroyed:T,unmounted:_,render:S,renderTracked:I,renderTriggered:M,errorCaptured:B,serverPrefetch:E,expose:ct,inheritAttrs:yt,components:vt,directives:Wt,filters:dt}=t;if(l&&Km(l,n,null),o)for(const H in o){const y=o[H];ht(y)&&(n[H]=y.bind(e))}if(i){const H=i.call(e,e);Xt(H)&&(r.data=va(H))}if(Dc=!0,s)for(const H in s){const y=s[H],Qt=ht(y)?y.bind(e,e):ht(y.get)?y.get.bind(e,e):Hr,pe=!ht(y)&&ht(y.set)?y.set.bind(e):Hr,U=nf({get:Qt,set:pe});Object.defineProperty(n,H,{enumerable:!0,configurable:!0,get:()=>U.value,set:A=>U.value=A})}if(a)for(const H in a)zd(a[H],n,e,H);if(c){const H=ht(c)?c.call(e):c;Reflect.ownKeys(H).forEach(y=>{ev(y,H[y])})}u&&Uu(u,r,"c");function Ht(H,y){it(y)?y.forEach(Qt=>H(Qt.bind(e))):y&&H(y.bind(e))}if(Ht(km,h),Ht(Ea,d),Ht(Gm,f),Ht(fl,m),Ht(Mm,b),Ht(Um,N),Ht(Gd,B),Ht(Wm,I),Ht(Vm,M),Ht(jm,O),Ht(Aa,_),Ht(zm,E),it(ct))if(ct.length){const H=r.exposed||(r.exposed={});ct.forEach(y=>{Object.defineProperty(H,y,{get:()=>e[y],set:Qt=>e[y]=Qt})})}else r.exposed||(r.exposed={});S&&r.render===Hr&&(r.render=S),yt!=null&&(r.inheritAttrs=yt),vt&&(r.components=vt),Wt&&(r.directives=Wt)}function Km(r,t,e=Hr){it(r)&&(r=Oc(r));for(const n in r){const i=r[n];let s;Xt(i)?"default"in i?s=bo(i.from||n,i.default,!0):s=bo(i.from||n):s=bo(i),ze(s)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[n]=s}}function Uu(r,t,e){wr(it(r)?r.map(n=>n.bind(t.proxy)):r.bind(t.proxy),t,e)}function zd(r,t,e,n){const i=n.includes(".")?Md(e,n):()=>e[n];if(ce(r)){const s=t[r];ht(s)&&vo(i,s)}else if(ht(r))vo(i,r.bind(e));else if(Xt(r))if(it(r))r.forEach(s=>zd(s,t,e,n));else{const s=ht(r.handler)?r.handler.bind(e):t[r.handler];ht(s)&&vo(i,s,r)}}function pl(r){const t=r.type,{mixins:e,extends:n}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=r.appContext,a=s.get(t);let c;return a?c=a:!i.length&&!e&&!n?c=t:(c={},i.length&&i.forEach(l=>Po(c,l,o,!0)),Po(c,t,o)),Xt(t)&&s.set(t,c),c}function Po(r,t,e,n=!1){const{mixins:i,extends:s}=t;s&&Po(r,s,e,!0),i&&i.forEach(o=>Po(r,o,e,!0));for(const o in t)if(!(n&&o==="expose")){const a=Zm[o]||e&&e[o];r[o]=a?a(r[o],t[o]):t[o]}return r}const Zm={data:$u,props:ku,emits:ku,methods:ms,computed:ms,beforeCreate:Se,created:Se,beforeMount:Se,mounted:Se,beforeUpdate:Se,updated:Se,beforeDestroy:Se,beforeUnmount:Se,destroyed:Se,unmounted:Se,activated:Se,deactivated:Se,errorCaptured:Se,serverPrefetch:Se,components:ms,directives:ms,watch:Xm,provide:$u,inject:Jm};function $u(r,t){return t?r?function(){return fe(ht(r)?r.call(this,this):r,ht(t)?t.call(this,this):t)}:t:r}function Jm(r,t){return ms(Oc(r),Oc(t))}function Oc(r){if(it(r)){const t={};for(let e=0;e<r.length;e++)t[r[e]]=r[e];return t}return r}function Se(r,t){return r?[...new Set([].concat(r,t))]:t}function ms(r,t){return r?fe(Object.create(null),r,t):t}function ku(r,t){return r?it(r)&&it(t)?[...new Set([...r,...t])]:fe(Object.create(null),Mu(r),Mu(t??{})):t}function Xm(r,t){if(!r)return t;if(!t)return r;const e=fe(Object.create(null),r);for(const n in t)e[n]=Se(r[n],t[n]);return e}function Vd(){return{app:null,config:{isNativeTag:Ry,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Qm=0;function tv(r,t){return function(n,i=null){ht(n)||(n=fe({},n)),i!=null&&!Xt(i)&&(i=null);const s=Vd(),o=new WeakSet;let a=!1;const c=s.app={_uid:Qm++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:Fv,get config(){return s.config},set config(l){},use(l,...u){return o.has(l)||(l&&ht(l.install)?(o.add(l),l.install(c,...u)):ht(l)&&(o.add(l),l(c,...u))),c},mixin(l){return s.mixins.includes(l)||s.mixins.push(l),c},component(l,u){return u?(s.components[l]=u,c):s.components[l]},directive(l,u){return u?(s.directives[l]=u,c):s.directives[l]},mount(l,u,h){if(!a){const d=Je(n,i);return d.appContext=s,u&&t?t(d,l):r(d,l,h),a=!0,c._container=l,l.__vue_app__=c,vl(d.component)||d.component.proxy}},unmount(){a&&(r(null,c._container),delete c._container.__vue_app__)},provide(l,u){return s.provides[l]=u,c},runWithContext(l){No=c;try{return l()}finally{No=null}}};return c}}let No=null;function ev(r,t){if(he){let e=he.provides;const n=he.parent&&he.parent.provides;n===e&&(e=he.provides=Object.create(n)),e[r]=t}}function bo(r,t,e=!1){const n=he||Le;if(n||No){const i=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:No._context.provides;if(i&&r in i)return i[r];if(arguments.length>1)return e&&ht(t)?t.call(n&&n.proxy):t}}function rv(r,t,e,n=!1){const i={},s={};Co(s,Da,1),r.propsDefaults=Object.create(null),Wd(r,t,i,s);for(const o in r.propsOptions[0])o in i||(i[o]=void 0);e?r.props=n?i:pm(i):r.type.props?r.props=i:r.props=s,r.attrs=s}function nv(r,t,e,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=r,a=Ot(i),[c]=r.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=r.vnode.dynamicProps;for(let h=0;h<u.length;h++){let d=u[h];if(_a(r.emitsOptions,d))continue;const f=t[d];if(c)if(_t(s,d))f!==s[d]&&(s[d]=f,l=!0);else{const m=Yr(d);i[m]=Tc(c,a,m,f,r,!1)}else f!==s[d]&&(s[d]=f,l=!0)}}}else{Wd(r,t,i,s)&&(l=!0);let u;for(const h in a)(!t||!_t(t,h)&&((u=Qi(h))===h||!_t(t,u)))&&(c?e&&(e[h]!==void 0||e[u]!==void 0)&&(i[h]=Tc(c,a,h,void 0,r,!0)):delete i[h]);if(s!==a)for(const h in s)(!t||!_t(t,h))&&(delete s[h],l=!0)}l&&hn(r,"set","$attrs")}function Wd(r,t,e,n){const[i,s]=r.propsOptions;let o=!1,a;if(t)for(let c in t){if(mo(c))continue;const l=t[c];let u;i&&_t(i,u=Yr(c))?!s||!s.includes(u)?e[u]=l:(a||(a={}))[u]=l:_a(r.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=Ot(e),l=a||Vt;for(let u=0;u<s.length;u++){const h=s[u];e[h]=Tc(i,c,h,l[h],r,!_t(l,h))}}return o}function Tc(r,t,e,n,i,s){const o=r[e];if(o!=null){const a=_t(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&ht(c)){const{propsDefaults:l}=i;e in l?n=l[e]:($i(i),n=l[e]=c.call(null,t),ai())}else n=c}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===Qi(e))&&(n=!0))}return n}function Hd(r,t,e=!1){const n=t.propsCache,i=n.get(r);if(i)return i;const s=r.props,o={},a=[];let c=!1;if(!ht(r)){const u=h=>{c=!0;const[d,f]=Hd(h,t,!0);fe(o,d),f&&a.push(...f)};!e&&t.mixins.length&&t.mixins.forEach(u),r.extends&&u(r.extends),r.mixins&&r.mixins.forEach(u)}if(!s&&!c)return Xt(r)&&n.set(r,Ii),Ii;if(it(s))for(let u=0;u<s.length;u++){const h=Yr(s[u]);Gu(h)&&(o[h]=Vt)}else if(s)for(const u in s){const h=Yr(u);if(Gu(h)){const d=s[u],f=o[h]=it(d)||ht(d)?{type:d}:fe({},d);if(f){const m=Vu(Boolean,f.type),b=Vu(String,f.type);f[0]=m>-1,f[1]=b<0||m<b,(m>-1||_t(f,"default"))&&a.push(h)}}}const l=[o,a];return Xt(r)&&n.set(r,l),l}function Gu(r){return r[0]!=="$"}function ju(r){const t=r&&r.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:r===null?"null":""}function zu(r,t){return ju(r)===ju(t)}function Vu(r,t){return it(t)?t.findIndex(e=>zu(e,r)):ht(t)&&zu(t,r)?0:-1}const Yd=r=>r[0]==="_"||r==="$stable",gl=r=>it(r)?r.map(Pr):[Pr(r)],iv=(r,t,e)=>{if(t._n)return t;const n=Pd((...i)=>gl(t(...i)),e);return n._c=!1,n},qd=(r,t,e)=>{const n=r._ctx;for(const i in r){if(Yd(i))continue;const s=r[i];if(ht(s))t[i]=iv(i,s,n);else if(s!=null){const o=gl(s);t[i]=()=>o}}},Kd=(r,t)=>{const e=gl(t);r.slots.default=()=>e},sv=(r,t)=>{if(r.vnode.shapeFlag&32){const e=t._;e?(r.slots=Ot(t),Co(t,"_",e)):qd(t,r.slots={})}else r.slots={},t&&Kd(r,t);Co(r.slots,Da,1)},ov=(r,t,e)=>{const{vnode:n,slots:i}=r;let s=!0,o=Vt;if(n.shapeFlag&32){const a=t._;a?e&&a===1?s=!1:(fe(i,t),!e&&a===1&&delete i._):(s=!t.$stable,qd(t,i)),o=t}else t&&(Kd(r,t),o={default:1});if(s)for(const a in i)!Yd(a)&&o[a]==null&&delete i[a]};function Fc(r,t,e,n,i=!1){if(it(r)){r.forEach((d,f)=>Fc(d,t&&(it(t)?t[f]:t),e,n,i));return}if(Es(n)&&!i)return;const s=n.shapeFlag&4?vl(n.component)||n.component.proxy:n.el,o=i?null:s,{i:a,r:c}=r,l=t&&t.r,u=a.refs===Vt?a.refs={}:a.refs,h=a.setupState;if(l!=null&&l!==c&&(ce(l)?(u[l]=null,_t(h,l)&&(h[l]=null)):ze(l)&&(l.value=null)),ht(c))Cn(c,a,12,[o,u]);else{const d=ce(c),f=ze(c);if(d||f){const m=()=>{if(r.f){const b=d?_t(h,c)?h[c]:u[c]:c.value;i?it(b)&&el(b,s):it(b)?b.includes(s)||b.push(s):d?(u[c]=[s],_t(h,c)&&(h[c]=u[c])):(c.value=[s],r.k&&(u[r.k]=c.value))}else d?(u[c]=o,_t(h,c)&&(h[c]=o)):f&&(c.value=o,r.k&&(u[r.k]=o))};o?(m.id=-1,Be(m,e)):m()}}}const Be=Pm;function av(r){return cv(r)}function cv(r,t){const e=vc();e.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:h,nextSibling:d,setScopeId:f=Hr,insertStaticContent:m}=r,b=(p,v,C,R=null,x=null,P=null,G=!1,F=null,L=!!v.dynamicChildren)=>{if(p===v)return;p&&!us(p,v)&&(R=te(p),A(p,x,P,!0),p=null),v.patchFlag===-2&&(L=!1,v.dynamicChildren=null);const{type:g,ref:V,shapeFlag:z}=v;switch(g){case Ia:N(p,v,C,R);break;case Nn:D(p,v,C,R);break;case _o:p==null&&O(v,C,R,G);break;case mr:vt(p,v,C,R,x,P,G,F,L);break;default:z&1?S(p,v,C,R,x,P,G,F,L):z&6?Wt(p,v,C,R,x,P,G,F,L):(z&64||z&128)&&g.process(p,v,C,R,x,P,G,F,L,Xr)}V!=null&&x&&Fc(V,p&&p.ref,P,v||p,!v)},N=(p,v,C,R)=>{if(p==null)n(v.el=a(v.children),C,R);else{const x=v.el=p.el;v.children!==p.children&&l(x,v.children)}},D=(p,v,C,R)=>{p==null?n(v.el=c(v.children||""),C,R):v.el=p.el},O=(p,v,C,R)=>{[p.el,p.anchor]=m(p.children,v,C,R,p.el,p.anchor)},T=({el:p,anchor:v},C,R)=>{let x;for(;p&&p!==v;)x=d(p),n(p,C,R),p=x;n(v,C,R)},_=({el:p,anchor:v})=>{let C;for(;p&&p!==v;)C=d(p),i(p),p=C;i(v)},S=(p,v,C,R,x,P,G,F,L)=>{G=G||v.type==="svg",p==null?I(v,C,R,x,P,G,F,L):E(p,v,x,P,G,F,L)},I=(p,v,C,R,x,P,G,F)=>{let L,g;const{type:V,props:z,shapeFlag:W,transition:q,dirs:Z}=p;if(L=p.el=o(p.type,P,z&&z.is,z),W&8?u(L,p.children):W&16&&B(p.children,L,null,R,x,P&&V!=="foreignObject",G,F),Z&&Yn(p,null,R,"created"),M(L,p,p.scopeId,G,R),z){for(const wt in z)wt!=="value"&&!mo(wt)&&s(L,wt,null,z[wt],P,p.children,R,x,ge);"value"in z&&s(L,"value",null,z.value),(g=z.onVnodeBeforeMount)&&Tr(g,R,p)}Z&&Yn(p,null,R,"beforeMount");const bt=lv(x,q);bt&&q.beforeEnter(L),n(L,v,C),((g=z&&z.onVnodeMounted)||bt||Z)&&Be(()=>{g&&Tr(g,R,p),bt&&q.enter(L),Z&&Yn(p,null,R,"mounted")},x)},M=(p,v,C,R,x)=>{if(C&&f(p,C),R)for(let P=0;P<R.length;P++)f(p,R[P]);if(x){let P=x.subTree;if(v===P){const G=x.vnode;M(p,G,G.scopeId,G.slotScopeIds,x.parent)}}},B=(p,v,C,R,x,P,G,F,L=0)=>{for(let g=L;g<p.length;g++){const V=p[g]=F?Tn(p[g]):Pr(p[g]);b(null,V,v,C,R,x,P,G,F)}},E=(p,v,C,R,x,P,G)=>{const F=v.el=p.el;let{patchFlag:L,dynamicChildren:g,dirs:V}=v;L|=p.patchFlag&16;const z=p.props||Vt,W=v.props||Vt;let q;C&&qn(C,!1),(q=W.onVnodeBeforeUpdate)&&Tr(q,C,v,p),V&&Yn(v,p,C,"beforeUpdate"),C&&qn(C,!0);const Z=x&&v.type!=="foreignObject";if(g?ct(p.dynamicChildren,g,F,C,R,Z,P):G||y(p,v,F,null,C,R,Z,P,!1),L>0){if(L&16)yt(F,v,z,W,C,R,x);else if(L&2&&z.class!==W.class&&s(F,"class",null,W.class,x),L&4&&s(F,"style",z.style,W.style,x),L&8){const bt=v.dynamicProps;for(let wt=0;wt<bt.length;wt++){const jt=bt[wt],ye=z[jt],dr=W[jt];(dr!==ye||jt==="value")&&s(F,jt,ye,dr,x,p.children,C,R,ge)}}L&1&&p.children!==v.children&&u(F,v.children)}else!G&&g==null&&yt(F,v,z,W,C,R,x);((q=W.onVnodeUpdated)||V)&&Be(()=>{q&&Tr(q,C,v,p),V&&Yn(v,p,C,"updated")},R)},ct=(p,v,C,R,x,P,G)=>{for(let F=0;F<v.length;F++){const L=p[F],g=v[F],V=L.el&&(L.type===mr||!us(L,g)||L.shapeFlag&70)?h(L.el):C;b(L,g,V,null,R,x,P,G,!0)}},yt=(p,v,C,R,x,P,G)=>{if(C!==R){if(C!==Vt)for(const F in C)!mo(F)&&!(F in R)&&s(p,F,C[F],null,G,v.children,x,P,ge);for(const F in R){if(mo(F))continue;const L=R[F],g=C[F];L!==g&&F!=="value"&&s(p,F,g,L,G,v.children,x,P,ge)}"value"in R&&s(p,"value",C.value,R.value)}},vt=(p,v,C,R,x,P,G,F,L)=>{const g=v.el=p?p.el:a(""),V=v.anchor=p?p.anchor:a("");let{patchFlag:z,dynamicChildren:W,slotScopeIds:q}=v;q&&(F=F?F.concat(q):q),p==null?(n(g,C,R),n(V,C,R),B(v.children,C,V,x,P,G,F,L)):z>0&&z&64&&W&&p.dynamicChildren?(ct(p.dynamicChildren,W,C,x,P,G,F),(v.key!=null||x&&v===x.subTree)&&Zd(p,v,!0)):y(p,v,C,V,x,P,G,F,L)},Wt=(p,v,C,R,x,P,G,F,L)=>{v.slotScopeIds=F,p==null?v.shapeFlag&512?x.ctx.activate(v,C,R,G,L):dt(v,C,R,x,P,G,L):ue(p,v,L)},dt=(p,v,C,R,x,P,G)=>{const F=p.component=_v(p,R,x);if($d(p)&&(F.ctx.renderer=Xr),wv(F),F.asyncDep){if(x&&x.registerDep(F,Ht),!p.el){const L=F.subTree=Je(Nn);D(null,L,v,C)}return}Ht(F,p,v,C,x,P,G)},ue=(p,v,C)=>{const R=v.component=p.component;if(Fm(p,v,C))if(R.asyncDep&&!R.asyncResolved){H(R,v,C);return}else R.next=v,Em(R.update),R.update();else v.el=p.el,R.vnode=v},Ht=(p,v,C,R,x,P,G)=>{const F=()=>{if(p.isMounted){let{next:V,bu:z,u:W,parent:q,vnode:Z}=p,bt=V,wt;qn(p,!1),V?(V.el=Z.el,H(p,V,G)):V=Z,z&&Ja(z),(wt=V.props&&V.props.onVnodeBeforeUpdate)&&Tr(wt,q,V,Z),qn(p,!0);const jt=Qa(p),ye=p.subTree;p.subTree=jt,b(ye,jt,h(ye.el),te(ye),p,x,P),V.el=jt.el,bt===null&&xm(p,jt.el),W&&Be(W,x),(wt=V.props&&V.props.onVnodeUpdated)&&Be(()=>Tr(wt,q,V,Z),x)}else{let V;const{el:z,props:W}=v,{bm:q,m:Z,parent:bt}=p,wt=Es(v);if(qn(p,!1),q&&Ja(q),!wt&&(V=W&&W.onVnodeBeforeMount)&&Tr(V,bt,v),qn(p,!0),z&&Qs){const jt=()=>{p.subTree=Qa(p),Qs(z,p.subTree,p,x,null)};wt?v.type.__asyncLoader().then(()=>!p.isUnmounted&&jt()):jt()}else{const jt=p.subTree=Qa(p);b(null,jt,C,R,p,x,P),v.el=jt.el}if(Z&&Be(Z,x),!wt&&(V=W&&W.onVnodeMounted)){const jt=v;Be(()=>Tr(V,bt,jt),x)}(v.shapeFlag&256||bt&&Es(bt.vnode)&&bt.vnode.shapeFlag&256)&&p.a&&Be(p.a,x),p.isMounted=!0,v=C=R=null}},L=p.effect=new ol(F,()=>dl(g),p.scope),g=p.update=()=>L.run();g.id=p.uid,qn(p,!0),g()},H=(p,v,C)=>{v.component=p;const R=p.vnode.props;p.vnode=v,p.next=null,nv(p,v.props,R,C),ov(p,v.children,C),ts(),Ru(p),es()},y=(p,v,C,R,x,P,G,F,L=!1)=>{const g=p&&p.children,V=p?p.shapeFlag:0,z=v.children,{patchFlag:W,shapeFlag:q}=v;if(W>0){if(W&128){pe(g,z,C,R,x,P,G,F,L);return}else if(W&256){Qt(g,z,C,R,x,P,G,F,L);return}}q&8?(V&16&&ge(g,x,P),z!==g&&u(C,z)):V&16?q&16?pe(g,z,C,R,x,P,G,F,L):ge(g,x,P,!0):(V&8&&u(C,""),q&16&&B(z,C,R,x,P,G,F,L))},Qt=(p,v,C,R,x,P,G,F,L)=>{p=p||Ii,v=v||Ii;const g=p.length,V=v.length,z=Math.min(g,V);let W;for(W=0;W<z;W++){const q=v[W]=L?Tn(v[W]):Pr(v[W]);b(p[W],q,C,null,x,P,G,F,L)}g>V?ge(p,x,P,!0,!1,z):B(v,C,R,x,P,G,F,L,z)},pe=(p,v,C,R,x,P,G,F,L)=>{let g=0;const V=v.length;let z=p.length-1,W=V-1;for(;g<=z&&g<=W;){const q=p[g],Z=v[g]=L?Tn(v[g]):Pr(v[g]);if(us(q,Z))b(q,Z,C,null,x,P,G,F,L);else break;g++}for(;g<=z&&g<=W;){const q=p[z],Z=v[W]=L?Tn(v[W]):Pr(v[W]);if(us(q,Z))b(q,Z,C,null,x,P,G,F,L);else break;z--,W--}if(g>z){if(g<=W){const q=W+1,Z=q<V?v[q].el:R;for(;g<=W;)b(null,v[g]=L?Tn(v[g]):Pr(v[g]),C,Z,x,P,G,F,L),g++}}else if(g>W)for(;g<=z;)A(p[g],x,P,!0),g++;else{const q=g,Z=g,bt=new Map;for(g=Z;g<=W;g++){const oe=v[g]=L?Tn(v[g]):Pr(v[g]);oe.key!=null&&bt.set(oe.key,g)}let wt,jt=0;const ye=W-Z+1;let dr=!1,En=0;const Dr=new Array(ye);for(g=0;g<ye;g++)Dr[g]=0;for(g=q;g<=z;g++){const oe=p[g];if(jt>=ye){A(oe,x,P,!0);continue}let _e;if(oe.key!=null)_e=bt.get(oe.key);else for(wt=Z;wt<=W;wt++)if(Dr[wt-Z]===0&&us(oe,v[wt])){_e=wt;break}_e===void 0?A(oe,x,P,!0):(Dr[_e-Z]=g+1,_e>=En?En=_e:dr=!0,b(oe,v[_e],C,null,x,P,G,F,L),jt++)}const Or=dr?uv(Dr):Ii;for(wt=Or.length-1,g=ye-1;g>=0;g--){const oe=Z+g,_e=v[oe],Eu=oe+1<V?v[oe+1].el:R;Dr[g]===0?b(null,_e,C,Eu,x,P,G,F,L):dr&&(wt<0||g!==Or[wt]?U(_e,C,Eu,2):wt--)}}},U=(p,v,C,R,x=null)=>{const{el:P,type:G,transition:F,children:L,shapeFlag:g}=p;if(g&6){U(p.component.subTree,v,C,R);return}if(g&128){p.suspense.move(v,C,R);return}if(g&64){G.move(p,v,C,Xr);return}if(G===mr){n(P,v,C);for(let z=0;z<L.length;z++)U(L[z],v,C,R);n(p.anchor,v,C);return}if(G===_o){T(p,v,C);return}if(R!==2&&g&1&&F)if(R===0)F.beforeEnter(P),n(P,v,C),Be(()=>F.enter(P),x);else{const{leave:z,delayLeave:W,afterLeave:q}=F,Z=()=>n(P,v,C),bt=()=>{z(P,()=>{Z(),q&&q()})};W?W(P,Z,bt):bt()}else n(P,v,C)},A=(p,v,C,R=!1,x=!1)=>{const{type:P,props:G,ref:F,children:L,dynamicChildren:g,shapeFlag:V,patchFlag:z,dirs:W}=p;if(F!=null&&Fc(F,null,C,p,!0),V&256){v.ctx.deactivate(p);return}const q=V&1&&W,Z=!Es(p);let bt;if(Z&&(bt=G&&G.onVnodeBeforeUnmount)&&Tr(bt,v,p),V&6)Ir(p.component,C,R);else{if(V&128){p.suspense.unmount(C,R);return}q&&Yn(p,null,v,"beforeUnmount"),V&64?p.type.remove(p,v,C,x,Xr,R):g&&(P!==mr||z>0&&z&64)?ge(g,v,C,!1,!0):(P===mr&&z&384||!x&&V&16)&&ge(L,v,C),R&&mt(p)}(Z&&(bt=G&&G.onVnodeUnmounted)||q)&&Be(()=>{bt&&Tr(bt,v,p),q&&Yn(p,null,v,"unmounted")},C)},mt=p=>{const{type:v,el:C,anchor:R,transition:x}=p;if(v===mr){Pt(C,R);return}if(v===_o){_(p);return}const P=()=>{i(C),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(p.shapeFlag&1&&x&&!x.persisted){const{leave:G,delayLeave:F}=x,L=()=>G(C,P);F?F(p.el,P,L):L()}else P()},Pt=(p,v)=>{let C;for(;p!==v;)C=d(p),i(p),p=C;i(v)},Ir=(p,v,C)=>{const{bum:R,scope:x,update:P,subTree:G,um:F}=p;R&&Ja(R),x.stop(),P&&(P.active=!1,A(G,p,v,C)),F&&Be(F,v),Be(()=>{p.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&p.asyncDep&&!p.asyncResolved&&p.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},ge=(p,v,C,R=!1,x=!1,P=0)=>{for(let G=P;G<p.length;G++)A(p[G],v,C,R,x)},te=p=>p.shapeFlag&6?te(p.component.subTree):p.shapeFlag&128?p.suspense.next():d(p.anchor||p.el),K=(p,v,C)=>{p==null?v._vnode&&A(v._vnode,null,null,!0):b(v._vnode||null,p,v,null,null,null,C),Ru(),xd(),v._vnode=p},Xr={p:b,um:A,m:U,r:mt,mt:dt,mc:B,pc:y,pbc:ct,n:te,o:r};let Ye,Qs;return{render:K,hydrate:Ye,createApp:tv(K,Ye)}}function qn({effect:r,update:t},e){r.allowRecurse=t.allowRecurse=e}function lv(r,t){return(!r||r&&!r.pendingBranch)&&t&&!t.persisted}function Zd(r,t,e=!1){const n=r.children,i=t.children;if(it(n)&&it(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Tn(i[s]),a.el=o.el),e||Zd(o,a)),a.type===Ia&&(a.el=o.el)}}function uv(r){const t=r.slice(),e=[0];let n,i,s,o,a;const c=r.length;for(n=0;n<c;n++){const l=r[n];if(l!==0){if(i=e[e.length-1],r[i]<l){t[n]=i,e.push(n);continue}for(s=0,o=e.length-1;s<o;)a=s+o>>1,r[e[a]]<l?s=a+1:o=a;l<r[e[s]]&&(s>0&&(t[n]=e[s-1]),e[s]=n)}}for(s=e.length,o=e[s-1];s-- >0;)e[s]=o,o=t[o];return e}const hv=r=>r.__isTeleport,mr=Symbol.for("v-fgt"),Ia=Symbol.for("v-txt"),Nn=Symbol.for("v-cmt"),_o=Symbol.for("v-stc"),Is=[];let _r=null;function Rn(r=!1){Is.push(_r=r?null:[])}function dv(){Is.pop(),_r=Is[Is.length-1]||null}let Cs=1;function Wu(r){Cs+=r}function Jd(r){return r.dynamicChildren=Cs>0?_r||Ii:null,dv(),Cs>0&&_r&&_r.push(r),r}function Fi(r,t,e,n,i,s){return Jd(sr(r,t,e,n,i,s,!0))}function Xd(r,t,e,n,i){return Jd(Je(r,t,e,n,i,!0))}function Qd(r){return r?r.__v_isVNode===!0:!1}function us(r,t){return r.type===t.type&&r.key===t.key}const Da="__vInternal",tf=({key:r})=>r??null,wo=({ref:r,ref_key:t,ref_for:e})=>(typeof r=="number"&&(r=""+r),r!=null?ce(r)||ze(r)||ht(r)?{i:Le,r,k:t,f:!!e}:r:null);function sr(r,t=null,e=null,n=0,i=null,s=r===mr?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:r,props:t,key:t&&tf(t),ref:t&&wo(t),scopeId:wa,slotScopeIds:null,children:e,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Le};return a?(yl(c,e),s&128&&r.normalize(c)):e&&(c.shapeFlag|=ce(e)?8:16),Cs>0&&!o&&_r&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&_r.push(c),c}const Je=fv;function fv(r,t=null,e=null,n=0,i=null,s=!1){if((!r||r===Cm)&&(r=Nn),Qd(r)){const a=Ui(r,t,!0);return e&&yl(a,e),Cs>0&&!s&&_r&&(a.shapeFlag&6?_r[_r.indexOf(r)]=a:_r.push(a)),a.patchFlag|=-2,a}if(Dv(r)&&(r=r.__vccOpts),t){t=pv(t);let{class:a,style:c}=t;a&&!ce(a)&&(t.class=il(a)),Xt(c)&&(Ed(c)&&!it(c)&&(c=fe({},c)),t.style=nl(c))}const o=ce(r)?1:Bm(r)?128:hv(r)?64:Xt(r)?4:ht(r)?2:0;return sr(r,t,e,n,i,o,s,!0)}function pv(r){return r?Ed(r)||Da in r?fe({},r):r:null}function Ui(r,t,e=!1){const{props:n,ref:i,patchFlag:s,children:o}=r,a=t?mv(n||{},t):n;return{__v_isVNode:!0,__v_skip:!0,type:r.type,props:a,key:a&&tf(a),ref:t&&t.ref?e&&i?it(i)?i.concat(wo(t)):[i,wo(t)]:wo(t):i,scopeId:r.scopeId,slotScopeIds:r.slotScopeIds,children:o,target:r.target,targetAnchor:r.targetAnchor,staticCount:r.staticCount,shapeFlag:r.shapeFlag,patchFlag:t&&r.type!==mr?s===-1?16:s|16:s,dynamicProps:r.dynamicProps,dynamicChildren:r.dynamicChildren,appContext:r.appContext,dirs:r.dirs,transition:r.transition,component:r.component,suspense:r.suspense,ssContent:r.ssContent&&Ui(r.ssContent),ssFallback:r.ssFallback&&Ui(r.ssFallback),el:r.el,anchor:r.anchor,ctx:r.ctx,ce:r.ce}}function gv(r=" ",t=0){return Je(Ia,null,r,t)}function yv(r,t){const e=Je(_o,null,r);return e.staticCount=t,e}function xc(r="",t=!1){return t?(Rn(),Xd(Nn,null,r)):Je(Nn,null,r)}function Pr(r){return r==null||typeof r=="boolean"?Je(Nn):it(r)?Je(mr,null,r.slice()):typeof r=="object"?Tn(r):Je(Ia,null,String(r))}function Tn(r){return r.el===null&&r.patchFlag!==-1||r.memo?r:Ui(r)}function yl(r,t){let e=0;const{shapeFlag:n}=r;if(t==null)t=null;else if(it(t))e=16;else if(typeof t=="object")if(n&65){const i=t.default;i&&(i._c&&(i._d=!1),yl(r,i()),i._c&&(i._d=!0));return}else{e=32;const i=t._;!i&&!(Da in t)?t._ctx=Le:i===3&&Le&&(Le.slots._===1?t._=1:(t._=2,r.patchFlag|=1024))}else ht(t)?(t={default:t,_ctx:Le},e=32):(t=String(t),n&64?(e=16,t=[gv(t)]):e=8);r.children=t,r.shapeFlag|=e}function mv(...r){const t={};for(let e=0;e<r.length;e++){const n=r[e];for(const i in n)if(i==="class")t.class!==n.class&&(t.class=il([t.class,n.class]));else if(i==="style")t.style=nl([t.style,n.style]);else if(fa(i)){const s=t[i],o=n[i];o&&s!==o&&!(it(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=n[i])}return t}function Tr(r,t,e,n=null){wr(r,t,7,[e,n])}const vv=Vd();let bv=0;function _v(r,t,e){const n=r.type,i=(t?t.appContext:r.appContext)||vv,s={uid:bv++,vnode:r,type:n,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wy(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Hd(n,i),emitsOptions:Cd(n,i),emit:null,emitted:null,propsDefaults:Vt,inheritAttrs:n.inheritAttrs,ctx:Vt,data:Vt,props:Vt,attrs:Vt,slots:Vt,refs:Vt,setupState:Vt,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:e,suspenseId:e?e.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=Dm.bind(null,s),r.ce&&r.ce(s),s}let he=null,ml,gi,Hu="__VUE_INSTANCE_SETTERS__";(gi=vc()[Hu])||(gi=vc()[Hu]=[]),gi.push(r=>he=r),ml=r=>{gi.length>1?gi.forEach(t=>t(r)):gi[0](r)};const $i=r=>{ml(r),r.scope.on()},ai=()=>{he&&he.scope.off(),ml(null)};function ef(r){return r.vnode.shapeFlag&4}let Rs=!1;function wv(r,t=!1){Rs=t;const{props:e,children:n}=r.vnode,i=ef(r);rv(r,e,i,t),sv(r,n);const s=i?Sv(r,t):void 0;return Rs=!1,s}function Sv(r,t){const e=r.type;r.accessCache=Object.create(null),r.proxy=Ad(new Proxy(r.ctx,Ym));const{setup:n}=e;if(n){const i=r.setupContext=n.length>1?Av(r):null;$i(r),ts();const s=Cn(n,r,0,[r.props,i]);if(es(),ai(),ad(s)){if(s.then(ai,ai),t)return s.then(o=>{Yu(r,o,t)}).catch(o=>{ba(o,r,0)});r.asyncDep=s}else Yu(r,s,t)}else rf(r,t)}function Yu(r,t,e){ht(t)?r.type.__ssrInlineRender?r.ssrRender=t:r.render=t:Xt(t)&&(r.setupState=Od(t)),rf(r,e)}let qu;function rf(r,t,e){const n=r.type;if(!r.render){if(!t&&qu&&!n.render){const i=n.template||pl(r).template;if(i){const{isCustomElement:s,compilerOptions:o}=r.appContext.config,{delimiters:a,compilerOptions:c}=n,l=fe(fe({isCustomElement:s,delimiters:a},o),c);n.render=qu(i,l)}}r.render=n.render||Hr}{$i(r),ts();try{qm(r)}finally{es(),ai()}}}function Ev(r){return r.attrsProxy||(r.attrsProxy=new Proxy(r.attrs,{get(t,e){return je(r,"get","$attrs"),t[e]}}))}function Av(r){const t=e=>{r.exposed=e||{}};return{get attrs(){return Ev(r)},slots:r.slots,emit:r.emit,expose:t}}function vl(r){if(r.exposed)return r.exposeProxy||(r.exposeProxy=new Proxy(Od(Ad(r.exposed)),{get(t,e){if(e in t)return t[e];if(e in As)return As[e](r)},has(t,e){return e in t||e in As}}))}function Iv(r,t=!0){return ht(r)?r.displayName||r.name:r.name||t&&r.__name}function Dv(r){return ht(r)&&"__vccOpts"in r}const nf=(r,t)=>bm(r,t,Rs),Ov=Symbol.for("v-scx"),Tv=()=>bo(Ov),Fv="3.3.13",xv="http://www.w3.org/2000/svg",Qn=typeof document<"u"?document:null,Ku=Qn&&Qn.createElement("template"),Lv={insert:(r,t,e)=>{t.insertBefore(r,e||null)},remove:r=>{const t=r.parentNode;t&&t.removeChild(r)},createElement:(r,t,e,n)=>{const i=t?Qn.createElementNS(xv,r):Qn.createElement(r,e?{is:e}:void 0);return r==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:r=>Qn.createTextNode(r),createComment:r=>Qn.createComment(r),setText:(r,t)=>{r.nodeValue=t},setElementText:(r,t)=>{r.textContent=t},parentNode:r=>r.parentNode,nextSibling:r=>r.nextSibling,querySelector:r=>Qn.querySelector(r),setScopeId(r,t){r.setAttribute(t,"")},insertStaticContent(r,t,e,n,i,s){const o=e?e.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),e),!(i===s||!(i=i.nextSibling)););else{Ku.innerHTML=n?`<svg>${r}</svg>`:r;const a=Ku.content;if(n){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}t.insertBefore(a,e)}return[o?o.nextSibling:t.firstChild,e?e.previousSibling:t.lastChild]}},Cv=Symbol("_vtc");function Rv(r,t,e){const n=r[Cv];n&&(t=(t?[t,...n]:[...n]).join(" ")),t==null?r.removeAttribute("class"):e?r.setAttribute("class",t):r.className=t}const Bv=Symbol("_vod"),Pv=Symbol("");function Nv(r,t,e){const n=r.style,i=ce(e);if(e&&!i){if(t&&!ce(t))for(const s in t)e[s]==null&&Lc(n,s,"");for(const s in e)Lc(n,s,e[s])}else{const s=n.display;if(i){if(t!==e){const o=n[Pv];o&&(e+=";"+o),n.cssText=e}}else t&&r.removeAttribute("style");Bv in r&&(n.display=s)}}const Zu=/\s*!important$/;function Lc(r,t,e){if(it(e))e.forEach(n=>Lc(r,t,n));else if(e==null&&(e=""),t.startsWith("--"))r.setProperty(t,e);else{const n=Mv(r,t);Zu.test(e)?r.setProperty(Qi(n),e.replace(Zu,""),"important"):r[n]=e}}const Ju=["Webkit","Moz","ms"],ec={};function Mv(r,t){const e=ec[t];if(e)return e;let n=Yr(t);if(n!=="filter"&&n in r)return ec[t]=n;n=ya(n);for(let i=0;i<Ju.length;i++){const s=Ju[i]+n;if(s in r)return ec[t]=s}return t}const Xu="http://www.w3.org/1999/xlink";function Uv(r,t,e,n,i){if(n&&t.startsWith("xlink:"))e==null?r.removeAttributeNS(Xu,t.slice(6,t.length)):r.setAttributeNS(Xu,t,e);else{const s=Vy(t);e==null||s&&!ud(e)?r.removeAttribute(t):r.setAttribute(t,s?"":e)}}function $v(r,t,e,n,i,s,o){if(t==="innerHTML"||t==="textContent"){n&&o(n,i,s),r[t]=e??"";return}const a=r.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){r._value=e;const l=a==="OPTION"?r.getAttribute("value"):r.value,u=e??"";l!==u&&(r.value=u),e==null&&r.removeAttribute(t);return}let c=!1;if(e===""||e==null){const l=typeof r[t];l==="boolean"?e=ud(e):e==null&&l==="string"?(e="",c=!0):l==="number"&&(e=0,c=!0)}try{r[t]=e}catch{}c&&r.removeAttribute(t)}function kv(r,t,e,n){r.addEventListener(t,e,n)}function Gv(r,t,e,n){r.removeEventListener(t,e,n)}const Qu=Symbol("_vei");function jv(r,t,e,n,i=null){const s=r[Qu]||(r[Qu]={}),o=s[t];if(n&&o)o.value=n;else{const[a,c]=zv(t);if(n){const l=s[t]=Hv(n,i);kv(r,a,l,c)}else o&&(Gv(r,a,o,c),s[t]=void 0)}}const th=/(?:Once|Passive|Capture)$/;function zv(r){let t;if(th.test(r)){t={};let n;for(;n=r.match(th);)r=r.slice(0,r.length-n[0].length),t[n[0].toLowerCase()]=!0}return[r[2]===":"?r.slice(3):Qi(r.slice(2)),t]}let rc=0;const Vv=Promise.resolve(),Wv=()=>rc||(Vv.then(()=>rc=0),rc=Date.now());function Hv(r,t){const e=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=e.attached)return;wr(Yv(n,e.value),t,5,[n])};return e.value=r,e.attached=Wv(),e}function Yv(r,t){if(it(t)){const e=r.stopImmediatePropagation;return r.stopImmediatePropagation=()=>{e.call(r),r._stopped=!0},t.map(n=>i=>!i._stopped&&n&&n(i))}else return t}const eh=r=>r.charCodeAt(0)===111&&r.charCodeAt(1)===110&&r.charCodeAt(2)>96&&r.charCodeAt(2)<123,qv=(r,t,e,n,i=!1,s,o,a,c)=>{t==="class"?Rv(r,n,i):t==="style"?Nv(r,e,n):fa(t)?tl(t)||jv(r,t,e,n,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Kv(r,t,n,i))?$v(r,t,n,s,o,a,c):(t==="true-value"?r._trueValue=n:t==="false-value"&&(r._falseValue=n),Uv(r,t,n,i))};function Kv(r,t,e,n){if(n)return!!(t==="innerHTML"||t==="textContent"||t in r&&eh(t)&&ht(e));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&r.tagName==="INPUT"||t==="type"&&r.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){const i=r.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return eh(t)&&ce(e)?!1:t in r}const Zv=fe({patchProp:qv},Lv);let rh;function Jv(){return rh||(rh=av(Zv))}const Xv=(...r)=>{const t=Jv().createApp(...r),{mount:e}=t;return t.mount=n=>{const i=Qv(n);if(!i)return;const s=t._component;!ht(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=e(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t};function Qv(r){return ce(r)?document.querySelector(r):r}var k=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function rs(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bl={exports:{}},xi=typeof Reflect=="object"?Reflect:null,nh=xi&&typeof xi.apply=="function"?xi.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)},So;xi&&typeof xi.ownKeys=="function"?So=xi.ownKeys:Object.getOwnPropertySymbols?So=function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:So=function(t){return Object.getOwnPropertyNames(t)};function tb(r){console&&console.warn&&console.warn(r)}var sf=Number.isNaN||function(t){return t!==t};function Nt(){Nt.init.call(this)}bl.exports=Nt;bl.exports.once=ib;Nt.EventEmitter=Nt;Nt.prototype._events=void 0;Nt.prototype._eventsCount=0;Nt.prototype._maxListeners=void 0;var ih=10;function Oa(r){if(typeof r!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof r)}Object.defineProperty(Nt,"defaultMaxListeners",{enumerable:!0,get:function(){return ih},set:function(r){if(typeof r!="number"||r<0||sf(r))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+r+".");ih=r}});Nt.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};Nt.prototype.setMaxListeners=function(t){if(typeof t!="number"||t<0||sf(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this};function of(r){return r._maxListeners===void 0?Nt.defaultMaxListeners:r._maxListeners}Nt.prototype.getMaxListeners=function(){return of(this)};Nt.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i=t==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(e.length>0&&(o=e[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[t];if(c===void 0)return!1;if(typeof c=="function")nh(c,this,e);else for(var l=c.length,u=hf(c,l),n=0;n<l;++n)nh(u[n],this,e);return!0};function af(r,t,e,n){var i,s,o;if(Oa(e),s=r._events,s===void 0?(s=r._events=Object.create(null),r._eventsCount=0):(s.newListener!==void 0&&(r.emit("newListener",t,e.listener?e.listener:e),s=r._events),o=s[t]),o===void 0)o=s[t]=e,++r._eventsCount;else if(typeof o=="function"?o=s[t]=n?[e,o]:[o,e]:n?o.unshift(e):o.push(e),i=of(r),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=r,a.type=t,a.count=o.length,tb(a)}return r}Nt.prototype.addListener=function(t,e){return af(this,t,e,!1)};Nt.prototype.on=Nt.prototype.addListener;Nt.prototype.prependListener=function(t,e){return af(this,t,e,!0)};function eb(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function cf(r,t,e){var n={fired:!1,wrapFn:void 0,target:r,type:t,listener:e},i=eb.bind(n);return i.listener=e,n.wrapFn=i,i}Nt.prototype.once=function(t,e){return Oa(e),this.on(t,cf(this,t,e)),this};Nt.prototype.prependOnceListener=function(t,e){return Oa(e),this.prependListener(t,cf(this,t,e)),this};Nt.prototype.removeListener=function(t,e){var n,i,s,o,a;if(Oa(e),i=this._events,i===void 0)return this;if(n=i[t],n===void 0)return this;if(n===e||n.listener===e)--this._eventsCount===0?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if(typeof n!="function"){for(s=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,s=o;break}if(s<0)return this;s===0?n.shift():rb(n,s),n.length===1&&(i[t]=n[0]),i.removeListener!==void 0&&this.emit("removeListener",t,a||e)}return this};Nt.prototype.off=Nt.prototype.removeListener;Nt.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[t]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[t]),this;if(arguments.length===0){var s=Object.keys(n),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],typeof e=="function")this.removeListener(t,e);else if(e!==void 0)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this};function lf(r,t,e){var n=r._events;if(n===void 0)return[];var i=n[t];return i===void 0?[]:typeof i=="function"?e?[i.listener||i]:[i]:e?nb(i):hf(i,i.length)}Nt.prototype.listeners=function(t){return lf(this,t,!0)};Nt.prototype.rawListeners=function(t){return lf(this,t,!1)};Nt.listenerCount=function(r,t){return typeof r.listenerCount=="function"?r.listenerCount(t):uf.call(r,t)};Nt.prototype.listenerCount=uf;function uf(r){var t=this._events;if(t!==void 0){var e=t[r];if(typeof e=="function")return 1;if(e!==void 0)return e.length}return 0}Nt.prototype.eventNames=function(){return this._eventsCount>0?So(this._events):[]};function hf(r,t){for(var e=new Array(t),n=0;n<t;++n)e[n]=r[n];return e}function rb(r,t){for(;t+1<r.length;t++)r[t]=r[t+1];r.pop()}function nb(r){for(var t=new Array(r.length),e=0;e<t.length;++e)t[e]=r[e].listener||r[e];return t}function ib(r,t){return new Promise(function(e,n){function i(o){r.removeListener(t,s),n(o)}function s(){typeof r.removeListener=="function"&&r.removeListener("error",i),e([].slice.call(arguments))}df(r,t,s,{once:!0}),t!=="error"&&sb(r,i,{once:!0})})}function sb(r,t,e){typeof r.on=="function"&&df(r,"error",t,e)}function df(r,t,e,n){if(typeof r.on=="function")n.once?r.once(t,e):r.on(t,e);else if(typeof r.addEventListener=="function")r.addEventListener(t,function i(s){n.once&&r.removeEventListener(t,i),e(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof r)}var ff=bl.exports;function qr(r){if(typeof r!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=r}typeof Symbol<"u"&&(qr.prototype[Symbol.iterator]=function(){return this});qr.of=function(){var r=arguments,t=r.length,e=0;return new qr(function(){return e>=t?{done:!0}:{done:!1,value:r[e++]}})};qr.empty=function(){var r=new qr(function(){return{done:!0}});return r};qr.fromSequence=function(r){var t=0,e=r.length;return new qr(function(){return t>=e?{done:!0}:{done:!1,value:r[t++]}})};qr.is=function(r){return r instanceof qr?!0:typeof r=="object"&&r!==null&&typeof r.next=="function"};var _l=qr;const ur=rs(_l);var wl={};wl.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";wl.SYMBOL_SUPPORT=typeof Symbol<"u";var ob=_l,pf=wl,ab=pf.ARRAY_BUFFER_SUPPORT,cb=pf.SYMBOL_SUPPORT;function lb(r){return typeof r=="string"||Array.isArray(r)||ab&&ArrayBuffer.isView(r)?ob.fromSequence(r):typeof r!="object"||r===null?null:cb&&typeof r[Symbol.iterator]=="function"?r[Symbol.iterator]():typeof r.next=="function"?r:null}var gf=function(t){var e=lb(t);if(!e)throw new Error("obliterator: target is not iterable nor a valid iterator.");return e},ub=gf,hb=function(t,e){for(var n=arguments.length>1?e:1/0,i=n!==1/0?new Array(n):[],s,o=0,a=ub(t);;){if(o===n)return i;if(s=a.next(),s.done)return o!==e&&(i.length=o),i;i[o++]=s.value}};const yf=rs(hb);var db=_l,fb=gf,pb=function(){var t=arguments,e=null,n=-1;return new db(function(){var s=null;do{if(e===null){if(n++,n>=t.length)return{done:!0};e=fb(t[n])}if(s=e.next(),s.done===!0){e=null;continue}break}while(!0);return s})};const dn=rs(pb);function gb(){const r=arguments[0];for(let t=1,e=arguments.length;t<e;t++)if(arguments[t])for(const n in arguments[t])r[n]=arguments[t][n];return r}let ne=gb;typeof Object.assign=="function"&&(ne=Object.assign);function lr(r,t,e,n){const i=r._nodes.get(t);let s=null;return i&&(n==="mixed"?s=i.out&&i.out[e]||i.undirected&&i.undirected[e]:n==="directed"?s=i.out&&i.out[e]:s=i.undirected&&i.undirected[e]),s}function yb(r){return r!==null&&typeof r=="object"&&typeof r.addUndirectedEdgeWithKey=="function"&&typeof r.dropNode=="function"}function de(r){return typeof r=="object"&&r!==null&&r.constructor===Object}function mf(r){let t;for(t in r)return!1;return!0}function er(r,t,e){Object.defineProperty(r,t,{enumerable:!1,configurable:!1,writable:!0,value:e})}function fr(r,t,e){const n={enumerable:!0,configurable:!0};typeof e=="function"?n.get=e:(n.value=e,n.writable=!1),Object.defineProperty(r,t,n)}function sh(r){return!(!de(r)||r.attributes&&!Array.isArray(r.attributes))}function mb(){let r=Math.floor(Math.random()*256)&255;return()=>r++}class Sl extends Error{constructor(t){super(),this.name="GraphError",this.message=t}}class j extends Sl{constructor(t){super(t),this.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,j.prototype.constructor)}}class $ extends Sl{constructor(t){super(t),this.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,$.prototype.constructor)}}class Y extends Sl{constructor(t){super(t),this.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Y.prototype.constructor)}}function vf(r,t){this.key=r,this.attributes=t,this.clear()}vf.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.in={},this.out={},this.undirected={}};function bf(r,t){this.key=r,this.attributes=t,this.clear()}bf.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.in={},this.out={}};function _f(r,t){this.key=r,this.attributes=t,this.clear()}_f.prototype.clear=function(){this.undirectedDegree=0,this.undirected={}};function ns(r,t,e,n,i){this.key=t,this.attributes=i,this.undirected=r,this.source=e,this.target=n}ns.prototype.attach=function(){let r="out",t="in";this.undirected&&(r=t="undirected");const e=this.source.key,n=this.target.key;this.source[r][n]=this,!(this.undirected&&e===n)&&(this.target[t][e]=this)};ns.prototype.attachMulti=function(){let r="out",t="in";const e=this.source.key,n=this.target.key;this.undirected&&(r=t="undirected");const i=this.source[r],s=i[n];if(typeof s>"u"){i[n]=this,this.undirected&&e===n||(this.target[t][e]=this);return}s.previous=this,this.next=s,i[n]=this,this.target[t][e]=this};ns.prototype.detach=function(){const r=this.source.key,t=this.target.key;let e="out",n="in";this.undirected&&(e=n="undirected"),delete this.source[e][t],delete this.target[n][r]};ns.prototype.detachMulti=function(){const r=this.source.key,t=this.target.key;let e="out",n="in";this.undirected&&(e=n="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[e][t],delete this.target[n][r]):(this.next.previous=void 0,this.source[e][t]=this.next,this.target[n][r]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};const wf=0,Sf=1,vb=2,Ef=3;function vn(r,t,e,n,i,s,o){let a,c,l,u;if(n=""+n,e===wf){if(a=r._nodes.get(n),!a)throw new $(`Graph.${t}: could not find the "${n}" node in the graph.`);l=i,u=s}else if(e===Ef){if(i=""+i,c=r._edges.get(i),!c)throw new $(`Graph.${t}: could not find the "${i}" edge in the graph.`);const h=c.source.key,d=c.target.key;if(n===h)a=c.target;else if(n===d)a=c.source;else throw new $(`Graph.${t}: the "${n}" node is not attached to the "${i}" edge (${h}, ${d}).`);l=s,u=o}else{if(c=r._edges.get(n),!c)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`);e===Sf?a=c.source:a=c.target,l=i,u=s}return[a,l,u]}function bb(r,t,e){r.prototype[t]=function(n,i,s){const[o,a]=vn(this,t,e,n,i,s);return o.attributes[a]}}function _b(r,t,e){r.prototype[t]=function(n,i){const[s]=vn(this,t,e,n,i);return s.attributes}}function wb(r,t,e){r.prototype[t]=function(n,i,s){const[o,a]=vn(this,t,e,n,i,s);return o.attributes.hasOwnProperty(a)}}function Sb(r,t,e){r.prototype[t]=function(n,i,s,o){const[a,c,l]=vn(this,t,e,n,i,s,o);return a.attributes[c]=l,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:c}),this}}function Eb(r,t,e){r.prototype[t]=function(n,i,s,o){const[a,c,l]=vn(this,t,e,n,i,s,o);if(typeof l!="function")throw new j(`Graph.${t}: updater should be a function.`);const u=a.attributes,h=l(u[c]);return u[c]=h,this.emit("nodeAttributesUpdated",{key:a.key,type:"set",attributes:a.attributes,name:c}),this}}function Ab(r,t,e){r.prototype[t]=function(n,i,s){const[o,a]=vn(this,t,e,n,i,s);return delete o.attributes[a],this.emit("nodeAttributesUpdated",{key:o.key,type:"remove",attributes:o.attributes,name:a}),this}}function Ib(r,t,e){r.prototype[t]=function(n,i,s){const[o,a]=vn(this,t,e,n,i,s);if(!de(a))throw new j(`Graph.${t}: provided attributes are not a plain object.`);return o.attributes=a,this.emit("nodeAttributesUpdated",{key:o.key,type:"replace",attributes:o.attributes}),this}}function Db(r,t,e){r.prototype[t]=function(n,i,s){const[o,a]=vn(this,t,e,n,i,s);if(!de(a))throw new j(`Graph.${t}: provided attributes are not a plain object.`);return ne(o.attributes,a),this.emit("nodeAttributesUpdated",{key:o.key,type:"merge",attributes:o.attributes,data:a}),this}}function Ob(r,t,e){r.prototype[t]=function(n,i,s){const[o,a]=vn(this,t,e,n,i,s);if(typeof a!="function")throw new j(`Graph.${t}: provided updater is not a function.`);return o.attributes=a(o.attributes),this.emit("nodeAttributesUpdated",{key:o.key,type:"update",attributes:o.attributes}),this}}const Tb=[{name:r=>`get${r}Attribute`,attacher:bb},{name:r=>`get${r}Attributes`,attacher:_b},{name:r=>`has${r}Attribute`,attacher:wb},{name:r=>`set${r}Attribute`,attacher:Sb},{name:r=>`update${r}Attribute`,attacher:Eb},{name:r=>`remove${r}Attribute`,attacher:Ab},{name:r=>`replace${r}Attributes`,attacher:Ib},{name:r=>`merge${r}Attributes`,attacher:Db},{name:r=>`update${r}Attributes`,attacher:Ob}];function Fb(r){Tb.forEach(function({name:t,attacher:e}){e(r,t("Node"),wf),e(r,t("Source"),Sf),e(r,t("Target"),vb),e(r,t("Opposite"),Ef)})}function xb(r,t,e){r.prototype[t]=function(n,i){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+n,a=""+i;if(i=arguments[2],s=lr(this,o,a,e),!s)throw new $(`Graph.${t}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return s.attributes[i]}}function Lb(r,t,e){r.prototype[t]=function(n){let i;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>1){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const s=""+n,o=""+arguments[1];if(i=lr(this,s,o,e),!i)throw new $(`Graph.${t}: could not find an edge for the given path ("${s}" - "${o}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,i=this._edges.get(n),!i)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return i.attributes}}function Cb(r,t,e){r.prototype[t]=function(n,i){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+n,a=""+i;if(i=arguments[2],s=lr(this,o,a,e),!s)throw new $(`Graph.${t}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return s.attributes.hasOwnProperty(i)}}function Rb(r,t,e){r.prototype[t]=function(n,i,s){let o;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+n,c=""+i;if(i=arguments[2],s=arguments[3],o=lr(this,a,c,e),!o)throw new $(`Graph.${t}: could not find an edge for the given path ("${a}" - "${c}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,o=this._edges.get(n),!o)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return o.attributes[i]=s,this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:i}),this}}function Bb(r,t,e){r.prototype[t]=function(n,i,s){let o;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>3){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const a=""+n,c=""+i;if(i=arguments[2],s=arguments[3],o=lr(this,a,c,e),!o)throw new $(`Graph.${t}: could not find an edge for the given path ("${a}" - "${c}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,o=this._edges.get(n),!o)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(typeof s!="function")throw new j(`Graph.${t}: updater should be a function.`);return o.attributes[i]=s(o.attributes[i]),this.emit("edgeAttributesUpdated",{key:o.key,type:"set",attributes:o.attributes,name:i}),this}}function Pb(r,t,e){r.prototype[t]=function(n,i){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+n,a=""+i;if(i=arguments[2],s=lr(this,o,a,e),!s)throw new $(`Graph.${t}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}return delete s.attributes[i],this.emit("edgeAttributesUpdated",{key:s.key,type:"remove",attributes:s.attributes,name:i}),this}}function Nb(r,t,e){r.prototype[t]=function(n,i){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+n,a=""+i;if(i=arguments[2],s=lr(this,o,a,e),!s)throw new $(`Graph.${t}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(!de(i))throw new j(`Graph.${t}: provided attributes are not a plain object.`);return s.attributes=i,this.emit("edgeAttributesUpdated",{key:s.key,type:"replace",attributes:s.attributes}),this}}function Mb(r,t,e){r.prototype[t]=function(n,i){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+n,a=""+i;if(i=arguments[2],s=lr(this,o,a,e),!s)throw new $(`Graph.${t}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(!de(i))throw new j(`Graph.${t}: provided attributes are not a plain object.`);return ne(s.attributes,i),this.emit("edgeAttributesUpdated",{key:s.key,type:"merge",attributes:s.attributes,data:i}),this}}function Ub(r,t,e){r.prototype[t]=function(n,i){let s;if(this.type!=="mixed"&&e!=="mixed"&&e!==this.type)throw new Y(`Graph.${t}: cannot find this type of edges in your ${this.type} graph.`);if(arguments.length>2){if(this.multi)throw new Y(`Graph.${t}: cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about.`);const o=""+n,a=""+i;if(i=arguments[2],s=lr(this,o,a,e),!s)throw new $(`Graph.${t}: could not find an edge for the given path ("${o}" - "${a}").`)}else{if(e!=="mixed")throw new Y(`Graph.${t}: calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type.`);if(n=""+n,s=this._edges.get(n),!s)throw new $(`Graph.${t}: could not find the "${n}" edge in the graph.`)}if(typeof i!="function")throw new j(`Graph.${t}: provided updater is not a function.`);return s.attributes=i(s.attributes),this.emit("edgeAttributesUpdated",{key:s.key,type:"update",attributes:s.attributes}),this}}const $b=[{name:r=>`get${r}Attribute`,attacher:xb},{name:r=>`get${r}Attributes`,attacher:Lb},{name:r=>`has${r}Attribute`,attacher:Cb},{name:r=>`set${r}Attribute`,attacher:Rb},{name:r=>`update${r}Attribute`,attacher:Bb},{name:r=>`remove${r}Attribute`,attacher:Pb},{name:r=>`replace${r}Attributes`,attacher:Nb},{name:r=>`merge${r}Attributes`,attacher:Mb},{name:r=>`update${r}Attributes`,attacher:Ub}];function kb(r){$b.forEach(function({name:t,attacher:e}){e(r,t("Edge"),"mixed"),e(r,t("DirectedEdge"),"directed"),e(r,t("UndirectedEdge"),"undirected")})}const Gb=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function jb(r,t,e,n){let i=!1;for(const s in t){if(s===n)continue;const o=t[s];if(i=e(o.key,o.attributes,o.source.key,o.target.key,o.source.attributes,o.target.attributes,o.undirected),r&&i)return o.key}}function zb(r,t,e,n){let i,s,o,a=!1;for(const c in t)if(c!==n){i=t[c];do{if(s=i.source,o=i.target,a=e(i.key,i.attributes,s.key,o.key,s.attributes,o.attributes,i.undirected),r&&a)return i.key;i=i.next}while(i!==void 0)}}function nc(r,t){const e=Object.keys(r),n=e.length;let i,s=0;return new ur(function(){do if(i)i=i.next;else{if(s>=n)return{done:!0};const a=e[s++];if(a===t){i=void 0;continue}i=r[a]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}})}function Vb(r,t,e,n){const i=t[e];if(!i)return;const s=i.source,o=i.target;if(n(i.key,i.attributes,s.key,o.key,s.attributes,o.attributes,i.undirected)&&r)return i.key}function Wb(r,t,e,n){let i=t[e];if(!i)return;let s=!1;do{if(s=n(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),r&&s)return i.key;i=i.next}while(i!==void 0)}function ic(r,t){let e=r[t];return e.next!==void 0?new ur(function(){if(!e)return{done:!0};const n={edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected};return e=e.next,{done:!1,value:n}}):ur.of({edge:e.key,attributes:e.attributes,source:e.source.key,target:e.target.key,sourceAttributes:e.source.attributes,targetAttributes:e.target.attributes,undirected:e.undirected})}function Hb(r,t){if(r.size===0)return[];if(t==="mixed"||t===r.type)return typeof Array.from=="function"?Array.from(r._edges.keys()):yf(r._edges.keys(),r._edges.size);const e=t==="undirected"?r.undirectedSize:r.directedSize,n=new Array(e),i=t==="undirected",s=r._edges.values();let o=0,a,c;for(;a=s.next(),a.done!==!0;)c=a.value,c.undirected===i&&(n[o++]=c.key);return n}function Af(r,t,e,n){if(t.size===0)return;const i=e!=="mixed"&&e!==t.type,s=e==="undirected";let o,a,c=!1;const l=t._edges.values();for(;o=l.next(),o.done!==!0;){if(a=o.value,i&&a.undirected!==s)continue;const{key:u,attributes:h,source:d,target:f}=a;if(c=n(u,h,d.key,f.key,d.attributes,f.attributes,a.undirected),r&&c)return u}}function Yb(r,t){if(r.size===0)return ur.empty();const e=t!=="mixed"&&t!==r.type,n=t==="undirected",i=r._edges.values();return new ur(function(){let o,a;for(;;){if(o=i.next(),o.done)return o;if(a=o.value,!(e&&a.undirected!==n))break}return{value:{edge:a.key,attributes:a.attributes,source:a.source.key,target:a.target.key,sourceAttributes:a.source.attributes,targetAttributes:a.target.attributes,undirected:a.undirected},done:!1}})}function El(r,t,e,n,i,s){const o=t?zb:jb;let a;if(e!=="undirected"&&(n!=="out"&&(a=o(r,i.in,s),r&&a)||n!=="in"&&(a=o(r,i.out,s,n?void 0:i.key),r&&a))||e!=="directed"&&(a=o(r,i.undirected,s),r&&a))return a}function qb(r,t,e,n){const i=[];return El(!1,r,t,e,n,function(s){i.push(s)}),i}function Kb(r,t,e){let n=ur.empty();return r!=="undirected"&&(t!=="out"&&typeof e.in<"u"&&(n=dn(n,nc(e.in))),t!=="in"&&typeof e.out<"u"&&(n=dn(n,nc(e.out,t?void 0:e.key)))),r!=="directed"&&typeof e.undirected<"u"&&(n=dn(n,nc(e.undirected))),n}function Al(r,t,e,n,i,s,o){const a=e?Wb:Vb;let c;if(t!=="undirected"&&(typeof i.in<"u"&&n!=="out"&&(c=a(r,i.in,s,o),r&&c)||typeof i.out<"u"&&n!=="in"&&(n||i.key!==s)&&(c=a(r,i.out,s,o),r&&c))||t!=="directed"&&typeof i.undirected<"u"&&(c=a(r,i.undirected,s,o),r&&c))return c}function Zb(r,t,e,n,i){const s=[];return Al(!1,r,t,e,n,i,function(o){s.push(o)}),s}function Jb(r,t,e,n){let i=ur.empty();return r!=="undirected"&&(typeof e.in<"u"&&t!=="out"&&n in e.in&&(i=dn(i,ic(e.in,n))),typeof e.out<"u"&&t!=="in"&&n in e.out&&(t||e.key!==n)&&(i=dn(i,ic(e.out,n)))),r!=="directed"&&typeof e.undirected<"u"&&n in e.undirected&&(i=dn(i,ic(e.undirected,n))),i}function Xb(r,t){const{name:e,type:n,direction:i}=t;r.prototype[e]=function(s,o){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];if(!arguments.length)return Hb(this,n);if(arguments.length===1){s=""+s;const a=this._nodes.get(s);if(typeof a>"u")throw new $(`Graph.${e}: could not find the "${s}" node in the graph.`);return qb(this.multi,n==="mixed"?this.type:n,i,a)}if(arguments.length===2){s=""+s,o=""+o;const a=this._nodes.get(s);if(!a)throw new $(`Graph.${e}:  could not find the "${s}" source node in the graph.`);if(!this._nodes.has(o))throw new $(`Graph.${e}:  could not find the "${o}" target node in the graph.`);return Zb(n,this.multi,i,a,o)}throw new j(`Graph.${e}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function Qb(r,t){const{name:e,type:n,direction:i}=t,s="forEach"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[s]=function(l,u,h){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){if(arguments.length===1)return h=l,Af(!1,this,n,h);if(arguments.length===2){l=""+l,h=u;const d=this._nodes.get(l);if(typeof d>"u")throw new $(`Graph.${s}: could not find the "${l}" node in the graph.`);return El(!1,this.multi,n==="mixed"?this.type:n,i,d,h)}if(arguments.length===3){l=""+l,u=""+u;const d=this._nodes.get(l);if(!d)throw new $(`Graph.${s}:  could not find the "${l}" source node in the graph.`);if(!this._nodes.has(u))throw new $(`Graph.${s}:  could not find the "${u}" target node in the graph.`);return Al(!1,n,this.multi,i,d,u,h)}throw new j(`Graph.${s}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)}};const o="map"+e[0].toUpperCase()+e.slice(1);r.prototype[o]=function(){const l=Array.prototype.slice.call(arguments),u=l.pop();let h;if(l.length===0){let d=0;n!=="directed"&&(d+=this.undirectedSize),n!=="undirected"&&(d+=this.directedSize),h=new Array(d);let f=0;l.push((m,b,N,D,O,T,_)=>{h[f++]=u(m,b,N,D,O,T,_)})}else h=[],l.push((d,f,m,b,N,D,O)=>{h.push(u(d,f,m,b,N,D,O))});return this[s].apply(this,l),h};const a="filter"+e[0].toUpperCase()+e.slice(1);r.prototype[a]=function(){const l=Array.prototype.slice.call(arguments),u=l.pop(),h=[];return l.push((d,f,m,b,N,D,O)=>{u(d,f,m,b,N,D,O)&&h.push(d)}),this[s].apply(this,l),h};const c="reduce"+e[0].toUpperCase()+e.slice(1);r.prototype[c]=function(){let l=Array.prototype.slice.call(arguments);if(l.length<2||l.length>4)throw new j(`Graph.${c}: invalid number of arguments (expecting 2, 3 or 4 and got ${l.length}).`);if(typeof l[l.length-1]=="function"&&typeof l[l.length-2]!="function")throw new j(`Graph.${c}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let u,h;l.length===2?(u=l[0],h=l[1],l=[]):l.length===3?(u=l[1],h=l[2],l=[l[0]]):l.length===4&&(u=l[2],h=l[3],l=[l[0],l[1]]);let d=h;return l.push((f,m,b,N,D,O,T)=>{d=u(d,f,m,b,N,D,O,T)}),this[s].apply(this,l),d}}function t_(r,t){const{name:e,type:n,direction:i}=t,s="find"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[s]=function(c,l,u){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return!1;if(arguments.length===1)return u=c,Af(!0,this,n,u);if(arguments.length===2){c=""+c,u=l;const h=this._nodes.get(c);if(typeof h>"u")throw new $(`Graph.${s}: could not find the "${c}" node in the graph.`);return El(!0,this.multi,n==="mixed"?this.type:n,i,h,u)}if(arguments.length===3){c=""+c,l=""+l;const h=this._nodes.get(c);if(!h)throw new $(`Graph.${s}:  could not find the "${c}" source node in the graph.`);if(!this._nodes.has(l))throw new $(`Graph.${s}:  could not find the "${l}" target node in the graph.`);return Al(!0,n,this.multi,i,h,l,u)}throw new j(`Graph.${s}: too many arguments (expecting 1, 2 or 3 and got ${arguments.length}).`)};const o="some"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[o]=function(){const c=Array.prototype.slice.call(arguments),l=c.pop();return c.push((h,d,f,m,b,N,D)=>l(h,d,f,m,b,N,D)),!!this[s].apply(this,c)};const a="every"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[a]=function(){const c=Array.prototype.slice.call(arguments),l=c.pop();return c.push((h,d,f,m,b,N,D)=>!l(h,d,f,m,b,N,D)),!this[s].apply(this,c)}}function e_(r,t){const{name:e,type:n,direction:i}=t,s=e.slice(0,-1)+"Entries";r.prototype[s]=function(o,a){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return ur.empty();if(!arguments.length)return Yb(this,n);if(arguments.length===1){o=""+o;const c=this._nodes.get(o);if(!c)throw new $(`Graph.${s}: could not find the "${o}" node in the graph.`);return Kb(n,i,c)}if(arguments.length===2){o=""+o,a=""+a;const c=this._nodes.get(o);if(!c)throw new $(`Graph.${s}:  could not find the "${o}" source node in the graph.`);if(!this._nodes.has(a))throw new $(`Graph.${s}:  could not find the "${a}" target node in the graph.`);return Jb(n,i,c,a)}throw new j(`Graph.${s}: too many arguments (expecting 0, 1 or 2 and got ${arguments.length}).`)}}function r_(r){Gb.forEach(t=>{Xb(r,t),Qb(r,t),t_(r,t),e_(r,t)})}const n_=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function Ta(){this.A=null,this.B=null}Ta.prototype.wrap=function(r){this.A===null?this.A=r:this.B===null&&(this.B=r)};Ta.prototype.has=function(r){return this.A!==null&&r in this.A||this.B!==null&&r in this.B};function hs(r,t,e,n,i){for(const s in n){const o=n[s],a=o.source,c=o.target,l=a===e?c:a;if(t&&t.has(l.key))continue;const u=i(l.key,l.attributes);if(r&&u)return l.key}}function Il(r,t,e,n,i){if(t!=="mixed"){if(t==="undirected")return hs(r,null,n,n.undirected,i);if(typeof e=="string")return hs(r,null,n,n[e],i)}const s=new Ta;let o;if(t!=="undirected"){if(e!=="out"){if(o=hs(r,null,n,n.in,i),r&&o)return o;s.wrap(n.in)}if(e!=="in"){if(o=hs(r,s,n,n.out,i),r&&o)return o;s.wrap(n.out)}}if(t!=="directed"&&(o=hs(r,s,n,n.undirected,i),r&&o))return o}function i_(r,t,e){if(r!=="mixed"){if(r==="undirected")return Object.keys(e.undirected);if(typeof t=="string")return Object.keys(e[t])}const n=[];return Il(!1,r,t,e,function(i){n.push(i)}),n}function ds(r,t,e){const n=Object.keys(e),i=n.length;let s=0;return new ur(function(){let a=null;do{if(s>=i)return r&&r.wrap(e),{done:!0};const c=e[n[s++]],l=c.source,u=c.target;if(a=l===t?u:l,r&&r.has(a.key)){a=null;continue}}while(a===null);return{done:!1,value:{neighbor:a.key,attributes:a.attributes}}})}function s_(r,t,e){if(r!=="mixed"){if(r==="undirected")return ds(null,e,e.undirected);if(typeof t=="string")return ds(null,e,e[t])}let n=ur.empty();const i=new Ta;return r!=="undirected"&&(t!=="out"&&(n=dn(n,ds(i,e,e.in))),t!=="in"&&(n=dn(n,ds(i,e,e.out)))),r!=="directed"&&(n=dn(n,ds(i,e,e.undirected))),n}function o_(r,t){const{name:e,type:n,direction:i}=t;r.prototype[e]=function(s){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];s=""+s;const o=this._nodes.get(s);if(typeof o>"u")throw new $(`Graph.${e}: could not find the "${s}" node in the graph.`);return i_(n==="mixed"?this.type:n,i,o)}}function a_(r,t){const{name:e,type:n,direction:i}=t,s="forEach"+e[0].toUpperCase()+e.slice(1,-1);r.prototype[s]=function(l,u){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return;l=""+l;const h=this._nodes.get(l);if(typeof h>"u")throw new $(`Graph.${s}: could not find the "${l}" node in the graph.`);Il(!1,n==="mixed"?this.type:n,i,h,u)};const o="map"+e[0].toUpperCase()+e.slice(1);r.prototype[o]=function(l,u){const h=[];return this[s](l,(d,f)=>{h.push(u(d,f))}),h};const a="filter"+e[0].toUpperCase()+e.slice(1);r.prototype[a]=function(l,u){const h=[];return this[s](l,(d,f)=>{u(d,f)&&h.push(d)}),h};const c="reduce"+e[0].toUpperCase()+e.slice(1);r.prototype[c]=function(l,u,h){if(arguments.length<3)throw new j(`Graph.${c}: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.`);let d=h;return this[s](l,(f,m)=>{d=u(d,f,m)}),d}}function c_(r,t){const{name:e,type:n,direction:i}=t,s=e[0].toUpperCase()+e.slice(1,-1),o="find"+s;r.prototype[o]=function(l,u){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return;l=""+l;const h=this._nodes.get(l);if(typeof h>"u")throw new $(`Graph.${o}: could not find the "${l}" node in the graph.`);return Il(!0,n==="mixed"?this.type:n,i,h,u)};const a="some"+s;r.prototype[a]=function(l,u){return!!this[o](l,u)};const c="every"+s;r.prototype[c]=function(l,u){return!this[o](l,(d,f)=>!u(d,f))}}function l_(r,t){const{name:e,type:n,direction:i}=t,s=e.slice(0,-1)+"Entries";r.prototype[s]=function(o){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return ur.empty();o=""+o;const a=this._nodes.get(o);if(typeof a>"u")throw new $(`Graph.${s}: could not find the "${o}" node in the graph.`);return s_(n==="mixed"?this.type:n,i,a)}}function u_(r){n_.forEach(t=>{o_(r,t),a_(r,t),c_(r,t),l_(r,t)})}function oo(r,t,e,n,i){const s=n._nodes.values(),o=n.type;let a,c,l,u,h,d;for(;a=s.next(),a.done!==!0;){let f=!1;if(c=a.value,o!=="undirected"){u=c.out;for(l in u){h=u[l];do d=h.target,f=!0,i(c.key,d.key,c.attributes,d.attributes,h.key,h.attributes,h.undirected),h=h.next;while(h)}}if(o!=="directed"){u=c.undirected;for(l in u)if(!(t&&c.key>l)){h=u[l];do d=h.target,d.key!==l&&(d=h.source),f=!0,i(c.key,d.key,c.attributes,d.attributes,h.key,h.attributes,h.undirected),h=h.next;while(h)}}e&&!f&&i(c.key,null,c.attributes,null,null,null,null)}}function h_(r,t){const e={key:r};return mf(t.attributes)||(e.attributes=ne({},t.attributes)),e}function d_(r,t){const e={key:r,source:t.source.key,target:t.target.key};return mf(t.attributes)||(e.attributes=ne({},t.attributes)),t.undirected&&(e.undirected=!0),e}function f_(r){if(!de(r))throw new j('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in r))throw new j("Graph.import: serialized node is missing its key.");if("attributes"in r&&(!de(r.attributes)||r.attributes===null))throw new j("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function p_(r){if(!de(r))throw new j('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in r))throw new j("Graph.import: serialized edge is missing its source.");if(!("target"in r))throw new j("Graph.import: serialized edge is missing its target.");if("attributes"in r&&(!de(r.attributes)||r.attributes===null))throw new j("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in r&&typeof r.undirected!="boolean")throw new j("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}const g_=mb(),y_=new Set(["directed","undirected","mixed"]),oh=new Set(["domain","_events","_eventsCount","_maxListeners"]),m_=[{name:r=>`${r}Edge`,generateKey:!0},{name:r=>`${r}DirectedEdge`,generateKey:!0,type:"directed"},{name:r=>`${r}UndirectedEdge`,generateKey:!0,type:"undirected"},{name:r=>`${r}EdgeWithKey`},{name:r=>`${r}DirectedEdgeWithKey`,type:"directed"},{name:r=>`${r}UndirectedEdgeWithKey`,type:"undirected"}],v_={allowSelfLoops:!0,multi:!1,type:"mixed"};function b_(r,t,e){if(e&&!de(e))throw new j(`Graph.addNode: invalid attributes. Expecting an object but got "${e}"`);if(t=""+t,e=e||{},r._nodes.has(t))throw new Y(`Graph.addNode: the "${t}" node already exist in the graph.`);const n=new r.NodeDataClass(t,e);return r._nodes.set(t,n),r.emit("nodeAdded",{key:t,attributes:e}),n}function ah(r,t,e){const n=new r.NodeDataClass(t,e);return r._nodes.set(t,n),r.emit("nodeAdded",{key:t,attributes:e}),n}function If(r,t,e,n,i,s,o,a){if(!n&&r.type==="undirected")throw new Y(`Graph.${t}: you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead.`);if(n&&r.type==="directed")throw new Y(`Graph.${t}: you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead.`);if(a&&!de(a))throw new j(`Graph.${t}: invalid attributes. Expecting an object but got "${a}"`);if(s=""+s,o=""+o,a=a||{},!r.allowSelfLoops&&s===o)throw new Y(`Graph.${t}: source & target are the same ("${s}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);const c=r._nodes.get(s),l=r._nodes.get(o);if(!c)throw new $(`Graph.${t}: source node "${s}" not found.`);if(!l)throw new $(`Graph.${t}: target node "${o}" not found.`);const u={key:null,undirected:n,source:s,target:o,attributes:a};if(e)i=r._edgeKeyGenerator();else if(i=""+i,r._edges.has(i))throw new Y(`Graph.${t}: the "${i}" edge already exists in the graph.`);if(!r.multi&&(n?typeof c.undirected[o]<"u":typeof c.out[o]<"u"))throw new Y(`Graph.${t}: an edge linking "${s}" to "${o}" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`);const h=new ns(n,i,c,l,a);r._edges.set(i,h);const d=s===o;return n?(c.undirectedDegree++,l.undirectedDegree++,d&&r._undirectedSelfLoopCount++):(c.outDegree++,l.inDegree++,d&&r._directedSelfLoopCount++),r.multi?h.attachMulti():h.attach(),n?r._undirectedSize++:r._directedSize++,u.key=i,r.emit("edgeAdded",u),i}function __(r,t,e,n,i,s,o,a,c){if(!n&&r.type==="undirected")throw new Y(`Graph.${t}: you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead.`);if(n&&r.type==="directed")throw new Y(`Graph.${t}: you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead.`);if(a){if(c){if(typeof a!="function")throw new j(`Graph.${t}: invalid updater function. Expecting a function but got "${a}"`)}else if(!de(a))throw new j(`Graph.${t}: invalid attributes. Expecting an object but got "${a}"`)}s=""+s,o=""+o;let l;if(c&&(l=a,a=void 0),!r.allowSelfLoops&&s===o)throw new Y(`Graph.${t}: source & target are the same ("${s}"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`);let u=r._nodes.get(s),h=r._nodes.get(o),d,f;if(!e&&(d=r._edges.get(i),d)){if((d.source.key!==s||d.target.key!==o)&&(!n||d.source.key!==o||d.target.key!==s))throw new Y(`Graph.${t}: inconsistency detected when attempting to merge the "${i}" edge with "${s}" source & "${o}" target vs. ("${d.source.key}", "${d.target.key}").`);f=d}if(!f&&!r.multi&&u&&(f=n?u.undirected[o]:u.out[o]),f){const O=[f.key,!1,!1,!1];if(c?!l:!a)return O;if(c){const T=f.attributes;f.attributes=l(T),r.emit("edgeAttributesUpdated",{type:"replace",key:f.key,attributes:f.attributes})}else ne(f.attributes,a),r.emit("edgeAttributesUpdated",{type:"merge",key:f.key,attributes:f.attributes,data:a});return O}a=a||{},c&&l&&(a=l(a));const m={key:null,undirected:n,source:s,target:o,attributes:a};if(e)i=r._edgeKeyGenerator();else if(i=""+i,r._edges.has(i))throw new Y(`Graph.${t}: the "${i}" edge already exists in the graph.`);let b=!1,N=!1;u||(u=ah(r,s,{}),b=!0,s===o&&(h=u,N=!0)),h||(h=ah(r,o,{}),N=!0),d=new ns(n,i,u,h,a),r._edges.set(i,d);const D=s===o;return n?(u.undirectedDegree++,h.undirectedDegree++,D&&r._undirectedSelfLoopCount++):(u.outDegree++,h.inDegree++,D&&r._directedSelfLoopCount++),r.multi?d.attachMulti():d.attach(),n?r._undirectedSize++:r._directedSize++,m.key=i,r.emit("edgeAdded",m),[i,!0,b,N]}function yi(r,t){r._edges.delete(t.key);const{source:e,target:n,attributes:i}=t,s=t.undirected,o=e===n;s?(e.undirectedDegree--,n.undirectedDegree--,o&&r._undirectedSelfLoopCount--):(e.outDegree--,n.inDegree--,o&&r._directedSelfLoopCount--),r.multi?t.detachMulti():t.detach(),s?r._undirectedSize--:r._directedSize--,r.emit("edgeDropped",{key:t.key,attributes:i,source:e.key,target:n.key,undirected:s})}class Ut extends ff.EventEmitter{constructor(t){if(super(),t=ne({},v_,t),typeof t.multi!="boolean")throw new j(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "${t.multi}".`);if(!y_.has(t.type))throw new j(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "${t.type}".`);if(typeof t.allowSelfLoops!="boolean")throw new j(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "${t.allowSelfLoops}".`);const e=t.type==="mixed"?vf:t.type==="directed"?bf:_f;er(this,"NodeDataClass",e);const n="geid_"+g_()+"_";let i=0;const s=()=>{let o;do o=n+i++;while(this._edges.has(o));return o};er(this,"_attributes",{}),er(this,"_nodes",new Map),er(this,"_edges",new Map),er(this,"_directedSize",0),er(this,"_undirectedSize",0),er(this,"_directedSelfLoopCount",0),er(this,"_undirectedSelfLoopCount",0),er(this,"_edgeKeyGenerator",s),er(this,"_options",t),oh.forEach(o=>er(this,o,this[o])),fr(this,"order",()=>this._nodes.size),fr(this,"size",()=>this._edges.size),fr(this,"directedSize",()=>this._directedSize),fr(this,"undirectedSize",()=>this._undirectedSize),fr(this,"selfLoopCount",()=>this._directedSelfLoopCount+this._undirectedSelfLoopCount),fr(this,"directedSelfLoopCount",()=>this._directedSelfLoopCount),fr(this,"undirectedSelfLoopCount",()=>this._undirectedSelfLoopCount),fr(this,"multi",this._options.multi),fr(this,"type",this._options.type),fr(this,"allowSelfLoops",this._options.allowSelfLoops),fr(this,"implementation",()=>"graphology")}_resetInstanceCounters(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0}hasNode(t){return this._nodes.has(""+t)}hasDirectedEdge(t,e){if(this.type==="undirected")return!1;if(arguments.length===1){const n=""+t,i=this._edges.get(n);return!!i&&!i.undirected}else if(arguments.length===2){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)return!1;const i=n.out[e];return i?this.multi?!!i.size:!0:!1}throw new j(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasUndirectedEdge(t,e){if(this.type==="directed")return!1;if(arguments.length===1){const n=""+t,i=this._edges.get(n);return!!i&&i.undirected}else if(arguments.length===2){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)return!1;const i=n.undirected[e];return i?this.multi?!!i.size:!0:!1}throw new j(`Graph.hasDirectedEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}hasEdge(t,e){if(arguments.length===1){const n=""+t;return this._edges.has(n)}else if(arguments.length===2){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)return!1;let i=typeof n.out<"u"&&n.out[e];return i||(i=typeof n.undirected<"u"&&n.undirected[e]),i?this.multi?!!i.size:!0:!1}throw new j(`Graph.hasEdge: invalid arity (${arguments.length}, instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target.`)}directedEdge(t,e){if(this.type==="undirected")return;if(t=""+t,e=""+e,this.multi)throw new Y("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");const n=this._nodes.get(t);if(!n)throw new $(`Graph.directedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new $(`Graph.directedEdge: could not find the "${e}" target node in the graph.`);const i=n.out&&n.out[e]||void 0;if(i)return i.key}undirectedEdge(t,e){if(this.type==="directed")return;if(t=""+t,e=""+e,this.multi)throw new Y("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");const n=this._nodes.get(t);if(!n)throw new $(`Graph.undirectedEdge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new $(`Graph.undirectedEdge: could not find the "${e}" target node in the graph.`);const i=n.undirected&&n.undirected[e]||void 0;if(i)return i.key}edge(t,e){if(this.multi)throw new Y("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.edge: could not find the "${t}" source node in the graph.`);if(!this._nodes.has(e))throw new $(`Graph.edge: could not find the "${e}" target node in the graph.`);const i=n.out&&n.out[e]||n.undirected&&n.undirected[e]||void 0;if(i)return i.key}areDirectedNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areDirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:e in n.in||e in n.out}areOutNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areOutNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:e in n.out}areInNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areInNeighbors: could not find the "${t}" node in the graph.`);return this.type==="undirected"?!1:e in n.in}areUndirectedNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areUndirectedNeighbors: could not find the "${t}" node in the graph.`);return this.type==="directed"?!1:e in n.undirected}areNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&(e in n.in||e in n.out)||this.type!=="directed"&&e in n.undirected}areInboundNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areInboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&e in n.in||this.type!=="directed"&&e in n.undirected}areOutboundNeighbors(t,e){t=""+t,e=""+e;const n=this._nodes.get(t);if(!n)throw new $(`Graph.areOutboundNeighbors: could not find the "${t}" node in the graph.`);return this.type!=="undirected"&&e in n.out||this.type!=="directed"&&e in n.undirected}inDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.inDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.inDegree}outDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.outDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.outDegree}directedDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.directedDegree: could not find the "${t}" node in the graph.`);return this.type==="undirected"?0:e.inDegree+e.outDegree}undirectedDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.undirectedDegree: could not find the "${t}" node in the graph.`);return this.type==="directed"?0:e.undirectedDegree}inboundDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.inboundDegree: could not find the "${t}" node in the graph.`);let n=0;return this.type!=="directed"&&(n+=e.undirectedDegree),this.type!=="undirected"&&(n+=e.inDegree),n}outboundDegree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.outboundDegree: could not find the "${t}" node in the graph.`);let n=0;return this.type!=="directed"&&(n+=e.undirectedDegree),this.type!=="undirected"&&(n+=e.outDegree),n}degree(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.degree: could not find the "${t}" node in the graph.`);let n=0;return this.type!=="directed"&&(n+=e.undirectedDegree),this.type!=="undirected"&&(n+=e.inDegree+e.outDegree),n}inDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.inDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);if(this.type==="undirected")return 0;const n=e.in[t],i=n?this.multi?n.size:1:0;return e.inDegree-i}outDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.outDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);if(this.type==="undirected")return 0;const n=e.out[t],i=n?this.multi?n.size:1:0;return e.outDegree-i}directedDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.directedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);if(this.type==="undirected")return 0;const n=e.out[t],i=n?this.multi?n.size:1:0;return e.inDegree+e.outDegree-i*2}undirectedDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.undirectedDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);if(this.type==="directed")return 0;const n=e.undirected[t],i=n?this.multi?n.size:1:0;return e.undirectedDegree-i*2}inboundDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.inboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n,i=0,s=0;return this.type!=="directed"&&(i+=e.undirectedDegree,n=e.undirected[t],s+=(n?this.multi?n.size:1:0)*2),this.type!=="undirected"&&(i+=e.inDegree,n=e.out[t],s+=n?this.multi?n.size:1:0),i-s}outboundDegreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.outboundDegreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n,i=0,s=0;return this.type!=="directed"&&(i+=e.undirectedDegree,n=e.undirected[t],s+=(n?this.multi?n.size:1:0)*2),this.type!=="undirected"&&(i+=e.outDegree,n=e.in[t],s+=n?this.multi?n.size:1:0),i-s}degreeWithoutSelfLoops(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.degreeWithoutSelfLoops: could not find the "${t}" node in the graph.`);let n,i=0,s=0;return this.type!=="directed"&&(i+=e.undirectedDegree,n=e.undirected[t],s+=(n?this.multi?n.size:1:0)*2),this.type!=="undirected"&&(i+=e.inDegree+e.outDegree,n=e.out[t],s+=(n?this.multi?n.size:1:0)*2),i-s}source(t){t=""+t;const e=this._edges.get(t);if(!e)throw new $(`Graph.source: could not find the "${t}" edge in the graph.`);return e.source.key}target(t){t=""+t;const e=this._edges.get(t);if(!e)throw new $(`Graph.target: could not find the "${t}" edge in the graph.`);return e.target.key}extremities(t){t=""+t;const e=this._edges.get(t);if(!e)throw new $(`Graph.extremities: could not find the "${t}" edge in the graph.`);return[e.source.key,e.target.key]}opposite(t,e){t=""+t,e=""+e;const n=this._edges.get(e);if(!n)throw new $(`Graph.opposite: could not find the "${e}" edge in the graph.`);const i=n.source.key,s=n.target.key;if(t===i)return s;if(t===s)return i;throw new $(`Graph.opposite: the "${t}" node is not attached to the "${e}" edge (${i}, ${s}).`)}hasExtremity(t,e){t=""+t,e=""+e;const n=this._edges.get(t);if(!n)throw new $(`Graph.hasExtremity: could not find the "${t}" edge in the graph.`);return n.source.key===e||n.target.key===e}isUndirected(t){t=""+t;const e=this._edges.get(t);if(!e)throw new $(`Graph.isUndirected: could not find the "${t}" edge in the graph.`);return e.undirected}isDirected(t){t=""+t;const e=this._edges.get(t);if(!e)throw new $(`Graph.isDirected: could not find the "${t}" edge in the graph.`);return!e.undirected}isSelfLoop(t){t=""+t;const e=this._edges.get(t);if(!e)throw new $(`Graph.isSelfLoop: could not find the "${t}" edge in the graph.`);return e.source===e.target}addNode(t,e){return b_(this,t,e).key}mergeNode(t,e){if(e&&!de(e))throw new j(`Graph.mergeNode: invalid attributes. Expecting an object but got "${e}"`);t=""+t,e=e||{};let n=this._nodes.get(t);return n?(e&&(ne(n.attributes,e),this.emit("nodeAttributesUpdated",{type:"merge",key:t,attributes:n.attributes,data:e})),[t,!1]):(n=new this.NodeDataClass(t,e),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:e}),[t,!0])}updateNode(t,e){if(e&&typeof e!="function")throw new j(`Graph.updateNode: invalid updater function. Expecting a function but got "${e}"`);t=""+t;let n=this._nodes.get(t);if(n){if(e){const s=n.attributes;n.attributes=e(s),this.emit("nodeAttributesUpdated",{type:"replace",key:t,attributes:n.attributes})}return[t,!1]}const i=e?e({}):{};return n=new this.NodeDataClass(t,i),this._nodes.set(t,n),this.emit("nodeAdded",{key:t,attributes:i}),[t,!0]}dropNode(t){t=""+t;const e=this._nodes.get(t);if(!e)throw new $(`Graph.dropNode: could not find the "${t}" node in the graph.`);let n;if(this.type!=="undirected"){for(const i in e.out){n=e.out[i];do yi(this,n),n=n.next;while(n)}for(const i in e.in){n=e.in[i];do yi(this,n),n=n.next;while(n)}}if(this.type!=="directed")for(const i in e.undirected){n=e.undirected[i];do yi(this,n),n=n.next;while(n)}this._nodes.delete(t),this.emit("nodeDropped",{key:t,attributes:e.attributes})}dropEdge(t){let e;if(arguments.length>1){const n=""+arguments[0],i=""+arguments[1];if(e=lr(this,n,i,this.type),!e)throw new $(`Graph.dropEdge: could not find the "${n}" -> "${i}" edge in the graph.`)}else if(t=""+t,e=this._edges.get(t),!e)throw new $(`Graph.dropEdge: could not find the "${t}" edge in the graph.`);return yi(this,e),this}dropDirectedEdge(t,e){if(arguments.length<2)throw new Y("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Y("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");t=""+t,e=""+e;const n=lr(this,t,e,"directed");if(!n)throw new $(`Graph.dropDirectedEdge: could not find a "${t}" -> "${e}" edge in the graph.`);return yi(this,n),this}dropUndirectedEdge(t,e){if(arguments.length<2)throw new Y("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Y("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");const n=lr(this,t,e,"undirected");if(!n)throw new $(`Graph.dropUndirectedEdge: could not find a "${t}" -> "${e}" edge in the graph.`);return yi(this,n),this}clear(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")}clearEdges(){const t=this._nodes.values();let e;for(;e=t.next(),e.done!==!0;)e.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")}getAttribute(t){return this._attributes[t]}getAttributes(){return this._attributes}hasAttribute(t){return this._attributes.hasOwnProperty(t)}setAttribute(t,e){return this._attributes[t]=e,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}updateAttribute(t,e){if(typeof e!="function")throw new j("Graph.updateAttribute: updater should be a function.");const n=this._attributes[t];return this._attributes[t]=e(n),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:t}),this}removeAttribute(t){return delete this._attributes[t],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:t}),this}replaceAttributes(t){if(!de(t))throw new j("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=t,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this}mergeAttributes(t){if(!de(t))throw new j("Graph.mergeAttributes: provided attributes are not a plain object.");return ne(this._attributes,t),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:t}),this}updateAttributes(t){if(typeof t!="function")throw new j("Graph.updateAttributes: provided updater is not a function.");return this._attributes=t(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this}updateEachNodeAttributes(t,e){if(typeof t!="function")throw new j("Graph.updateEachNodeAttributes: expecting an updater function.");if(e&&!sh(e))throw new j("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const n=this._nodes.values();let i,s;for(;i=n.next(),i.done!==!0;)s=i.value,s.attributes=t(s.key,s.attributes);this.emit("eachNodeAttributesUpdated",{hints:e||null})}updateEachEdgeAttributes(t,e){if(typeof t!="function")throw new j("Graph.updateEachEdgeAttributes: expecting an updater function.");if(e&&!sh(e))throw new j("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");const n=this._edges.values();let i,s,o,a;for(;i=n.next(),i.done!==!0;)s=i.value,o=s.source,a=s.target,s.attributes=t(s.key,s.attributes,o.key,a.key,o.attributes,a.attributes,s.undirected);this.emit("eachEdgeAttributesUpdated",{hints:e||null})}forEachAdjacencyEntry(t){if(typeof t!="function")throw new j("Graph.forEachAdjacencyEntry: expecting a callback.");oo(!1,!1,!1,this,t)}forEachAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new j("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");oo(!1,!1,!0,this,t)}forEachAssymetricAdjacencyEntry(t){if(typeof t!="function")throw new j("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");oo(!1,!0,!1,this,t)}forEachAssymetricAdjacencyEntryWithOrphans(t){if(typeof t!="function")throw new j("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");oo(!1,!0,!0,this,t)}nodes(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):yf(this._nodes.keys(),this._nodes.size)}forEachNode(t){if(typeof t!="function")throw new j("Graph.forEachNode: expecting a callback.");const e=this._nodes.values();let n,i;for(;n=e.next(),n.done!==!0;)i=n.value,t(i.key,i.attributes)}findNode(t){if(typeof t!="function")throw new j("Graph.findNode: expecting a callback.");const e=this._nodes.values();let n,i;for(;n=e.next(),n.done!==!0;)if(i=n.value,t(i.key,i.attributes))return i.key}mapNodes(t){if(typeof t!="function")throw new j("Graph.mapNode: expecting a callback.");const e=this._nodes.values();let n,i;const s=new Array(this.order);let o=0;for(;n=e.next(),n.done!==!0;)i=n.value,s[o++]=t(i.key,i.attributes);return s}someNode(t){if(typeof t!="function")throw new j("Graph.someNode: expecting a callback.");const e=this._nodes.values();let n,i;for(;n=e.next(),n.done!==!0;)if(i=n.value,t(i.key,i.attributes))return!0;return!1}everyNode(t){if(typeof t!="function")throw new j("Graph.everyNode: expecting a callback.");const e=this._nodes.values();let n,i;for(;n=e.next(),n.done!==!0;)if(i=n.value,!t(i.key,i.attributes))return!1;return!0}filterNodes(t){if(typeof t!="function")throw new j("Graph.filterNodes: expecting a callback.");const e=this._nodes.values();let n,i;const s=[];for(;n=e.next(),n.done!==!0;)i=n.value,t(i.key,i.attributes)&&s.push(i.key);return s}reduceNodes(t,e){if(typeof t!="function")throw new j("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new j("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");let n=e;const i=this._nodes.values();let s,o;for(;s=i.next(),s.done!==!0;)o=s.value,n=t(n,o.key,o.attributes);return n}nodeEntries(){const t=this._nodes.values();return new ur(()=>{const e=t.next();if(e.done)return e;const n=e.value;return{value:{node:n.key,attributes:n.attributes},done:!1}})}export(){const t=new Array(this._nodes.size);let e=0;this._nodes.forEach((i,s)=>{t[e++]=h_(s,i)});const n=new Array(this._edges.size);return e=0,this._edges.forEach((i,s)=>{n[e++]=d_(s,i)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:t,edges:n}}import(t,e=!1){if(yb(t))return t.forEachNode((c,l)=>{e?this.mergeNode(c,l):this.addNode(c,l)}),t.forEachEdge((c,l,u,h,d,f,m)=>{e?m?this.mergeUndirectedEdgeWithKey(c,u,h,l):this.mergeDirectedEdgeWithKey(c,u,h,l):m?this.addUndirectedEdgeWithKey(c,u,h,l):this.addDirectedEdgeWithKey(c,u,h,l)}),this;if(!de(t))throw new j("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(t.attributes){if(!de(t.attributes))throw new j("Graph.import: invalid attributes. Expecting a plain object.");e?this.mergeAttributes(t.attributes):this.replaceAttributes(t.attributes)}let n,i,s,o,a;if(t.nodes){if(s=t.nodes,!Array.isArray(s))throw new j("Graph.import: invalid nodes. Expecting an array.");for(n=0,i=s.length;n<i;n++){o=s[n],f_(o);const{key:c,attributes:l}=o;e?this.mergeNode(c,l):this.addNode(c,l)}}if(t.edges){if(s=t.edges,!Array.isArray(s))throw new j("Graph.import: invalid edges. Expecting an array.");for(n=0,i=s.length;n<i;n++){a=s[n],p_(a);const{source:c,target:l,attributes:u,undirected:h=!1}=a;let d;"key"in a?(d=e?h?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:h?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,d.call(this,a.key,c,l,u)):(d=e?h?this.mergeUndirectedEdge:this.mergeDirectedEdge:h?this.addUndirectedEdge:this.addDirectedEdge,d.call(this,c,l,u))}}return this}nullCopy(t){const e=new Ut(ne({},this._options,t));return e.replaceAttributes(ne({},this.getAttributes())),e}emptyCopy(t){const e=this.nullCopy(t);return this._nodes.forEach((n,i)=>{const s=ne({},n.attributes);n=new e.NodeDataClass(i,s),e._nodes.set(i,n)}),e}copy(t){if(t=t||{},typeof t.type=="string"&&t.type!==this.type&&t.type!=="mixed")throw new Y(`Graph.copy: cannot create an incompatible copy from "${this.type}" type to "${t.type}" because this would mean losing information about the current graph.`);if(typeof t.multi=="boolean"&&t.multi!==this.multi&&t.multi!==!0)throw new Y("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof t.allowSelfLoops=="boolean"&&t.allowSelfLoops!==this.allowSelfLoops&&t.allowSelfLoops!==!0)throw new Y("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");const e=this.emptyCopy(t),n=this._edges.values();let i,s;for(;i=n.next(),i.done!==!0;)s=i.value,If(e,"copy",!1,s.undirected,s.key,s.source.key,s.target.key,ne({},s.attributes));return e}toJSON(){return this.export()}toString(){return"[object Graph]"}inspect(){const t={};this._nodes.forEach((s,o)=>{t[o]=s.attributes});const e={},n={};this._edges.forEach((s,o)=>{const a=s.undirected?"--":"->";let c="",l=s.source.key,u=s.target.key,h;s.undirected&&l>u&&(h=l,l=u,u=h);const d=`(${l})${a}(${u})`;o.startsWith("geid_")?this.multi&&(typeof n[d]>"u"?n[d]=0:n[d]++,c+=`${n[d]}. `):c+=`[${o}]: `,c+=d,e[c]=s.attributes});const i={};for(const s in this)this.hasOwnProperty(s)&&!oh.has(s)&&typeof this[s]!="function"&&typeof s!="symbol"&&(i[s]=this[s]);return i.attributes=this._attributes,i.nodes=t,i.edges=e,er(i,"constructor",this.constructor),i}}typeof Symbol<"u"&&(Ut.prototype[Symbol.for("nodejs.util.inspect.custom")]=Ut.prototype.inspect);m_.forEach(r=>{["add","merge","update"].forEach(t=>{const e=r.name(t),n=t==="add"?If:__;r.generateKey?Ut.prototype[e]=function(i,s,o){return n(this,e,!0,(r.type||this.type)==="undirected",null,i,s,o,t==="update")}:Ut.prototype[e]=function(i,s,o,a){return n(this,e,!1,(r.type||this.type)==="undirected",i,s,o,a,t==="update")}})});Fb(Ut);kb(Ut);r_(Ut);u_(Ut);class Df extends Ut{constructor(t){const e=ne({type:"directed"},t);if("multi"in e&&e.multi!==!1)throw new j("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(e.type!=="directed")throw new j('DirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class Of extends Ut{constructor(t){const e=ne({type:"undirected"},t);if("multi"in e&&e.multi!==!1)throw new j("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(e.type!=="undirected")throw new j('UndirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class Tf extends Ut{constructor(t){const e=ne({multi:!0},t);if("multi"in e&&e.multi!==!0)throw new j("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");super(e)}}class Ff extends Ut{constructor(t){const e=ne({type:"directed",multi:!0},t);if("multi"in e&&e.multi!==!0)throw new j("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(e.type!=="directed")throw new j('MultiDirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}class xf extends Ut{constructor(t){const e=ne({type:"undirected",multi:!0},t);if("multi"in e&&e.multi!==!0)throw new j("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(e.type!=="undirected")throw new j('MultiUndirectedGraph.from: inconsistent "'+e.type+'" type in given options!');super(e)}}function is(r){r.from=function(t,e){const n=ne({},t.options,e),i=new r(n);return i.import(t),i}}is(Ut);is(Df);is(Of);is(Tf);is(Ff);is(xf);Ut.Graph=Ut;Ut.DirectedGraph=Df;Ut.UndirectedGraph=Of;Ut.MultiGraph=Tf;Ut.MultiDirectedGraph=Ff;Ut.MultiUndirectedGraph=xf;Ut.InvalidArgumentsGraphError=j;Ut.NotFoundGraphError=$;Ut.UsageGraphError=Y;function w_(r){return!r||typeof r!="object"||typeof r=="function"||Array.isArray(r)||r instanceof Set||r instanceof Map||r instanceof RegExp||r instanceof Date}function Lf(r,t){r=r||{};var e={};for(var n in t){var i=r[n],s=t[n];if(!w_(s)){e[n]=Lf(i,s);continue}i===void 0?e[n]=s:e[n]=i}return e}var Fa=Lf,fi=function(t){return t!==null&&typeof t=="object"&&typeof t.addUndirectedEdgeWithKey=="function"&&typeof t.dropNode=="function"&&typeof t.multi=="boolean"};function Cf(r){return function(t,e){return t+Math.floor(r()*(e-t+1))}}var Rf=Cf(Math.random);Rf.createRandom=Cf;var S_=Rf,E_=S_.createRandom;function Bf(r){var t=E_(r);return function(e){for(var n=e.length,i=n-1,s=-1;++s<n;){var o=t(s,i),a=e[o];e[o]=e[s],e[s]=a}}}var Pf=Bf(Math.random);Pf.createShuffleInPlace=Bf;var A_=Pf,I_=Fa,D_=fi,O_=A_,T_={attributes:{x:"x",y:"y"},center:0,hierarchyAttributes:[],rng:Math.random,scale:1};function $e(r,t,e,n,i){this.wrappedCircle=i||null,this.children={},this.countChildren=0,this.id=r||null,this.next=null,this.previous=null,this.x=t||null,this.y=e||null,i?this.r=1010101:this.r=n||999}$e.prototype.hasChildren=function(){return this.countChildren>0};$e.prototype.addChild=function(r,t){this.children[r]=t,++this.countChildren};$e.prototype.getChild=function(r){if(!this.children.hasOwnProperty(r)){var t=new $e;this.children[r]=t,++this.countChildren}return this.children[r]};$e.prototype.applyPositionToChildren=function(){if(this.hasChildren()){var r=this;for(var t in r.children){var e=r.children[t];e.x+=r.x,e.y+=r.y,e.applyPositionToChildren()}}};function Nf(r,t,e){for(var n in t.children){var i=t.children[n];i.hasChildren()?Nf(r,i,e):e[i.id]={x:i.x,y:i.y}}}function ao(r,t){var e=r.r-t.r,n=t.x-r.x,i=t.y-r.y;return e<0||e*e<n*n+i*i}function Mf(r,t){var e=r.r-t.r+1e-6,n=t.x-r.x,i=t.y-r.y;return e>0&&e*e>n*n+i*i}function sc(r,t){for(var e=0;e<t.length;++e)if(!Mf(r,t[e]))return!1;return!0}function F_(r){return new $e(null,r.x,r.y,r.r)}function vs(r,t){var e=r.x,n=r.y,i=r.r,s=t.x,o=t.y,a=t.r,c=s-e,l=o-n,u=a-i,h=Math.sqrt(c*c+l*l);return new $e(null,(e+s+c/h*u)/2,(n+o+l/h*u)/2,(h+i+a)/2)}function Uf(r,t,e){var n=r.x,i=r.y,s=r.r,o=t.x,a=t.y,c=t.r,l=e.x,u=e.y,h=e.r,d=n-o,f=n-l,m=i-a,b=i-u,N=c-s,D=h-s,O=n*n+i*i-s*s,T=O-o*o-a*a+c*c,_=O-l*l-u*u+h*h,S=f*m-d*b,I=(m*_-b*T)/(S*2)-n,M=(b*N-m*D)/S,B=(f*T-d*_)/(S*2)-i,E=(d*D-f*N)/S,ct=M*M+E*E-1,yt=2*(s+I*M+B*E),vt=I*I+B*B-s*s,Wt=-(ct?(yt+Math.sqrt(yt*yt-4*ct*vt))/(2*ct):vt/yt);return new $e(null,n+I+M*Wt,i+B+E*Wt,Wt)}function x_(r){switch(r.length){case 1:return F_(r[0]);case 2:return vs(r[0],r[1]);case 3:return Uf(r[0],r[1],r[2]);default:throw new Error("graphology-layout/circlepack: Invalid basis length "+r.length)}}function L_(r,t){var e,n;if(sc(t,r))return[t];for(e=0;e<r.length;++e)if(ao(t,r[e])&&sc(vs(r[e],t),r))return[r[e],t];for(e=0;e<r.length-1;++e)for(n=e+1;n<r.length;++n)if(ao(vs(r[e],r[n]),t)&&ao(vs(r[e],t),r[n])&&ao(vs(r[n],t),r[e])&&sc(Uf(r[e],r[n],t),r))return[r[e],r[n],t];throw new Error("graphology-layout/circlepack: extendBasis failure !")}function ch(r){var t=r.wrappedCircle,e=r.next.wrappedCircle,n=t.r+e.r,i=(t.x*e.r+e.x*t.r)/n,s=(t.y*e.r+e.y*t.r)/n;return i*i+s*s}function C_(r,t){var e=0,n=r.slice(),i=r.length,s=[],o,a;for(t(n);e<i;)o=n[e],a&&Mf(a,o)?++e:(s=L_(s,o),a=x_(s),e=0);return a}function lh(r,t,e){var n=r.x-t.x,i,s,o=r.y-t.y,a,c,l=n*n+o*o;l?(s=t.r+e.r,s*=s,c=r.r+e.r,c*=c,s>c?(i=(l+c-s)/(2*l),a=Math.sqrt(Math.max(0,c/l-i*i)),e.x=r.x-i*n-a*o,e.y=r.y-i*o+a*n):(i=(l+s-c)/(2*l),a=Math.sqrt(Math.max(0,s/l-i*i)),e.x=t.x+i*n-a*o,e.y=t.y+i*o+a*n)):(e.x=t.x+e.r,e.y=t.y)}function uh(r,t){var e=r.r+t.r-1e-6,n=t.x-r.x,i=t.y-r.y;return e>0&&e*e>n*n+i*i}function R_(r,t){var e=r.length;if(e===0)return 0;var n,i,s,o,a,c,l,u,h,d;if(n=r[0],n.x=0,n.y=0,e<=1)return n.r;if(i=r[1],n.x=-i.r,i.x=n.r,i.y=0,e<=2)return n.r+i.r;s=r[2],lh(i,n,s),n=new $e(null,null,null,null,n),i=new $e(null,null,null,null,i),s=new $e(null,null,null,null,s),n.next=s.previous=i,i.next=n.previous=s,s.next=i.previous=n;t:for(c=3;c<e;++c){s=r[c],lh(n.wrappedCircle,i.wrappedCircle,s),s=new $e(null,null,null,null,s),l=i.next,u=n.previous,h=i.wrappedCircle.r,d=n.wrappedCircle.r;do if(h<=d){if(uh(l.wrappedCircle,s.wrappedCircle)){i=l,n.next=i,i.previous=n,--c;continue t}h+=l.wrappedCircle.r,l=l.next}else{if(uh(u.wrappedCircle,s.wrappedCircle)){n=u,n.next=i,i.previous=n,--c;continue t}d+=u.wrappedCircle.r,u=u.previous}while(l!==u.next);for(s.previous=n,s.next=i,n.next=i.previous=i=s,o=ch(n);(s=s.next)!==i;)(a=ch(s))<o&&(n=s,o=a);i=n.next}n=[i.wrappedCircle],s=i;for(var f=1e4;(s=s.next)!==i&&--f!==0;)n.push(s.wrappedCircle);for(s=C_(n,t),c=0;c<e;++c)n=r[c],n.x-=s.x,n.y-=s.y;return s.r}function $f(r,t){var e=0;if(r.hasChildren()){for(var n in r.children){var i=r.children[n];i.hasChildren()&&(i.r=$f(i,t))}e=R_(Object.values(r.children),t)}return e}function B_(r,t){$f(r,t);for(var e in r.children){var n=r.children[e];n.applyPositionToChildren()}}function kf(r,t,e){if(!D_(t))throw new Error("graphology-layout/circlepack: the given graph is not a valid graphology instance.");e=I_(e,T_);var n={},i={},s=t.nodes(),o=e.center,a=e.hierarchyAttributes,c=O_.createShuffleInPlace(e.rng),l=e.scale,u=new $e;t.forEachNode(function(N,D){var O=D.size?D.size:1,T=new $e(N,null,null,O),_=u;a.forEach(function(S){var I=D[S];_=_.getChild(I)}),_.addChild(N,T)}),B_(u,c),Nf(t,u,n);var h=s.length,d,f,m;for(m=0;m<h;m++){var b=s[m];d=o+l*n[b].x,f=o+l*n[b].y,i[b]={x:d,y:f},r&&(t.setNodeAttribute(b,e.attributes.x,d),t.setNodeAttribute(b,e.attributes.y,f))}return i}var Gf=kf.bind(null,!1);Gf.assign=kf.bind(null,!0);var P_=Gf,N_=Fa,M_=fi,U_={dimensions:["x","y"],center:.5,scale:1};function jf(r,t,e){if(!M_(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");e=N_(e,U_);var n=e.dimensions;if(!Array.isArray(n)||n.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");var i=e.center,s=e.scale,o=Math.PI*2,a=(i-.5)*s,c=t.order,l=n[0],u=n[1];function h(m,b){return b[l]=s*Math.cos(m*o/c)+a,b[u]=s*Math.sin(m*o/c)+a,b}var d=0;if(!r){var f={};return t.forEachNode(function(m){f[m]=h(d++,{})}),f}t.updateEachNodeAttributes(function(m,b){return h(d++,b),b},{attributes:n})}var $_=jf.bind(null,!1);$_.assign=jf.bind(null,!0);var k_=Fa,G_=fi,j_={dimensions:["x","y"],center:.5,rng:Math.random,scale:1};function zf(r,t,e){if(!G_(t))throw new Error("graphology-layout/random: the given graph is not a valid graphology instance.");e=k_(e,j_);var n=e.dimensions;if(!Array.isArray(n)||n.length<1)throw new Error("graphology-layout/random: given dimensions are invalid.");var i=n.length,s=e.center,o=e.rng,a=e.scale,c=(s-.5)*a;function l(h){for(var d=0;d<i;d++)h[n[d]]=o()*a+c;return h}if(!r){var u={};return t.forEachNode(function(h){u[h]=l({})}),u}t.updateEachNodeAttributes(function(h,d){return l(d),d},{attributes:n})}var z_=zf.bind(null,!1);z_.assign=zf.bind(null,!0);var V_=Fa,W_=fi,H_=Math.PI/180,Y_={dimensions:["x","y"],centeredOnZero:!1,degrees:!1};function Vf(r,t,e,n){if(!W_(t))throw new Error("graphology-layout/rotation: the given graph is not a valid graphology instance.");n=V_(n,Y_),n.degrees&&(e*=H_);var i=n.dimensions;if(!Array.isArray(i)||i.length!==2)throw new Error("graphology-layout/random: given dimensions are invalid.");if(t.order===0)return r?void 0:{};var s=i[0],o=i[1],a=0,c=0;if(!n.centeredOnZero){var l=1/0,u=-1/0,h=1/0,d=-1/0;t.forEachNode(function(D,O){var T=O[s],_=O[o];T<l&&(l=T),T>u&&(u=T),_<h&&(h=_),_>d&&(d=_)}),a=(l+u)/2,c=(h+d)/2}var f=Math.cos(e),m=Math.sin(e);function b(D){var O=D[s],T=D[o];return D[s]=a+(O-a)*f-(T-c)*m,D[o]=c+(O-a)*m+(T-c)*f,D}if(!r){var N={};return t.forEachNode(function(D,O){var T={};T[s]=O[s],T[o]=O[o],N[D]=b(T)}),N}t.updateEachNodeAttributes(function(D,O){return b(O),O},{attributes:i})}var q_=Vf.bind(null,!1);q_.assign=Vf.bind(null,!0);var hh=P_,K_=function(){var t,e,n={};(function(){var s=0,o=1,a=2,c=3,l=4,u=5,h=6,d=7,f=8,m=9,b=0,N=1,D=2,O=0,T=1,_=2,S=3,I=4,M=5,B=6,E=7,ct=8,yt=3,vt=10,Wt=3,dt=9,ue=10;n.exports=function(H,y,Qt){var pe,U,A,mt,Pt,Ir,ge,te,K,Xr,Ye=y.length,Qs=Qt.length,p=H.adjustSizes,v=H.barnesHutTheta*H.barnesHutTheta,C,R,x,P,G,F,L,g=[];for(A=0;A<Ye;A+=vt)y[A+l]=y[A+a],y[A+u]=y[A+c],y[A+a]=0,y[A+c]=0;if(H.outboundAttractionDistribution){for(C=0,A=0;A<Ye;A+=vt)C+=y[A+h];C/=Ye/vt}if(H.barnesHutOptimize){var V=1/0,z=-1/0,W=1/0,q=-1/0,Z,bt,wt;for(A=0;A<Ye;A+=vt)V=Math.min(V,y[A+s]),z=Math.max(z,y[A+s]),W=Math.min(W,y[A+o]),q=Math.max(q,y[A+o]);var jt=z-V,ye=q-W;for(jt>ye?(W-=(jt-ye)/2,q=W+jt):(V-=(ye-jt)/2,z=V+ye),g[0+O]=-1,g[0+T]=(V+z)/2,g[0+_]=(W+q)/2,g[0+S]=Math.max(z-V,q-W),g[0+I]=-1,g[0+M]=-1,g[0+B]=0,g[0+E]=0,g[0+ct]=0,pe=1,A=0;A<Ye;A+=vt)for(U=0,wt=yt;;)if(g[U+M]>=0){y[A+s]<g[U+T]?y[A+o]<g[U+_]?Z=g[U+M]:Z=g[U+M]+dt:y[A+o]<g[U+_]?Z=g[U+M]+dt*2:Z=g[U+M]+dt*3,g[U+E]=(g[U+E]*g[U+B]+y[A+s]*y[A+h])/(g[U+B]+y[A+h]),g[U+ct]=(g[U+ct]*g[U+B]+y[A+o]*y[A+h])/(g[U+B]+y[A+h]),g[U+B]+=y[A+h],U=Z;continue}else if(g[U+O]<0){g[U+O]=A;break}else{if(g[U+M]=pe*dt,te=g[U+S]/2,K=g[U+M],g[K+O]=-1,g[K+T]=g[U+T]-te,g[K+_]=g[U+_]-te,g[K+S]=te,g[K+I]=K+dt,g[K+M]=-1,g[K+B]=0,g[K+E]=0,g[K+ct]=0,K+=dt,g[K+O]=-1,g[K+T]=g[U+T]-te,g[K+_]=g[U+_]+te,g[K+S]=te,g[K+I]=K+dt,g[K+M]=-1,g[K+B]=0,g[K+E]=0,g[K+ct]=0,K+=dt,g[K+O]=-1,g[K+T]=g[U+T]+te,g[K+_]=g[U+_]-te,g[K+S]=te,g[K+I]=K+dt,g[K+M]=-1,g[K+B]=0,g[K+E]=0,g[K+ct]=0,K+=dt,g[K+O]=-1,g[K+T]=g[U+T]+te,g[K+_]=g[U+_]+te,g[K+S]=te,g[K+I]=g[U+I],g[K+M]=-1,g[K+B]=0,g[K+E]=0,g[K+ct]=0,pe+=4,y[g[U+O]+s]<g[U+T]?y[g[U+O]+o]<g[U+_]?Z=g[U+M]:Z=g[U+M]+dt:y[g[U+O]+o]<g[U+_]?Z=g[U+M]+dt*2:Z=g[U+M]+dt*3,g[U+B]=y[g[U+O]+h],g[U+E]=y[g[U+O]+s],g[U+ct]=y[g[U+O]+o],g[Z+O]=g[U+O],g[U+O]=-1,y[A+s]<g[U+T]?y[A+o]<g[U+_]?bt=g[U+M]:bt=g[U+M]+dt:y[A+o]<g[U+_]?bt=g[U+M]+dt*2:bt=g[U+M]+dt*3,Z===bt)if(wt--){U=Z;continue}else{wt=yt;break}g[bt+O]=A;break}}if(H.barnesHutOptimize)for(R=H.scalingRatio,A=0;A<Ye;A+=vt)for(U=0;;)if(g[U+M]>=0)if(F=Math.pow(y[A+s]-g[U+E],2)+Math.pow(y[A+o]-g[U+ct],2),Xr=g[U+S],4*Xr*Xr/F<v){if(x=y[A+s]-g[U+E],P=y[A+o]-g[U+ct],p===!0?F>0?(L=R*y[A+h]*g[U+B]/F,y[A+a]+=x*L,y[A+c]+=P*L):F<0&&(L=-R*y[A+h]*g[U+B]/Math.sqrt(F),y[A+a]+=x*L,y[A+c]+=P*L):F>0&&(L=R*y[A+h]*g[U+B]/F,y[A+a]+=x*L,y[A+c]+=P*L),U=g[U+I],U<0)break;continue}else{U=g[U+M];continue}else{if(Ir=g[U+O],Ir>=0&&Ir!==A&&(x=y[A+s]-y[Ir+s],P=y[A+o]-y[Ir+o],F=x*x+P*P,p===!0?F>0?(L=R*y[A+h]*y[Ir+h]/F,y[A+a]+=x*L,y[A+c]+=P*L):F<0&&(L=-R*y[A+h]*y[Ir+h]/Math.sqrt(F),y[A+a]+=x*L,y[A+c]+=P*L):F>0&&(L=R*y[A+h]*y[Ir+h]/F,y[A+a]+=x*L,y[A+c]+=P*L)),U=g[U+I],U<0)break;continue}else for(R=H.scalingRatio,mt=0;mt<Ye;mt+=vt)for(Pt=0;Pt<mt;Pt+=vt)x=y[mt+s]-y[Pt+s],P=y[mt+o]-y[Pt+o],p===!0?(F=Math.sqrt(x*x+P*P)-y[mt+f]-y[Pt+f],F>0?(L=R*y[mt+h]*y[Pt+h]/F/F,y[mt+a]+=x*L,y[mt+c]+=P*L,y[Pt+a]+=x*L,y[Pt+c]+=P*L):F<0&&(L=100*R*y[mt+h]*y[Pt+h],y[mt+a]+=x*L,y[mt+c]+=P*L,y[Pt+a]-=x*L,y[Pt+c]-=P*L)):(F=Math.sqrt(x*x+P*P),F>0&&(L=R*y[mt+h]*y[Pt+h]/F/F,y[mt+a]+=x*L,y[mt+c]+=P*L,y[Pt+a]-=x*L,y[Pt+c]-=P*L));for(K=H.gravity/H.scalingRatio,R=H.scalingRatio,A=0;A<Ye;A+=vt)L=0,x=y[A+s],P=y[A+o],F=Math.sqrt(Math.pow(x,2)+Math.pow(P,2)),H.strongGravityMode?F>0&&(L=R*y[A+h]*K):F>0&&(L=R*y[A+h]*K/F),y[A+a]-=x*L,y[A+c]-=P*L;for(R=1*(H.outboundAttractionDistribution?C:1),ge=0;ge<Qs;ge+=Wt)mt=Qt[ge+b],Pt=Qt[ge+N],te=Qt[ge+D],G=Math.pow(te,H.edgeWeightInfluence),x=y[mt+s]-y[Pt+s],P=y[mt+o]-y[Pt+o],p===!0?(F=Math.sqrt(x*x+P*P)-y[mt+f]-y[Pt+f],H.linLogMode?H.outboundAttractionDistribution?F>0&&(L=-R*G*Math.log(1+F)/F/y[mt+h]):F>0&&(L=-R*G*Math.log(1+F)/F):H.outboundAttractionDistribution?F>0&&(L=-R*G/y[mt+h]):F>0&&(L=-R*G)):(F=Math.sqrt(Math.pow(x,2)+Math.pow(P,2)),H.linLogMode?H.outboundAttractionDistribution?F>0&&(L=-R*G*Math.log(1+F)/F/y[mt+h]):F>0&&(L=-R*G*Math.log(1+F)/F):H.outboundAttractionDistribution?(F=1,L=-R*G/y[mt+h]):(F=1,L=-R*G)),F>0&&(y[mt+a]+=x*L,y[mt+c]+=P*L,y[Pt+a]-=x*L,y[Pt+c]-=P*L);var dr,En,Dr,Or,oe,_e;if(p===!0)for(A=0;A<Ye;A+=vt)y[A+m]!==1&&(dr=Math.sqrt(Math.pow(y[A+a],2)+Math.pow(y[A+c],2)),dr>ue&&(y[A+a]=y[A+a]*ue/dr,y[A+c]=y[A+c]*ue/dr),En=y[A+h]*Math.sqrt((y[A+l]-y[A+a])*(y[A+l]-y[A+a])+(y[A+u]-y[A+c])*(y[A+u]-y[A+c])),Dr=Math.sqrt((y[A+l]+y[A+a])*(y[A+l]+y[A+a])+(y[A+u]+y[A+c])*(y[A+u]+y[A+c]))/2,Or=.1*Math.log(1+Dr)/(1+Math.sqrt(En)),oe=y[A+s]+y[A+a]*(Or/H.slowDown),y[A+s]=oe,_e=y[A+o]+y[A+c]*(Or/H.slowDown),y[A+o]=_e);else for(A=0;A<Ye;A+=vt)y[A+m]!==1&&(En=y[A+h]*Math.sqrt((y[A+l]-y[A+a])*(y[A+l]-y[A+a])+(y[A+u]-y[A+c])*(y[A+u]-y[A+c])),Dr=Math.sqrt((y[A+l]+y[A+a])*(y[A+l]+y[A+a])+(y[A+u]+y[A+c])*(y[A+u]+y[A+c]))/2,Or=y[A+d]*Math.log(1+Dr)/(1+Math.sqrt(En)),y[A+d]=Math.min(1,Math.sqrt(Or*(Math.pow(y[A+a],2)+Math.pow(y[A+c],2))/(1+Math.sqrt(En)))),oe=y[A+s]+y[A+a]*(Or/H.slowDown),y[A+s]=oe,_e=y[A+o]+y[A+c]*(Or/H.slowDown),y[A+o]=_e);return{}}})();var i=n.exports;self.addEventListener("message",function(s){var o=s.data;t=new Float32Array(o.nodes),o.edges&&(e=new Float32Array(o.edges)),i(o.settings,t,e),self.postMessage({nodes:t.buffer},[t.buffer])})},js={};function Z_(r){return typeof r!="number"||isNaN(r)?1:r}function J_(r,t){var e={},n=function(o){return typeof o>"u"?t:o};typeof t=="function"&&(n=t);var i=function(o){return n(o[r])},s=function(){return n(void 0)};return typeof r=="string"?(e.fromAttributes=i,e.fromGraph=function(o,a){return i(o.getNodeAttributes(a))},e.fromEntry=function(o,a){return i(a)}):typeof r=="function"?(e.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},e.fromGraph=function(o,a){return n(r(a,o.getNodeAttributes(a)))},e.fromEntry=function(o,a){return n(r(o,a))}):(e.fromAttributes=s,e.fromGraph=s,e.fromEntry=s),e}function Wf(r,t){var e={},n=function(o){return typeof o>"u"?t:o};typeof t=="function"&&(n=t);var i=function(o){return n(o[r])},s=function(){return n(void 0)};return typeof r=="string"?(e.fromAttributes=i,e.fromGraph=function(o,a){return i(o.getEdgeAttributes(a))},e.fromEntry=function(o,a){return i(a)},e.fromPartialEntry=e.fromEntry,e.fromMinimalEntry=e.fromEntry):typeof r=="function"?(e.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},e.fromGraph=function(o,a){var c=o.extremities(a);return n(r(a,o.getEdgeAttributes(a),c[0],c[1],o.getNodeAttributes(c[0]),o.getNodeAttributes(c[1]),o.isUndirected(a)))},e.fromEntry=function(o,a,c,l,u,h,d){return n(r(o,a,c,l,u,h,d))},e.fromPartialEntry=function(o,a,c,l){return n(r(o,a,c,l))},e.fromMinimalEntry=function(o,a){return n(r(o,a))}):(e.fromAttributes=s,e.fromGraph=s,e.fromEntry=s,e.fromMinimalEntry=s),e}js.createNodeValueGetter=J_;js.createEdgeValueGetter=Wf;js.createEdgeWeightGetter=function(r){return Wf(r,Z_)};var bn={},Bs=10,dh=3;bn.assign=function(r){r=r||{};var t=Array.prototype.slice.call(arguments).slice(1),e,n,i;for(e=0,i=t.length;e<i;e++)if(t[e])for(n in t[e])r[n]=t[e][n];return r};bn.validateSettings=function(r){return"linLogMode"in r&&typeof r.linLogMode!="boolean"?{message:"the `linLogMode` setting should be a boolean."}:"outboundAttractionDistribution"in r&&typeof r.outboundAttractionDistribution!="boolean"?{message:"the `outboundAttractionDistribution` setting should be a boolean."}:"adjustSizes"in r&&typeof r.adjustSizes!="boolean"?{message:"the `adjustSizes` setting should be a boolean."}:"edgeWeightInfluence"in r&&typeof r.edgeWeightInfluence!="number"?{message:"the `edgeWeightInfluence` setting should be a number."}:"scalingRatio"in r&&!(typeof r.scalingRatio=="number"&&r.scalingRatio>=0)?{message:"the `scalingRatio` setting should be a number >= 0."}:"strongGravityMode"in r&&typeof r.strongGravityMode!="boolean"?{message:"the `strongGravityMode` setting should be a boolean."}:"gravity"in r&&!(typeof r.gravity=="number"&&r.gravity>=0)?{message:"the `gravity` setting should be a number >= 0."}:"slowDown"in r&&!(typeof r.slowDown=="number"||r.slowDown>=0)?{message:"the `slowDown` setting should be a number >= 0."}:"barnesHutOptimize"in r&&typeof r.barnesHutOptimize!="boolean"?{message:"the `barnesHutOptimize` setting should be a boolean."}:"barnesHutTheta"in r&&!(typeof r.barnesHutTheta=="number"&&r.barnesHutTheta>=0)?{message:"the `barnesHutTheta` setting should be a number >= 0."}:null};bn.graphToByteArrays=function(r,t){var e=r.order,n=r.size,i={},s,o=new Float32Array(e*Bs),a=new Float32Array(n*dh);return s=0,r.forEachNode(function(c,l){i[c]=s,o[s]=l.x,o[s+1]=l.y,o[s+2]=0,o[s+3]=0,o[s+4]=0,o[s+5]=0,o[s+6]=1,o[s+7]=1,o[s+8]=l.size||1,o[s+9]=l.fixed?1:0,s+=Bs}),s=0,r.forEachEdge(function(c,l,u,h,d,f,m){var b=i[u],N=i[h];o[b+6]+=1,o[N+6]+=1,a[s]=b,a[s+1]=N,a[s+2]=t(c,l,u,h,d,f,m),s+=dh}),{nodes:o,edges:a}};bn.assignLayoutChanges=function(r,t,e){var n=0;r.updateEachNodeAttributes(function(i,s){return s.x=t[n],s.y=t[n+1],n+=Bs,e?e(i,s):s})};bn.readGraphPositions=function(r,t){var e=0;r.forEachNode(function(n,i){t[e]=i.x,t[e+1]=i.y,e+=Bs})};bn.collectLayoutChanges=function(r,t,e){for(var n=r.nodes(),i={},s=0,o=0,a=t.length;s<a;s+=Bs){if(e){var c=Object.assign({},r.getNodeAttributes(n[o]));c.x=t[s],c.y=t[s+1],c=e(n[o],c),i[n[o]]={x:c.x,y:c.y}}else i[n[o]]={x:t[s],y:t[s+1]};o++}return i};bn.createWorker=function(t){var e=window.URL||window.webkitURL,n=t.toString(),i=e.createObjectURL(new Blob(["("+n+").call(this);"],{type:"text/javascript"})),s=new Worker(i);return e.revokeObjectURL(i),s};var Hf={linLogMode:!1,outboundAttractionDistribution:!1,adjustSizes:!1,edgeWeightInfluence:1,scalingRatio:1,strongGravityMode:!1,gravity:1,slowDown:1,barnesHutOptimize:!1,barnesHutTheta:.5},X_=K_,Q_=fi,t0=js.createEdgeWeightGetter,ki=bn,e0=Hf;function zn(r,t){if(t=t||{},!Q_(r))throw new Error("graphology-layout-forceatlas2/worker: the given graph is not a valid graphology instance.");var e=t0(t.getEdgeWeight).fromEntry,n=ki.assign({},e0,t.settings),i=ki.validateSettings(n);if(i)throw new Error("graphology-layout-forceatlas2/worker: "+i.message);this.worker=null,this.graph=r,this.settings=n,this.getEdgeWeight=e,this.matrices=null,this.running=!1,this.killed=!1,this.outputReducer=typeof t.outputReducer=="function"?t.outputReducer:null,this.handleMessage=this.handleMessage.bind(this);var s=void 0,o=this;this.handleGraphUpdate=function(){o.worker&&o.worker.terminate(),s&&clearTimeout(s),s=setTimeout(function(){s=void 0,o.spawnWorker()},0)},r.on("nodeAdded",this.handleGraphUpdate),r.on("edgeAdded",this.handleGraphUpdate),r.on("nodeDropped",this.handleGraphUpdate),r.on("edgeDropped",this.handleGraphUpdate),this.spawnWorker()}zn.prototype.isRunning=function(){return this.running};zn.prototype.spawnWorker=function(){this.worker&&this.worker.terminate(),this.worker=ki.createWorker(X_),this.worker.addEventListener("message",this.handleMessage),this.running&&(this.running=!1,this.start())};zn.prototype.handleMessage=function(r){if(this.running){var t=new Float32Array(r.data.nodes);ki.assignLayoutChanges(this.graph,t,this.outputReducer),this.outputReducer&&ki.readGraphPositions(this.graph,t),this.matrices.nodes=t,this.askForIterations()}};zn.prototype.askForIterations=function(r){var t=this.matrices,e={settings:this.settings,nodes:t.nodes.buffer},n=[t.nodes.buffer];return r&&(e.edges=t.edges.buffer,n.push(t.edges.buffer)),this.worker.postMessage(e,n),this};zn.prototype.start=function(){if(this.killed)throw new Error("graphology-layout-forceatlas2/worker.start: layout was killed.");return this.running?this:(this.matrices=ki.graphToByteArrays(this.graph,this.getEdgeWeight),this.running=!0,this.askForIterations(!0),this)};zn.prototype.stop=function(){return this.running=!1,this};zn.prototype.kill=function(){if(this.killed)return this;this.running=!1,this.killed=!0,this.matrices=null,this.worker.terminate(),this.graph.removeListener("nodeAdded",this.handleGraphUpdate),this.graph.removeListener("edgeAdded",this.handleGraphUpdate),this.graph.removeListener("nodeDropped",this.handleGraphUpdate),this.graph.removeListener("edgeDropped",this.handleGraphUpdate)};var r0=zn;const n0=rs(r0);var ee=0,Yt=1,St=2,Et=3,Qr=4,tn=5,Tt=6,fh=7,co=8,ph=9,i0=0,s0=1,o0=2,ae=0,rr=1,we=2,Kn=3,In=4,Jt=5,Ce=6,Fr=7,xr=8,gh=3,pr=10,a0=3,me=9,oc=10,c0=function(t,e,n){var i,s,o,a,c,l,u,h,d,f,m=e.length,b=n.length,N=t.adjustSizes,D=t.barnesHutTheta*t.barnesHutTheta,O,T,_,S,I,M,B,E=[];for(o=0;o<m;o+=pr)e[o+Qr]=e[o+St],e[o+tn]=e[o+Et],e[o+St]=0,e[o+Et]=0;if(t.outboundAttractionDistribution){for(O=0,o=0;o<m;o+=pr)O+=e[o+Tt];O/=m/pr}if(t.barnesHutOptimize){var ct=1/0,yt=-1/0,vt=1/0,Wt=-1/0,dt,ue,Ht;for(o=0;o<m;o+=pr)ct=Math.min(ct,e[o+ee]),yt=Math.max(yt,e[o+ee]),vt=Math.min(vt,e[o+Yt]),Wt=Math.max(Wt,e[o+Yt]);var H=yt-ct,y=Wt-vt;for(H>y?(vt-=(H-y)/2,Wt=vt+H):(ct-=(y-H)/2,yt=ct+y),E[0+ae]=-1,E[0+rr]=(ct+yt)/2,E[0+we]=(vt+Wt)/2,E[0+Kn]=Math.max(yt-ct,Wt-vt),E[0+In]=-1,E[0+Jt]=-1,E[0+Ce]=0,E[0+Fr]=0,E[0+xr]=0,i=1,o=0;o<m;o+=pr)for(s=0,Ht=gh;;)if(E[s+Jt]>=0){e[o+ee]<E[s+rr]?e[o+Yt]<E[s+we]?dt=E[s+Jt]:dt=E[s+Jt]+me:e[o+Yt]<E[s+we]?dt=E[s+Jt]+me*2:dt=E[s+Jt]+me*3,E[s+Fr]=(E[s+Fr]*E[s+Ce]+e[o+ee]*e[o+Tt])/(E[s+Ce]+e[o+Tt]),E[s+xr]=(E[s+xr]*E[s+Ce]+e[o+Yt]*e[o+Tt])/(E[s+Ce]+e[o+Tt]),E[s+Ce]+=e[o+Tt],s=dt;continue}else if(E[s+ae]<0){E[s+ae]=o;break}else{if(E[s+Jt]=i*me,h=E[s+Kn]/2,d=E[s+Jt],E[d+ae]=-1,E[d+rr]=E[s+rr]-h,E[d+we]=E[s+we]-h,E[d+Kn]=h,E[d+In]=d+me,E[d+Jt]=-1,E[d+Ce]=0,E[d+Fr]=0,E[d+xr]=0,d+=me,E[d+ae]=-1,E[d+rr]=E[s+rr]-h,E[d+we]=E[s+we]+h,E[d+Kn]=h,E[d+In]=d+me,E[d+Jt]=-1,E[d+Ce]=0,E[d+Fr]=0,E[d+xr]=0,d+=me,E[d+ae]=-1,E[d+rr]=E[s+rr]+h,E[d+we]=E[s+we]-h,E[d+Kn]=h,E[d+In]=d+me,E[d+Jt]=-1,E[d+Ce]=0,E[d+Fr]=0,E[d+xr]=0,d+=me,E[d+ae]=-1,E[d+rr]=E[s+rr]+h,E[d+we]=E[s+we]+h,E[d+Kn]=h,E[d+In]=E[s+In],E[d+Jt]=-1,E[d+Ce]=0,E[d+Fr]=0,E[d+xr]=0,i+=4,e[E[s+ae]+ee]<E[s+rr]?e[E[s+ae]+Yt]<E[s+we]?dt=E[s+Jt]:dt=E[s+Jt]+me:e[E[s+ae]+Yt]<E[s+we]?dt=E[s+Jt]+me*2:dt=E[s+Jt]+me*3,E[s+Ce]=e[E[s+ae]+Tt],E[s+Fr]=e[E[s+ae]+ee],E[s+xr]=e[E[s+ae]+Yt],E[dt+ae]=E[s+ae],E[s+ae]=-1,e[o+ee]<E[s+rr]?e[o+Yt]<E[s+we]?ue=E[s+Jt]:ue=E[s+Jt]+me:e[o+Yt]<E[s+we]?ue=E[s+Jt]+me*2:ue=E[s+Jt]+me*3,dt===ue)if(Ht--){s=dt;continue}else{Ht=gh;break}E[ue+ae]=o;break}}if(t.barnesHutOptimize)for(T=t.scalingRatio,o=0;o<m;o+=pr)for(s=0;;)if(E[s+Jt]>=0)if(M=Math.pow(e[o+ee]-E[s+Fr],2)+Math.pow(e[o+Yt]-E[s+xr],2),f=E[s+Kn],4*f*f/M<D){if(_=e[o+ee]-E[s+Fr],S=e[o+Yt]-E[s+xr],N===!0?M>0?(B=T*e[o+Tt]*E[s+Ce]/M,e[o+St]+=_*B,e[o+Et]+=S*B):M<0&&(B=-T*e[o+Tt]*E[s+Ce]/Math.sqrt(M),e[o+St]+=_*B,e[o+Et]+=S*B):M>0&&(B=T*e[o+Tt]*E[s+Ce]/M,e[o+St]+=_*B,e[o+Et]+=S*B),s=E[s+In],s<0)break;continue}else{s=E[s+Jt];continue}else{if(l=E[s+ae],l>=0&&l!==o&&(_=e[o+ee]-e[l+ee],S=e[o+Yt]-e[l+Yt],M=_*_+S*S,N===!0?M>0?(B=T*e[o+Tt]*e[l+Tt]/M,e[o+St]+=_*B,e[o+Et]+=S*B):M<0&&(B=-T*e[o+Tt]*e[l+Tt]/Math.sqrt(M),e[o+St]+=_*B,e[o+Et]+=S*B):M>0&&(B=T*e[o+Tt]*e[l+Tt]/M,e[o+St]+=_*B,e[o+Et]+=S*B)),s=E[s+In],s<0)break;continue}else for(T=t.scalingRatio,a=0;a<m;a+=pr)for(c=0;c<a;c+=pr)_=e[a+ee]-e[c+ee],S=e[a+Yt]-e[c+Yt],N===!0?(M=Math.sqrt(_*_+S*S)-e[a+co]-e[c+co],M>0?(B=T*e[a+Tt]*e[c+Tt]/M/M,e[a+St]+=_*B,e[a+Et]+=S*B,e[c+St]+=_*B,e[c+Et]+=S*B):M<0&&(B=100*T*e[a+Tt]*e[c+Tt],e[a+St]+=_*B,e[a+Et]+=S*B,e[c+St]-=_*B,e[c+Et]-=S*B)):(M=Math.sqrt(_*_+S*S),M>0&&(B=T*e[a+Tt]*e[c+Tt]/M/M,e[a+St]+=_*B,e[a+Et]+=S*B,e[c+St]-=_*B,e[c+Et]-=S*B));for(d=t.gravity/t.scalingRatio,T=t.scalingRatio,o=0;o<m;o+=pr)B=0,_=e[o+ee],S=e[o+Yt],M=Math.sqrt(Math.pow(_,2)+Math.pow(S,2)),t.strongGravityMode?M>0&&(B=T*e[o+Tt]*d):M>0&&(B=T*e[o+Tt]*d/M),e[o+St]-=_*B,e[o+Et]-=S*B;for(T=1*(t.outboundAttractionDistribution?O:1),u=0;u<b;u+=a0)a=n[u+i0],c=n[u+s0],h=n[u+o0],I=Math.pow(h,t.edgeWeightInfluence),_=e[a+ee]-e[c+ee],S=e[a+Yt]-e[c+Yt],N===!0?(M=Math.sqrt(_*_+S*S)-e[a+co]-e[c+co],t.linLogMode?t.outboundAttractionDistribution?M>0&&(B=-T*I*Math.log(1+M)/M/e[a+Tt]):M>0&&(B=-T*I*Math.log(1+M)/M):t.outboundAttractionDistribution?M>0&&(B=-T*I/e[a+Tt]):M>0&&(B=-T*I)):(M=Math.sqrt(Math.pow(_,2)+Math.pow(S,2)),t.linLogMode?t.outboundAttractionDistribution?M>0&&(B=-T*I*Math.log(1+M)/M/e[a+Tt]):M>0&&(B=-T*I*Math.log(1+M)/M):t.outboundAttractionDistribution?(M=1,B=-T*I/e[a+Tt]):(M=1,B=-T*I)),M>0&&(e[a+St]+=_*B,e[a+Et]+=S*B,e[c+St]-=_*B,e[c+Et]-=S*B);var Qt,pe,U,A,mt,Pt;if(N===!0)for(o=0;o<m;o+=pr)e[o+ph]!==1&&(Qt=Math.sqrt(Math.pow(e[o+St],2)+Math.pow(e[o+Et],2)),Qt>oc&&(e[o+St]=e[o+St]*oc/Qt,e[o+Et]=e[o+Et]*oc/Qt),pe=e[o+Tt]*Math.sqrt((e[o+Qr]-e[o+St])*(e[o+Qr]-e[o+St])+(e[o+tn]-e[o+Et])*(e[o+tn]-e[o+Et])),U=Math.sqrt((e[o+Qr]+e[o+St])*(e[o+Qr]+e[o+St])+(e[o+tn]+e[o+Et])*(e[o+tn]+e[o+Et]))/2,A=.1*Math.log(1+U)/(1+Math.sqrt(pe)),mt=e[o+ee]+e[o+St]*(A/t.slowDown),e[o+ee]=mt,Pt=e[o+Yt]+e[o+Et]*(A/t.slowDown),e[o+Yt]=Pt);else for(o=0;o<m;o+=pr)e[o+ph]!==1&&(pe=e[o+Tt]*Math.sqrt((e[o+Qr]-e[o+St])*(e[o+Qr]-e[o+St])+(e[o+tn]-e[o+Et])*(e[o+tn]-e[o+Et])),U=Math.sqrt((e[o+Qr]+e[o+St])*(e[o+Qr]+e[o+St])+(e[o+tn]+e[o+Et])*(e[o+tn]+e[o+Et]))/2,A=e[o+fh]*Math.log(1+U)/(1+Math.sqrt(pe)),e[o+fh]=Math.min(1,Math.sqrt(A*(Math.pow(e[o+St],2)+Math.pow(e[o+Et],2))/(1+Math.sqrt(pe)))),mt=e[o+ee]+e[o+St]*(A/t.slowDown),e[o+ee]=mt,Pt=e[o+Yt]+e[o+Et]*(A/t.slowDown),e[o+Yt]=Pt);return{}},l0=fi,u0=js.createEdgeWeightGetter,h0=c0,fs=bn,d0=Hf;function Yf(r,t,e){if(!l0(t))throw new Error("graphology-layout-forceatlas2: the given graph is not a valid graphology instance.");typeof e=="number"&&(e={iterations:e});var n=e.iterations;if(typeof n!="number")throw new Error("graphology-layout-forceatlas2: invalid number of iterations.");if(n<=0)throw new Error("graphology-layout-forceatlas2: you should provide a positive number of iterations.");var i=u0(e.getEdgeWeight).fromEntry,s=typeof e.outputReducer=="function"?e.outputReducer:null,o=fs.assign({},d0,e.settings),a=fs.validateSettings(o);if(a)throw new Error("graphology-layout-forceatlas2: "+a.message);var c=fs.graphToByteArrays(t,i),l;for(l=0;l<n;l++)h0(o,c.nodes,c.edges);if(r){fs.assignLayoutChanges(t,c.nodes,s);return}return fs.collectLayoutChanges(t,c.nodes)}function f0(r){var t=typeof r=="number"?r:r.order;return{barnesHutOptimize:t>2e3,strongGravityMode:!0,gravity:.05,scalingRatio:10,slowDown:1+Math.log(t)}}var Dl=Yf.bind(null,!1);Dl.assign=Yf.bind(null,!0);Dl.inferSettings=f0;var p0=Dl;const g0=rs(p0);var zr={},Ol={},xa={},qf={},J={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.multiplyVec2=Ee.multiply=Ee.translate=Ee.rotate=Ee.scale=Ee.identity=void 0;function y0(){return Float32Array.of(1,0,0,0,1,0,0,0,1)}Ee.identity=y0;function m0(r,t,e){return r[0]=t,r[4]=typeof e=="number"?e:t,r}Ee.scale=m0;function v0(r,t){var e=Math.sin(t),n=Math.cos(t);return r[0]=n,r[1]=e,r[3]=-e,r[4]=n,r}Ee.rotate=v0;function b0(r,t,e){return r[6]=t,r[7]=e,r}Ee.translate=b0;function _0(r,t){var e=r[0],n=r[1],i=r[2],s=r[3],o=r[4],a=r[5],c=r[6],l=r[7],u=r[8],h=t[0],d=t[1],f=t[2],m=t[3],b=t[4],N=t[5],D=t[6],O=t[7],T=t[8];return r[0]=h*e+d*s+f*c,r[1]=h*n+d*o+f*l,r[2]=h*i+d*a+f*u,r[3]=m*e+b*s+N*c,r[4]=m*n+b*o+N*l,r[5]=m*i+b*a+N*u,r[6]=D*e+O*s+T*c,r[7]=D*n+O*o+T*l,r[8]=D*i+O*a+T*u,r}Ee.multiply=_0;function w0(r,t,e){e===void 0&&(e=1);var n=r[0],i=r[1],s=r[3],o=r[4],a=r[6],c=r[7],l=t.x,u=t.y;return{x:l*n+u*s+a*e,y:l*i+u*o+c*e}}Ee.multiplyVec2=w0;var La={};Object.defineProperty(La,"__esModule",{value:!0});La.HTML_COLORS=void 0;La.HTML_COLORS={black:"#000000",silver:"#C0C0C0",gray:"#808080",grey:"#808080",white:"#FFFFFF",maroon:"#800000",red:"#FF0000",purple:"#800080",fuchsia:"#FF00FF",green:"#008000",lime:"#00FF00",olive:"#808000",yellow:"#FFFF00",navy:"#000080",blue:"#0000FF",teal:"#008080",aqua:"#00FFFF",darkblue:"#00008B",mediumblue:"#0000CD",darkgreen:"#006400",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",springgreen:"#00FF7F",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",rebeccapurple:"#663399",mediumaquamarine:"#66CDAA",dimgray:"#696969",dimgrey:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",slategrey:"#708090",lightslategray:"#778899",lightslategrey:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370DB",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",palevioletred:"#DB7093",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",lightyellow:"#FFFFE0",ivory:"#FFFFF0"};var yh=k&&k.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return s},S0=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(J,"__esModule",{value:!0});J.validateGraph=J.canUse32BitsIndices=J.extractPixel=J.getMatrixImpact=J.matrixFromCamera=J.getCorrectionRatio=J.floatColor=J.floatArrayColor=J.parseColor=J.zIndexOrdering=J.createNormalizationFunction=J.graphExtent=J.getPixelRatio=J.createElement=J.cancelFrame=J.requestFrame=J.assignDeep=J.assign=J.isPlainObject=void 0;var E0=S0(fi),kt=Ee,Eo=La;function Kf(r){return typeof r=="object"&&r!==null&&r.constructor===Object}J.isPlainObject=Kf;function A0(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];r=r||{};for(var n=0,i=t.length;n<i;n++){var s=t[n];s&&Object.assign(r,s)}return r}J.assign=A0;function Zf(r){for(var t=[],e=1;e<arguments.length;e++)t[e-1]=arguments[e];r=r||{};for(var n=0,i=t.length;n<i;n++){var s=t[n];if(s)for(var o in s)Kf(s[o])?r[o]=Zf(r[o],s[o]):r[o]=s[o]}return r}J.assignDeep=Zf;J.requestFrame=typeof requestAnimationFrame<"u"?function(r){return requestAnimationFrame(r)}:function(r){return setTimeout(r,0)};J.cancelFrame=typeof cancelAnimationFrame<"u"?function(r){return cancelAnimationFrame(r)}:function(r){return clearTimeout(r)};function I0(r,t,e){var n=document.createElement(r);if(t)for(var i in t)n.style[i]=t[i];if(e)for(var i in e)n.setAttribute(i,e[i]);return n}J.createElement=I0;function D0(){return typeof window.devicePixelRatio<"u"?window.devicePixelRatio:1}J.getPixelRatio=D0;function O0(r){if(!r.order)return{x:[0,1],y:[0,1]};var t=1/0,e=-1/0,n=1/0,i=-1/0;return r.forEachNode(function(s,o){var a=o.x,c=o.y;a<t&&(t=a),a>e&&(e=a),c<n&&(n=c),c>i&&(i=c)}),{x:[t,e],y:[n,i]}}J.graphExtent=O0;function T0(r){var t=yh(r.x,2),e=t[0],n=t[1],i=yh(r.y,2),s=i[0],o=i[1],a=Math.max(n-e,o-s),c=(n+e)/2,l=(o+s)/2;(a===0||Math.abs(a)===1/0||isNaN(a))&&(a=1),isNaN(c)&&(c=0),isNaN(l)&&(l=0);var u=function(h){return{x:.5+(h.x-c)/a,y:.5+(h.y-l)/a}};return u.applyTo=function(h){h.x=.5+(h.x-c)/a,h.y=.5+(h.y-l)/a},u.inverse=function(h){return{x:c+a*(h.x-.5),y:l+a*(h.y-.5)}},u.ratio=a,u}J.createNormalizationFunction=T0;function F0(r,t,e){return e.sort(function(n,i){var s=t(n)||0,o=t(i)||0;return s<o?-1:s>o?1:0})}J.zIndexOrdering=F0;var Jf=new Int8Array(4),x0=new Int32Array(Jf.buffer,0,1),L0=new Float32Array(Jf.buffer,0,1),C0=/^\s*rgba?\s*\(/,R0=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)(?:\s*,\s*(.*)?)?\)\s*$/;function Tl(r){var t=0,e=0,n=0,i=1;if(r[0]==="#")r.length===4?(t=parseInt(r.charAt(1)+r.charAt(1),16),e=parseInt(r.charAt(2)+r.charAt(2),16),n=parseInt(r.charAt(3)+r.charAt(3),16)):(t=parseInt(r.charAt(1)+r.charAt(2),16),e=parseInt(r.charAt(3)+r.charAt(4),16),n=parseInt(r.charAt(5)+r.charAt(6),16));else if(C0.test(r)){var s=r.match(R0);s&&(t=+s[1],e=+s[2],n=+s[3],s[4]&&(i=+s[4]))}return{r:t,g:e,b:n,a:i}}J.parseColor=Tl;var Li={};for(var lo in Eo.HTML_COLORS)Li[lo]=Xf(Eo.HTML_COLORS[lo]),Li[Eo.HTML_COLORS[lo]]=Li[lo];function B0(r){r=Eo.HTML_COLORS[r]||r;var t=Tl(r),e=t.r,n=t.g,i=t.b,s=t.a;return new Float32Array([e/255,n/255,i/255,s])}J.floatArrayColor=B0;function Xf(r){if(typeof Li[r]<"u")return Li[r];var t=Tl(r),e=t.r,n=t.g,i=t.b,s=t.a;s=s*255|0,x0[0]=(s<<24|i<<16|n<<8|e)&4278190079;var o=L0[0];return Li[r]=o,o}J.floatColor=Xf;function Qf(r,t){var e=r.height/r.width,n=t.height/t.width;return e<1&&n>1||e>1&&n<1?1:Math.min(Math.max(n,1/n),Math.max(1/e,e))}J.getCorrectionRatio=Qf;function P0(r,t,e,n,i){var s=r.angle,o=r.ratio,a=r.x,c=r.y,l=t.width,u=t.height,h=(0,kt.identity)(),d=Math.min(l,u)-2*n,f=Qf(t,e);return i?((0,kt.multiply)(h,(0,kt.translate)((0,kt.identity)(),a,c)),(0,kt.multiply)(h,(0,kt.scale)((0,kt.identity)(),o)),(0,kt.multiply)(h,(0,kt.rotate)((0,kt.identity)(),s)),(0,kt.multiply)(h,(0,kt.scale)((0,kt.identity)(),l/d/2/f,u/d/2/f))):((0,kt.multiply)(h,(0,kt.scale)((0,kt.identity)(),2*(d/l)*f,2*(d/u)*f)),(0,kt.multiply)(h,(0,kt.rotate)((0,kt.identity)(),-s)),(0,kt.multiply)(h,(0,kt.scale)((0,kt.identity)(),1/o)),(0,kt.multiply)(h,(0,kt.translate)((0,kt.identity)(),-a,-c))),h}J.matrixFromCamera=P0;function N0(r,t,e){var n=(0,kt.multiplyVec2)(r,{x:Math.cos(t.angle),y:Math.sin(t.angle)},0),i=n.x,s=n.y;return 1/Math.sqrt(Math.pow(i,2)+Math.pow(s,2))/e.width}J.getMatrixImpact=N0;function M0(r,t,e,n){var i=n||new Uint8Array(4);return r.readPixels(t,e,1,1,r.RGBA,r.UNSIGNED_BYTE,i),i}J.extractPixel=M0;function U0(r){var t=typeof WebGL2RenderingContext<"u"&&r instanceof WebGL2RenderingContext;return t||!!r.getExtension("OES_element_index_uint")}J.canUse32BitsIndices=U0;function $0(r){if(!(0,E0.default)(r))throw new Error("Sigma: invalid graph instance.");r.forEachNode(function(t,e){if(!Number.isFinite(e.x)||!Number.isFinite(e.y))throw new Error("Sigma: Coordinates of node ".concat(t," are invalid. A node must have a numeric 'x' and 'y' attribute."))})}J.validateGraph=$0;var Fl={};(function(r){Object.defineProperty(r,"__esModule",{value:!0}),r.cubicInOut=r.cubicOut=r.cubicIn=r.quadraticInOut=r.quadraticOut=r.quadraticIn=r.linear=void 0;var t=function(l){return l};r.linear=t;var e=function(l){return l*l};r.quadraticIn=e;var n=function(l){return l*(2-l)};r.quadraticOut=n;var i=function(l){return(l*=2)<1?.5*l*l:-.5*(--l*(l-2)-1)};r.quadraticInOut=i;var s=function(l){return l*l*l};r.cubicIn=s;var o=function(l){return--l*l*l+1};r.cubicOut=o;var a=function(l){return(l*=2)<1?.5*l*l*l:.5*((l-=2)*l*l+2)};r.cubicInOut=a;var c={linear:r.linear,quadraticIn:r.quadraticIn,quadraticOut:r.quadraticOut,quadraticInOut:r.quadraticInOut,cubicIn:r.cubicIn,cubicOut:r.cubicOut,cubicInOut:r.cubicInOut};r.default=c})(Fl);(function(r){var t=k&&k.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(r,"__esModule",{value:!0}),r.animateNodes=r.ANIMATE_DEFAULTS=void 0;var e=J,n=t(Fl);r.ANIMATE_DEFAULTS={easing:"quadraticInOut",duration:150};function i(s,o,a,c){var l=Object.assign({},r.ANIMATE_DEFAULTS,a),u=typeof l.easing=="function"?l.easing:n.default[l.easing],h=Date.now(),d={};for(var f in o){var m=o[f];d[f]={};for(var b in m)d[f][b]=s.getNodeAttribute(f,b)}var N=null,D=function(){N=null;var O=(Date.now()-h)/l.duration;if(O>=1){for(var T in o){var _=o[T];for(var S in _)s.setNodeAttribute(T,S,_[S])}typeof c=="function"&&c();return}O=u(O);for(var T in o){var _=o[T],I=d[T];for(var S in _)s.setNodeAttribute(T,S,_[S]*O+I[S]*(1-O))}N=(0,e.requestFrame)(D)};return D(),function(){N&&(0,e.cancelFrame)(N)}}r.animateNodes=i})(qf);var ss={},k0=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(ss,"__esModule",{value:!0});ss.TypedEventEmitter=void 0;var G0=ff,j0=function(r){k0(t,r);function t(){var e=r.call(this)||this;return e.rawEmitter=e,e}return t}(G0.EventEmitter);ss.TypedEventEmitter=j0;var z0=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),V0=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(xa,"__esModule",{value:!0});var W0=qf,H0=V0(Fl),ac=J,Y0=ss,uo=1.5,q0=function(r){z0(t,r);function t(){var e=r.call(this)||this;return e.x=.5,e.y=.5,e.angle=0,e.ratio=1,e.minRatio=null,e.maxRatio=null,e.nextFrame=null,e.previousState=null,e.enabled=!0,e.previousState=e.getState(),e}return t.from=function(e){var n=new t;return n.setState(e)},t.prototype.enable=function(){return this.enabled=!0,this},t.prototype.disable=function(){return this.enabled=!1,this},t.prototype.getState=function(){return{x:this.x,y:this.y,angle:this.angle,ratio:this.ratio}},t.prototype.hasState=function(e){return this.x===e.x&&this.y===e.y&&this.ratio===e.ratio&&this.angle===e.angle},t.prototype.getPreviousState=function(){var e=this.previousState;return e?{x:e.x,y:e.y,angle:e.angle,ratio:e.ratio}:null},t.prototype.getBoundedRatio=function(e){var n=e;return typeof this.minRatio=="number"&&(n=Math.max(n,this.minRatio)),typeof this.maxRatio=="number"&&(n=Math.min(n,this.maxRatio)),n},t.prototype.validateState=function(e){var n={};return typeof e.x=="number"&&(n.x=e.x),typeof e.y=="number"&&(n.y=e.y),typeof e.angle=="number"&&(n.angle=e.angle),typeof e.ratio=="number"&&(n.ratio=this.getBoundedRatio(e.ratio)),n},t.prototype.isAnimated=function(){return!!this.nextFrame},t.prototype.setState=function(e){if(!this.enabled)return this;this.previousState=this.getState();var n=this.validateState(e);return typeof n.x=="number"&&(this.x=n.x),typeof n.y=="number"&&(this.y=n.y),typeof n.angle=="number"&&(this.angle=n.angle),typeof n.ratio=="number"&&(this.ratio=n.ratio),this.hasState(this.previousState)||this.emit("updated",this.getState()),this},t.prototype.animate=function(e,n,i){var s=this;if(this.enabled){var o=Object.assign({},W0.ANIMATE_DEFAULTS,n),a=this.validateState(e),c=typeof o.easing=="function"?o.easing:H0.default[o.easing],l=Date.now(),u=this.getState(),h=function(){var d=(Date.now()-l)/o.duration;if(d>=1){s.nextFrame=null,s.setState(a),s.animationCallback&&(s.animationCallback.call(null),s.animationCallback=void 0);return}var f=c(d),m={};typeof a.x=="number"&&(m.x=u.x+(a.x-u.x)*f),typeof a.y=="number"&&(m.y=u.y+(a.y-u.y)*f),typeof a.angle=="number"&&(m.angle=u.angle+(a.angle-u.angle)*f),typeof a.ratio=="number"&&(m.ratio=u.ratio+(a.ratio-u.ratio)*f),s.setState(m),s.nextFrame=(0,ac.requestFrame)(h)};this.nextFrame?((0,ac.cancelFrame)(this.nextFrame),this.animationCallback&&this.animationCallback.call(null),this.nextFrame=(0,ac.requestFrame)(h)):h(),this.animationCallback=i}},t.prototype.animatedZoom=function(e){if(!e)this.animate({ratio:this.ratio/uo});else{if(typeof e=="number")return this.animate({ratio:this.ratio/e});this.animate({ratio:this.ratio/(e.factor||uo)},e)}},t.prototype.animatedUnzoom=function(e){if(!e)this.animate({ratio:this.ratio*uo});else{if(typeof e=="number")return this.animate({ratio:this.ratio*e});this.animate({ratio:this.ratio*(e.factor||uo)},e)}},t.prototype.animatedReset=function(e){this.animate({x:.5,y:.5,ratio:1,angle:0},e)},t.prototype.copy=function(){return t.from(this.getState())},t}(Y0.TypedEventEmitter);xa.default=q0;var Ca={},ve={},K0=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),Gi=k&&k.__assign||function(){return Gi=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Gi.apply(this,arguments)};Object.defineProperty(ve,"__esModule",{value:!0});ve.getWheelDelta=ve.getTouchCoords=ve.getTouchesArray=ve.getWheelCoords=ve.getMouseCoords=ve.getPosition=void 0;var Z0=ss;function xl(r,t){var e=t.getBoundingClientRect();return{x:r.clientX-e.left,y:r.clientY-e.top}}ve.getPosition=xl;function tp(r,t){var e=Gi(Gi({},xl(r,t)),{sigmaDefaultPrevented:!1,preventSigmaDefault:function(){e.sigmaDefaultPrevented=!0},original:r});return e}ve.getMouseCoords=tp;function J0(r,t){return Gi(Gi({},tp(r,t)),{delta:rp(r)})}ve.getWheelCoords=J0;var X0=2;function ep(r){for(var t=[],e=0,n=Math.min(r.length,X0);e<n;e++)t.push(r[e]);return t}ve.getTouchesArray=ep;function Q0(r,t){return{touches:ep(r.touches).map(function(e){return xl(e,t)}),original:r}}ve.getTouchCoords=Q0;function rp(r){if(typeof r.deltaY<"u")return r.deltaY*-3/360;if(typeof r.detail<"u")return r.detail/-9;throw new Error("Captor: could not extract delta from event.")}ve.getWheelDelta=rp;var tw=function(r){K0(t,r);function t(e,n){var i=r.call(this)||this;return i.container=e,i.renderer=n,i}return t}(Z0.TypedEventEmitter);ve.default=tw;var ew=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),rw=k&&k.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),nw=k&&k.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),iw=k&&k.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&rw(t,r,e);return nw(t,r),t};Object.defineProperty(Ca,"__esModule",{value:!0});var Re=iw(ve),sw=100,ow=3,aw=200,mh=3,vh=250,bh=1.7,cw=300,lw=2.2,uw=200,hw=function(r){ew(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.enabled=!0,i.draggedEvents=0,i.downStartTime=null,i.lastMouseX=null,i.lastMouseY=null,i.isMouseDown=!1,i.isMoving=!1,i.movingTimeout=null,i.startCameraState=null,i.clicks=0,i.doubleClickTimeout=null,i.currentWheelDirection=0,i.handleClick=i.handleClick.bind(i),i.handleRightClick=i.handleRightClick.bind(i),i.handleDown=i.handleDown.bind(i),i.handleUp=i.handleUp.bind(i),i.handleMove=i.handleMove.bind(i),i.handleWheel=i.handleWheel.bind(i),i.handleOut=i.handleOut.bind(i),e.addEventListener("click",i.handleClick,!1),e.addEventListener("contextmenu",i.handleRightClick,!1),e.addEventListener("mousedown",i.handleDown,!1),e.addEventListener("wheel",i.handleWheel,!1),e.addEventListener("mouseout",i.handleOut,!1),document.addEventListener("mousemove",i.handleMove,!1),document.addEventListener("mouseup",i.handleUp,!1),i}return t.prototype.kill=function(){var e=this.container;e.removeEventListener("click",this.handleClick),e.removeEventListener("contextmenu",this.handleRightClick),e.removeEventListener("mousedown",this.handleDown),e.removeEventListener("wheel",this.handleWheel),e.removeEventListener("mouseout",this.handleOut),document.removeEventListener("mousemove",this.handleMove),document.removeEventListener("mouseup",this.handleUp)},t.prototype.handleClick=function(e){var n=this;if(this.enabled){if(this.clicks++,this.clicks===2)return this.clicks=0,typeof this.doubleClickTimeout=="number"&&(clearTimeout(this.doubleClickTimeout),this.doubleClickTimeout=null),this.handleDoubleClick(e);setTimeout(function(){n.clicks=0,n.doubleClickTimeout=null},cw),this.draggedEvents<ow&&this.emit("click",(0,Re.getMouseCoords)(e,this.container))}},t.prototype.handleRightClick=function(e){this.enabled&&this.emit("rightClick",(0,Re.getMouseCoords)(e,this.container))},t.prototype.handleDoubleClick=function(e){if(this.enabled){e.preventDefault(),e.stopPropagation();var n=(0,Re.getMouseCoords)(e,this.container);if(this.emit("doubleClick",n),!n.sigmaDefaultPrevented){var i=this.renderer.getCamera(),s=i.getBoundedRatio(i.getState().ratio/lw);i.animate(this.renderer.getViewportZoomedState((0,Re.getPosition)(e,this.container),s),{easing:"quadraticInOut",duration:uw})}}},t.prototype.handleDown=function(e){if(this.enabled){this.startCameraState=this.renderer.getCamera().getState();var n=(0,Re.getPosition)(e,this.container),i=n.x,s=n.y;this.lastMouseX=i,this.lastMouseY=s,this.draggedEvents=0,this.downStartTime=Date.now(),this.isMouseDown=!0,this.emit("mousedown",(0,Re.getMouseCoords)(e,this.container))}},t.prototype.handleUp=function(e){var n=this;if(!(!this.enabled||!this.isMouseDown)){var i=this.renderer.getCamera();this.isMouseDown=!1,typeof this.movingTimeout=="number"&&(clearTimeout(this.movingTimeout),this.movingTimeout=null);var s=(0,Re.getPosition)(e,this.container),o=s.x,a=s.y,c=i.getState(),l=i.getPreviousState()||{x:0,y:0};this.isMoving?i.animate({x:c.x+mh*(c.x-l.x),y:c.y+mh*(c.y-l.y)},{duration:aw,easing:"quadraticOut"}):(this.lastMouseX!==o||this.lastMouseY!==a)&&i.setState({x:c.x,y:c.y}),this.isMoving=!1,setTimeout(function(){n.draggedEvents=0,n.renderer.refresh()},0),this.emit("mouseup",(0,Re.getMouseCoords)(e,this.container))}},t.prototype.handleMove=function(e){var n=this;if(this.enabled){var i=(0,Re.getMouseCoords)(e,this.container);if(this.emit("mousemovebody",i),e.target===this.container&&this.emit("mousemove",i),!i.sigmaDefaultPrevented&&this.isMouseDown){this.isMoving=!0,this.draggedEvents++,typeof this.movingTimeout=="number"&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){n.movingTimeout=null,n.isMoving=!1},sw);var s=this.renderer.getCamera(),o=(0,Re.getPosition)(e,this.container),a=o.x,c=o.y,l=this.renderer.viewportToFramedGraph({x:this.lastMouseX,y:this.lastMouseY}),u=this.renderer.viewportToFramedGraph({x:a,y:c}),h=l.x-u.x,d=l.y-u.y,f=s.getState(),m=f.x+h,b=f.y+d;s.setState({x:m,y:b}),this.lastMouseX=a,this.lastMouseY=c,e.preventDefault(),e.stopPropagation()}}},t.prototype.handleWheel=function(e){var n=this;if(this.enabled){e.preventDefault(),e.stopPropagation();var i=(0,Re.getWheelDelta)(e);if(i){var s=(0,Re.getWheelCoords)(e,this.container);if(this.emit("wheel",s),!s.sigmaDefaultPrevented){var o=i>0?1/bh:bh,a=this.renderer.getCamera(),c=a.getBoundedRatio(a.getState().ratio*o),l=i>0?1:-1,u=Date.now();this.currentWheelDirection===l&&this.lastWheelTriggerTime&&u-this.lastWheelTriggerTime<vh/5||(a.animate(this.renderer.getViewportZoomedState((0,Re.getPosition)(e,this.container),c),{easing:"quadraticOut",duration:vh},function(){n.currentWheelDirection=0}),this.currentWheelDirection=l,this.lastWheelTriggerTime=u)}}}},t.prototype.handleOut=function(){},t}(Re.default);Ca.default=hw;var cr={},dw=function(t,e){var n=e.length;if(n!==0){var i=t.length;t.length+=n;for(var s=0;s<n;s++)t[i+s]=e[s]}},_h=k&&k.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return s},wh=k&&k.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))},fw=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(cr,"__esModule",{value:!0});cr.rectangleCollidesWithQuad=cr.squareCollidesWithQuad=cr.getCircumscribedAlignedRectangle=cr.isRectangleAligned=void 0;var pw=fw(dw),ke=4,ps=5,Ei="outside",Ie=0,De=1,Oe=2,Te=3,gw=1,yw=2,mw=3,vw=4,Sh=!1;function np(r){return r.x1===r.x2||r.y1===r.y2}cr.isRectangleAligned=np;function ip(r){var t=Math.sqrt(Math.pow(r.x2-r.x1,2)+Math.pow(r.y2-r.y1,2)),e={x:(r.y1-r.y2)*r.height/t,y:(r.x2-r.x1)*r.height/t},n={x:r.x1,y:r.y1},i={x:r.x2,y:r.y2},s={x:r.x1+e.x,y:r.y1+e.y},o={x:r.x2+e.x,y:r.y2+e.y},a=Math.min(n.x,i.x,s.x,o.x),c=Math.max(n.x,i.x,s.x,o.x),l=Math.min(n.y,i.y,s.y,o.y),u=Math.max(n.y,i.y,s.y,o.y);return{x1:a,y1:l,x2:c,y2:l,height:u-l}}cr.getCircumscribedAlignedRectangle=ip;function bs(r,t,e,n,i,s,o){return r<n+s&&r+e>n&&t<i+o&&t+e>i}cr.squareCollidesWithQuad=bs;function _s(r,t,e,n,i,s,o,a){return r<i+o&&r+e>i&&t<s+a&&t+n>s}cr.rectangleCollidesWithQuad=_s;function bw(r,t,e,n,i,s){var o=e+i/2,a=n+s/2,c=t<a,l=r<o;return c?l?gw:yw:l?mw:vw}function _w(r,t){for(var e=[0,0];e.length;){var n=e.pop(),i=e.pop(),s=4*i+ke,o=4*i+2*ke,a=4*i+3*ke,c=4*i+4*ke,l=t[i+Ie],u=t[i+De],h=t[i+Oe],d=t[i+Te],f=h/2,m=d/2;t[s+Ie]=l,t[s+De]=u,t[s+Oe]=f,t[s+Te]=m,t[o+Ie]=l+f,t[o+De]=u,t[o+Oe]=f,t[o+Te]=m,t[a+Ie]=l,t[a+De]=u+m,t[a+Oe]=f,t[a+Te]=m,t[c+Ie]=l+f,t[c+De]=u+m,t[c+Oe]=f,t[c+Te]=m,n<r-1&&(e.push(c,n+1),e.push(a,n+1),e.push(o,n+1),e.push(s,n+1))}}function ww(r,t,e,n,i,s,o){for(var a=i-o,c=s-o,l=o*2,u=0,h=0;;){if(u>=r){e[h]=e[h]||[],e[h].push(n);return}var d=4*h+ke,f=4*h+2*ke,m=4*h+3*ke,b=4*h+4*ke,N=bs(a,c,l,t[d+Ie],t[d+De],t[d+Oe],t[d+Te]),D=bs(a,c,l,t[f+Ie],t[f+De],t[f+Oe],t[f+Te]),O=bs(a,c,l,t[m+Ie],t[m+De],t[m+Oe],t[m+Te]),T=bs(a,c,l,t[b+Ie],t[b+De],t[b+Oe],t[b+Te]),_=[N,D,O,T].reduce(function(S,I){return I?S+1:S},0);if(_===0&&u===0){e[Ei].push(n),!Sh&&e[Ei].length>=5&&(Sh=!0,console.warn("sigma/quadtree.insertNode: At least 5 nodes are outside the global quadtree zone. You might have a problem with the normalization function or the custom bounding box."));return}if(_===0)throw new Error("sigma/quadtree.insertNode: no collision (level: ".concat(u,", key: ").concat(n,", x: ").concat(i,", y: ").concat(s,", size: ").concat(o,")."));if(_===3)throw new Error("sigma/quadtree.insertNode: 3 impossible collisions (level: ".concat(u,", key: ").concat(n,", x: ").concat(i,", y: ").concat(s,", size: ").concat(o,")."));if(_>1){e[h]=e[h]||[],e[h].push(n);return}else u++;N&&(h=d),D&&(h=f),O&&(h=m),T&&(h=b)}}function Sw(r,t,e,n,i,s,o){for(var a=[0,0],c=[],l;a.length;){var u=a.pop(),h=a.pop();if(l=e[h],l&&(0,pw.default)(c,l),!(u>=r)){var d=4*h+ke,f=4*h+2*ke,m=4*h+3*ke,b=4*h+4*ke,N=_s(n,i,s,o,t[d+Ie],t[d+De],t[d+Oe],t[d+Te]),D=_s(n,i,s,o,t[f+Ie],t[f+De],t[f+Oe],t[f+Te]),O=_s(n,i,s,o,t[m+Ie],t[m+De],t[m+Oe],t[m+Te]),T=_s(n,i,s,o,t[b+Ie],t[b+De],t[b+Oe],t[b+Te]);N&&a.push(d,u+1),D&&a.push(f,u+1),O&&a.push(m,u+1),T&&a.push(b,u+1)}}return c}var Ew=function(){function r(t){var e;t===void 0&&(t={}),this.containers=(e={},e[Ei]=[],e),this.cache=null,this.lastRectangle=null;var n=Math.pow(4,ps);this.data=new Float32Array(ke*((4*n-1)/3)),t.boundaries?this.resize(t.boundaries):this.resize({x:0,y:0,width:1,height:1})}return r.prototype.add=function(t,e,n,i){return ww(ps,this.data,this.containers,t,e,n,i),this},r.prototype.resize=function(t){this.clear(),this.data[Ie]=t.x,this.data[De]=t.y,this.data[Oe]=t.width,this.data[Te]=t.height,_w(ps,this.data)},r.prototype.clear=function(){var t;return this.containers=(t={},t[Ei]=[],t),this},r.prototype.point=function(t,e){var n=this.containers[Ei],i=0,s=0;do{this.containers[i]&&n.push.apply(n,wh([],_h(this.containers[i]),!1));var o=bw(t,e,this.data[i+Ie],this.data[i+De],this.data[i+Oe],this.data[i+Te]);i=4*i+o*ke,s++}while(s<=ps);return n},r.prototype.rectangle=function(t,e,n,i,s){var o,a=this.lastRectangle;return a&&t===a.x1&&n===a.x2&&e===a.y1&&i===a.y2&&s===a.height?this.cache:(this.lastRectangle={x1:t,y1:e,x2:n,y2:i,height:s},np(this.lastRectangle)||(this.lastRectangle=ip(this.lastRectangle)),this.cache=Sw(ps,this.data,this.containers,t,e,Math.abs(t-n)||Math.abs(e-i),s),(o=this.cache).push.apply(o,wh([],_h(this.containers[Ei]),!1)),this.cache)},r}();cr.default=Ew;var ji={};Object.defineProperty(ji,"__esModule",{value:!0});ji.edgeLabelsToDisplayFromNodes=ji.LabelGrid=void 0;var Eh=function(){function r(t,e){this.key=t,this.size=e}return r.compare=function(t,e){return t.size>e.size?-1:t.size<e.size||t.key>e.key?1:-1},r}(),Aw=function(){function r(){this.width=0,this.height=0,this.cellSize=0,this.columns=0,this.rows=0,this.cells={}}return r.prototype.resizeAndClear=function(t,e){this.width=t.width,this.height=t.height,this.cellSize=e,this.columns=Math.ceil(t.width/e),this.rows=Math.ceil(t.height/e),this.cells={}},r.prototype.getIndex=function(t){var e=Math.floor(t.x/this.cellSize),n=Math.floor(t.y/this.cellSize);return n*this.columns+e},r.prototype.add=function(t,e,n){var i=new Eh(t,e),s=this.getIndex(n),o=this.cells[s];o||(o=[],this.cells[s]=o),o.push(i)},r.prototype.organize=function(){for(var t in this.cells){var e=this.cells[t];e.sort(Eh.compare)}},r.prototype.getLabelsToDisplay=function(t,e){var n=this.cellSize*this.cellSize,i=n/t/t,s=i*e/n,o=Math.ceil(s),a=[];for(var c in this.cells)for(var l=this.cells[c],u=0;u<Math.min(o,l.length);u++)a.push(l[u].key);return a},r}();ji.LabelGrid=Aw;function Iw(r){var t=r.graph,e=r.hoveredNode,n=r.highlightedNodes,i=r.displayedNodeLabels,s=[];return t.forEachEdge(function(o,a,c,l){(c===e||l===e||n.has(c)||n.has(l)||i.has(c)&&i.has(l))&&s.push(o)}),s}ji.edgeLabelsToDisplayFromNodes=Iw;var zi={},Ra={};Object.defineProperty(Ra,"__esModule",{value:!0});function Dw(r,t,e){if(t.label){var n=e.labelSize,i=e.labelFont,s=e.labelWeight,o=e.labelColor.attribute?t[e.labelColor.attribute]||e.labelColor.color||"#000":e.labelColor.color;r.fillStyle=o,r.font="".concat(s," ").concat(n,"px ").concat(i),r.fillText(t.label,t.x+t.size+3,t.y+n/3)}}Ra.default=Dw;var Ll={},Ow=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ll,"__esModule",{value:!0});var Tw=Ow(Ra);function Fw(r,t,e){var n=e.labelSize,i=e.labelFont,s=e.labelWeight;r.font="".concat(s," ").concat(n,"px ").concat(i),r.fillStyle="#FFF",r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=8,r.shadowColor="#000";var o=2;if(typeof t.label=="string"){var a=r.measureText(t.label).width,c=Math.round(a+5),l=Math.round(n+2*o),u=Math.max(t.size,n/2)+o,h=Math.asin(l/2/u),d=Math.sqrt(Math.abs(Math.pow(u,2)-Math.pow(l/2,2)));r.beginPath(),r.moveTo(t.x+d,t.y+l/2),r.lineTo(t.x+u+c,t.y+l/2),r.lineTo(t.x+u+c,t.y-l/2),r.lineTo(t.x+d,t.y-l/2),r.arc(t.x,t.y,u,h,-h),r.closePath(),r.fill()}else r.beginPath(),r.arc(t.x,t.y,t.size+o,0,Math.PI*2),r.closePath(),r.fill();r.shadowOffsetX=0,r.shadowOffsetY=0,r.shadowBlur=0,(0,Tw.default)(r,t,e)}Ll.default=Fw;var Cl={};Object.defineProperty(Cl,"__esModule",{value:!0});function xw(r,t,e,n,i){var s=i.edgeLabelSize,o=i.edgeLabelFont,a=i.edgeLabelWeight,c=i.edgeLabelColor.attribute?t[i.edgeLabelColor.attribute]||i.edgeLabelColor.color||"#000":i.edgeLabelColor.color,l=t.label;if(l){r.fillStyle=c,r.font="".concat(a," ").concat(s,"px ").concat(o);var u=e.size,h=n.size,d=e.x,f=e.y,m=n.x,b=n.y,N=(d+m)/2,D=(f+b)/2,O=m-d,T=b-f,_=Math.sqrt(O*O+T*T);if(!(_<u+h)){d+=O*u/_,f+=T*u/_,m-=O*h/_,b-=T*h/_,N=(d+m)/2,D=(f+b)/2,O=m-d,T=b-f,_=Math.sqrt(O*O+T*T);var S=r.measureText(l).width;if(S>_){var I="…";for(l=l+I,S=r.measureText(l).width;S>_&&l.length>1;)l=l.slice(0,-2)+I,S=r.measureText(l).width;if(l.length<4)return}var M;O>0?T>0?M=Math.acos(O/_):M=Math.asin(T/_):T>0?M=Math.acos(O/_)+Math.PI:M=Math.asin(O/_)+Math.PI/2,r.save(),r.translate(N,D),r.rotate(M),r.fillText(l,-S/2,t.size/2+s),r.restore()}}}Cl.default=xw;var Rl={},sp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec2 a_position;
attribute float a_size;
attribute vec4 a_color;

uniform float u_ratio;
uniform float u_scale;
uniform mat3 u_matrix;

varying vec4 v_color;
varying float v_border;

const float bias = 255.0 / 254.0;

void main() {
  gl_Position = vec4(
    (u_matrix * vec3(a_position, 1)).xy,
    0,
    1
  );

  // Multiply the point size twice:
  //  - x SCALING_RATIO to correct the canvas scaling
  //  - x 2 to correct the formulae
  gl_PointSize = a_size * u_ratio * u_scale * 2.0;

  v_border = (1.0 / u_ratio) * (0.5 / a_size);

  // Extract the color:
  v_color = a_color;
  v_color.a *= bias;
}
`;sp.exports=t})();var Lw=sp.exports,op={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;
varying float v_border;

const float radius = 0.5;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  vec2 m = gl_PointCoord - vec2(0.5, 0.5);
  float dist = radius - length(m);

  float t = 0.0;
  if (dist > v_border)
    t = 1.0;
  else if (dist > 0.0)
    t = dist / v_border;

  gl_FragColor = mix(transparent, v_color, t);
}
`;op.exports=t})();var Cw=op.exports,hi={},zs={},Bn={};Object.defineProperty(Bn,"__esModule",{value:!0});Bn.loadProgram=Bn.loadFragmentShader=Bn.loadVertexShader=void 0;function ap(r,t,e){var n=r==="VERTEX"?t.VERTEX_SHADER:t.FRAGMENT_SHADER,i=t.createShader(n);if(i===null)throw new Error("loadShader: error while creating the shader");t.shaderSource(i,e),t.compileShader(i);var s=t.getShaderParameter(i,t.COMPILE_STATUS);if(!s){var o=t.getShaderInfoLog(i);throw t.deleteShader(i),new Error(`loadShader: error while compiling the shader:
`.concat(o,`
`).concat(e))}return i}function Rw(r,t){return ap("VERTEX",r,t)}Bn.loadVertexShader=Rw;function Bw(r,t){return ap("FRAGMENT",r,t)}Bn.loadFragmentShader=Bw;function Pw(r,t){var e=r.createProgram();if(e===null)throw new Error("loadProgram: error while creating the program.");var n,i;for(n=0,i=t.length;n<i;n++)r.attachShader(e,t[n]);r.linkProgram(e);var s=r.getProgramParameter(e,r.LINK_STATUS);if(!s)throw r.deleteProgram(e),new Error("loadProgram: error while linking the program.");return e}Bn.loadProgram=Pw;Object.defineProperty(zs,"__esModule",{value:!0});zs.AbstractProgram=void 0;var cc=Bn,Nw=function(){function r(t,e,n,i,s){this.array=new Float32Array,this.points=i,this.attributes=s,this.gl=t,this.vertexShaderSource=e,this.fragmentShaderSource=n;var o=t.createBuffer();if(o===null)throw new Error("AbstractProgram: error while creating the buffer");this.buffer=o,t.bindBuffer(t.ARRAY_BUFFER,this.buffer),this.vertexShader=(0,cc.loadVertexShader)(t,this.vertexShaderSource),this.fragmentShader=(0,cc.loadFragmentShader)(t,this.fragmentShaderSource),this.program=(0,cc.loadProgram)(t,[this.vertexShader,this.fragmentShader])}return r.prototype.bufferData=function(){var t=this.gl;t.bufferData(t.ARRAY_BUFFER,this.array,t.DYNAMIC_DRAW)},r.prototype.allocate=function(t){this.array=new Float32Array(this.points*this.attributes*t)},r.prototype.hasNothingToRender=function(){return this.array.length===0},r}();zs.AbstractProgram=Nw;var Mw=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(hi,"__esModule",{value:!0});hi.createNodeCompoundProgram=hi.AbstractNodeProgram=void 0;var Uw=zs,$w=function(r){Mw(t,r);function t(e,n,i,s,o){var a=r.call(this,e,n,i,s,o)||this;a.positionLocation=e.getAttribLocation(a.program,"a_position"),a.sizeLocation=e.getAttribLocation(a.program,"a_size"),a.colorLocation=e.getAttribLocation(a.program,"a_color");var c=e.getUniformLocation(a.program,"u_matrix");if(c===null)throw new Error("AbstractNodeProgram: error while getting matrixLocation");a.matrixLocation=c;var l=e.getUniformLocation(a.program,"u_ratio");if(l===null)throw new Error("AbstractNodeProgram: error while getting ratioLocation");a.ratioLocation=l;var u=e.getUniformLocation(a.program,"u_scale");if(u===null)throw new Error("AbstractNodeProgram: error while getting scaleLocation");return a.scaleLocation=u,a}return t.prototype.bind=function(){var e=this.gl;e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.sizeLocation),e.enableVertexAttribArray(this.colorLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.sizeLocation,1,e.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,this.attributes*Float32Array.BYTES_PER_ELEMENT,12)},t}(Uw.AbstractProgram);hi.AbstractNodeProgram=$w;function kw(r){return function(){function t(e,n){this.programs=r.map(function(i){return new i(e,n)})}return t.prototype.bufferData=function(){this.programs.forEach(function(e){return e.bufferData()})},t.prototype.allocate=function(e){this.programs.forEach(function(n){return n.allocate(e)})},t.prototype.bind=function(){},t.prototype.render=function(e){this.programs.forEach(function(n){n.bind(),n.bufferData(),n.render(e)})},t.prototype.process=function(e,n,i){this.programs.forEach(function(s){return s.process(e,n,i)})},t}()}hi.createNodeCompoundProgram=kw;var Gw=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),cp=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Rl,"__esModule",{value:!0});var jw=J,zw=cp(Lw),Vw=cp(Cw),Ww=hi,Ah=1,lc=4,Hw=function(r){Gw(t,r);function t(e){var n=r.call(this,e,zw.default,Vw.default,Ah,lc)||this;return n.bind(),n}return t.prototype.process=function(e,n,i){var s=this.array,o=i*Ah*lc;if(n){s[o++]=0,s[o++]=0,s[o++]=0,s[o++]=0;return}var a=(0,jw.floatColor)(e.color);s[o++]=e.x,s[o++]=e.y,s[o++]=e.size,s[o]=a},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,i=this.program;n.useProgram(i),n.uniform1f(this.ratioLocation,1/Math.sqrt(e.ratio)),n.uniform1f(this.scaleLocation,e.scalingRatio),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.drawArrays(n.POINTS,0,this.array.length/lc)}},t}(Ww.AbstractNodeProgram);Rl.default=Hw;var Bl={},lp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec4 a_color;
attribute vec2 a_normal;
attribute vec2 a_position;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // We require edges to be at least \`minThickness\` pixels thick *on screen*
  // (so we need to compensate the SQRT zoom ratio):
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);

  // Then, we need to retrieve the normalized thickness of the edge in the WebGL
  // referential (in a ([0, 1], [0, 1]) space), using our "magic" correction
  // ratio:
  float webGLThickness = pixelsThickness * u_correctionRatio;

  // Finally, we adapt the edge thickness to the "SQRT rule" in sigma (so that
  // items are not too big when zoomed in, and not too small when zoomed out).
  // The exact computation should be \`adapted = value * zoom / sqrt(zoom)\`, but
  // it's simpler like this:
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness, 1)).xy, 0, 1);

  // For the fragment shader though, we need a thickness that takes the "magic"
  // correction ratio into account (as in webGLThickness), but so that the
  // antialiasint effect does not depend on the zoom level. So here's yet
  // another thickness version:
  v_thickness = webGLThickness / u_sqrtZoomRatio;

  v_normal = unitNormal;
  v_color = a_color;
  v_color.a *= bias;
}
`;lp.exports=t})();var Yw=lp.exports,up={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float feather = 0.001;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  float dist = length(v_normal) * v_thickness;

  float t = smoothstep(
    v_thickness - feather,
    v_thickness,
    dist
  );

  gl_FragColor = mix(v_color, transparent, t);
}
`;up.exports=t})();var hp=up.exports,gn={},qw=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();Object.defineProperty(gn,"__esModule",{value:!0});gn.createEdgeCompoundProgram=gn.AbstractEdgeProgram=void 0;var Kw=zs,Zw=function(r){qw(t,r);function t(e,n,i,s,o){return r.call(this,e,n,i,s,o)||this}return t}(Kw.AbstractProgram);gn.AbstractEdgeProgram=Zw;function Jw(r){return function(){function t(e,n){this.programs=r.map(function(i){return new i(e,n)})}return t.prototype.bufferData=function(){this.programs.forEach(function(e){return e.bufferData()})},t.prototype.allocate=function(e){this.programs.forEach(function(n){return n.allocate(e)})},t.prototype.bind=function(){},t.prototype.computeIndices=function(){this.programs.forEach(function(e){return e.computeIndices()})},t.prototype.render=function(e){this.programs.forEach(function(n){n.bind(),n.bufferData(),n.render(e)})},t.prototype.process=function(e,n,i,s,o){this.programs.forEach(function(a){return a.process(e,n,i,s,o)})},t}()}gn.createEdgeCompoundProgram=Jw;var Xw=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),dp=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bl,"__esModule",{value:!0});var Ih=J,Qw=dp(Yw),tS=dp(hp),eS=gn,Cc=4,Jn=5,Dh=Cc*Jn,rS=function(r){Xw(t,r);function t(e){var n=r.call(this,e,Qw.default,tS.default,Cc,Jn)||this,i=e.createBuffer();if(i===null)throw new Error("EdgeProgram: error while creating indicesBuffer");n.indicesBuffer=i,n.positionLocation=e.getAttribLocation(n.program,"a_position"),n.colorLocation=e.getAttribLocation(n.program,"a_color"),n.normalLocation=e.getAttribLocation(n.program,"a_normal");var s=e.getUniformLocation(n.program,"u_matrix");if(s===null)throw new Error("EdgeProgram: error while getting matrixLocation");n.matrixLocation=s;var o=e.getUniformLocation(n.program,"u_correctionRatio");if(o===null)throw new Error("EdgeProgram: error while getting correctionRatioLocation");n.correctionRatioLocation=o;var a=e.getUniformLocation(n.program,"u_sqrtZoomRatio");if(a===null)throw new Error("EdgeProgram: error while getting sqrtZoomRatioLocation");return n.sqrtZoomRatioLocation=a,n.canUse32BitsIndices=(0,Ih.canUse32BitsIndices)(e),n.IndicesArray=n.canUse32BitsIndices?Uint32Array:Uint16Array,n.indicesArray=new n.IndicesArray,n.indicesType=n.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,n.bind(),n}return t.prototype.bind=function(){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.colorLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,Jn*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,Jn*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,Jn*Float32Array.BYTES_PER_ELEMENT,16)},t.prototype.computeIndices=function(){for(var e=this.array.length/Jn,n=e+e/2,i=new this.IndicesArray(n),s=0,o=0;s<e;s+=4)i[o++]=s,i[o++]=s+1,i[o++]=s+2,i[o++]=s+2,i[o++]=s+1,i[o++]=s+3;this.indicesArray=i},t.prototype.bufferData=function(){r.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},t.prototype.process=function(e,n,i,s,o){if(s){for(var a=o*Dh,c=a+Dh;a<c;a++)this.array[a]=0;return}var l=i.size||1,u=e.x,h=e.y,d=n.x,f=n.y,m=(0,Ih.floatColor)(i.color),b=d-u,N=f-h,D=b*b+N*N,O=0,T=0;D&&(D=1/Math.sqrt(D),O=-N*D*l,T=b*D*l);var _=Cc*Jn*o,S=this.array;S[_++]=u,S[_++]=h,S[_++]=O,S[_++]=T,S[_++]=m,S[_++]=u,S[_++]=h,S[_++]=-O,S[_++]=-T,S[_++]=m,S[_++]=d,S[_++]=f,S[_++]=O,S[_++]=T,S[_++]=m,S[_++]=d,S[_++]=f,S[_++]=-O,S[_++]=-T,S[_]=m},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,i=this.program;n.useProgram(i),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawElements(n.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},t}(eS.AbstractEdgeProgram);Bl.default=rS;var Pl={},Nl={},fp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec2 a_position;
attribute vec2 a_normal;
attribute float a_radius;
attribute vec4 a_color;
attribute vec3 a_barycentric;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadWidthLengthRatio = 0.66;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl and
  // edge.clamped.vert.glsl. Please read it to get better comments on what's
  // happening:
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;
  float adaptedWebGLNodeRadius = a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;
  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;
  float adaptedWebGLArrowHeadHalfWidth = adaptedWebGLArrowHeadLength * arrowHeadWidthLengthRatio / 2.0;

  float da = a_barycentric.x;
  float db = a_barycentric.y;
  float dc = a_barycentric.z;

  vec2 delta = vec2(
      da * (adaptedWebGLNodeRadius * unitNormal.y)
    + db * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y + adaptedWebGLArrowHeadHalfWidth * unitNormal.x)
    + dc * ((adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.y - adaptedWebGLArrowHeadHalfWidth * unitNormal.x),

      da * (-adaptedWebGLNodeRadius * unitNormal.x)
    + db * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x + adaptedWebGLArrowHeadHalfWidth * unitNormal.y)
    + dc * (-(adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength) * unitNormal.x - adaptedWebGLArrowHeadHalfWidth * unitNormal.y)
  );

  vec2 position = (u_matrix * vec3(a_position + delta, 1)).xy;

  gl_Position = vec4(position, 0, 1);

  // Extract the color:
  v_color = a_color;
  v_color.a *= bias;
}
`;fp.exports=t})();var nS=fp.exports,pp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;

void main(void) {
  gl_FragColor = v_color;
}
`;pp.exports=t})();var iS=pp.exports,sS=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),gp=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Nl,"__esModule",{value:!0});var oS=J,aS=gp(nS),cS=gp(iS),lS=gn,Rc=3,rn=9,Oh=Rc*rn,uS=function(r){sS(t,r);function t(e){var n=r.call(this,e,aS.default,cS.default,Rc,rn)||this;n.positionLocation=e.getAttribLocation(n.program,"a_position"),n.colorLocation=e.getAttribLocation(n.program,"a_color"),n.normalLocation=e.getAttribLocation(n.program,"a_normal"),n.radiusLocation=e.getAttribLocation(n.program,"a_radius"),n.barycentricLocation=e.getAttribLocation(n.program,"a_barycentric");var i=e.getUniformLocation(n.program,"u_matrix");if(i===null)throw new Error("EdgeArrowHeadProgram: error while getting matrixLocation");n.matrixLocation=i;var s=e.getUniformLocation(n.program,"u_sqrtZoomRatio");if(s===null)throw new Error("EdgeArrowHeadProgram: error while getting sqrtZoomRatioLocation");n.sqrtZoomRatioLocation=s;var o=e.getUniformLocation(n.program,"u_correctionRatio");if(o===null)throw new Error("EdgeArrowHeadProgram: error while getting correctionRatioLocation");return n.correctionRatioLocation=o,n.bind(),n}return t.prototype.bind=function(){var e=this.gl;e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.radiusLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.barycentricLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,rn*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,rn*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,rn*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,rn*Float32Array.BYTES_PER_ELEMENT,20),e.vertexAttribPointer(this.barycentricLocation,3,e.FLOAT,!1,rn*Float32Array.BYTES_PER_ELEMENT,24)},t.prototype.computeIndices=function(){},t.prototype.process=function(e,n,i,s,o){if(s){for(var a=o*Oh,c=a+Oh;a<c;a++)this.array[a]=0;return}var l=i.size||1,u=n.size||1,h=e.x,d=e.y,f=n.x,m=n.y,b=(0,oS.floatColor)(i.color),N=f-h,D=m-d,O=N*N+D*D,T=0,_=0;O&&(O=1/Math.sqrt(O),T=-D*O*l,_=N*O*l);var S=Rc*rn*o,I=this.array;I[S++]=f,I[S++]=m,I[S++]=-T,I[S++]=-_,I[S++]=u,I[S++]=b,I[S++]=1,I[S++]=0,I[S++]=0,I[S++]=f,I[S++]=m,I[S++]=-T,I[S++]=-_,I[S++]=u,I[S++]=b,I[S++]=0,I[S++]=1,I[S++]=0,I[S++]=f,I[S++]=m,I[S++]=-T,I[S++]=-_,I[S++]=u,I[S++]=b,I[S++]=0,I[S++]=0,I[S]=1},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,i=this.program;n.useProgram(i),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawArrays(n.TRIANGLES,0,this.array.length/rn)}},t}(lS.AbstractEdgeProgram);Nl.default=uS;var Ml={},yp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec4 a_color;
attribute vec2 a_normal;
attribute vec2 a_position;
attribute float a_radius;

uniform mat3 u_matrix;
uniform float u_sqrtZoomRatio;
uniform float u_correctionRatio;

varying vec4 v_color;
varying vec2 v_normal;
varying float v_thickness;

const float minThickness = 1.7;
const float bias = 255.0 / 254.0;
const float arrowHeadLengthThicknessRatio = 2.5;

void main() {
  float normalLength = length(a_normal);
  vec2 unitNormal = a_normal / normalLength;

  // These first computations are taken from edge.vert.glsl. Please read it to
  // get better comments on what's happening:
  float pixelsThickness = max(normalLength, minThickness * u_sqrtZoomRatio);
  float webGLThickness = pixelsThickness * u_correctionRatio;
  float adaptedWebGLThickness = webGLThickness * u_sqrtZoomRatio;

  // Here, we move the point to leave space for the arrow head:
  float direction = sign(a_radius);
  float adaptedWebGLNodeRadius = direction * a_radius * 2.0 * u_correctionRatio * u_sqrtZoomRatio;
  float adaptedWebGLArrowHeadLength = adaptedWebGLThickness * 2.0 * arrowHeadLengthThicknessRatio;

  vec2 compensationVector = vec2(-direction * unitNormal.y, direction * unitNormal.x) * (adaptedWebGLNodeRadius + adaptedWebGLArrowHeadLength);

  // Here is the proper position of the vertex
  gl_Position = vec4((u_matrix * vec3(a_position + unitNormal * adaptedWebGLThickness + compensationVector, 1)).xy, 0, 1);

  v_thickness = webGLThickness / u_sqrtZoomRatio;

  v_normal = unitNormal;
  v_color = a_color;
  v_color.a *= bias;
}
`;yp.exports=t})();var hS=yp.exports,dS=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),mp=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ml,"__esModule",{value:!0});var fS=gn,Th=J,pS=mp(hS),gS=mp(hp),Bc=4,On=6,Fh=Bc*On,yS=function(r){dS(t,r);function t(e){var n=r.call(this,e,pS.default,gS.default,Bc,On)||this,i=e.createBuffer();if(i===null)throw new Error("EdgeClampedProgram: error while getting resolutionLocation");n.indicesBuffer=i,n.positionLocation=e.getAttribLocation(n.program,"a_position"),n.colorLocation=e.getAttribLocation(n.program,"a_color"),n.normalLocation=e.getAttribLocation(n.program,"a_normal"),n.radiusLocation=e.getAttribLocation(n.program,"a_radius");var s=e.getUniformLocation(n.program,"u_matrix");if(s===null)throw new Error("EdgeClampedProgram: error while getting matrixLocation");n.matrixLocation=s;var o=e.getUniformLocation(n.program,"u_sqrtZoomRatio");if(o===null)throw new Error("EdgeClampedProgram: error while getting cameraRatioLocation");n.sqrtZoomRatioLocation=o;var a=e.getUniformLocation(n.program,"u_correctionRatio");if(a===null)throw new Error("EdgeClampedProgram: error while getting viewportRatioLocation");return n.correctionRatioLocation=a,n.canUse32BitsIndices=(0,Th.canUse32BitsIndices)(e),n.IndicesArray=n.canUse32BitsIndices?Uint32Array:Uint16Array,n.indicesArray=new n.IndicesArray,n.indicesType=n.canUse32BitsIndices?e.UNSIGNED_INT:e.UNSIGNED_SHORT,n.bind(),n}return t.prototype.bind=function(){var e=this.gl;e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,this.indicesBuffer),e.enableVertexAttribArray(this.positionLocation),e.enableVertexAttribArray(this.normalLocation),e.enableVertexAttribArray(this.colorLocation),e.enableVertexAttribArray(this.radiusLocation),e.vertexAttribPointer(this.positionLocation,2,e.FLOAT,!1,On*Float32Array.BYTES_PER_ELEMENT,0),e.vertexAttribPointer(this.normalLocation,2,e.FLOAT,!1,On*Float32Array.BYTES_PER_ELEMENT,8),e.vertexAttribPointer(this.colorLocation,4,e.UNSIGNED_BYTE,!0,On*Float32Array.BYTES_PER_ELEMENT,16),e.vertexAttribPointer(this.radiusLocation,1,e.FLOAT,!1,On*Float32Array.BYTES_PER_ELEMENT,20)},t.prototype.process=function(e,n,i,s,o){if(s){for(var a=o*Fh,c=a+Fh;a<c;a++)this.array[a]=0;return}var l=i.size||1,u=e.x,h=e.y,d=n.x,f=n.y,m=n.size||1,b=(0,Th.floatColor)(i.color),N=d-u,D=f-h,O=N*N+D*D,T=0,_=0;O&&(O=1/Math.sqrt(O),T=-D*O*l,_=N*O*l);var S=Bc*On*o,I=this.array;I[S++]=u,I[S++]=h,I[S++]=T,I[S++]=_,I[S++]=b,I[S++]=0,I[S++]=u,I[S++]=h,I[S++]=-T,I[S++]=-_,I[S++]=b,I[S++]=0,I[S++]=d,I[S++]=f,I[S++]=T,I[S++]=_,I[S++]=b,I[S++]=m,I[S++]=d,I[S++]=f,I[S++]=-T,I[S++]=-_,I[S++]=b,I[S]=-m},t.prototype.computeIndices=function(){for(var e=this.array.length/On,n=e+e/2,i=new this.IndicesArray(n),s=0,o=0;s<e;s+=4)i[o++]=s,i[o++]=s+1,i[o++]=s+2,i[o++]=s+2,i[o++]=s+1,i[o++]=s+3;this.indicesArray=i},t.prototype.bufferData=function(){r.prototype.bufferData.call(this);var e=this.gl;e.bufferData(e.ELEMENT_ARRAY_BUFFER,this.indicesArray,e.STATIC_DRAW)},t.prototype.render=function(e){if(!this.hasNothingToRender()){var n=this.gl,i=this.program;n.useProgram(i),n.uniformMatrix3fv(this.matrixLocation,!1,e.matrix),n.uniform1f(this.sqrtZoomRatioLocation,Math.sqrt(e.ratio)),n.uniform1f(this.correctionRatioLocation,e.correctionRatio),n.drawElements(n.TRIANGLES,this.indicesArray.length,this.indicesType,0)}},t}(fS.AbstractEdgeProgram);Ml.default=yS;var vp=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Pl,"__esModule",{value:!0});var mS=gn,vS=vp(Nl),bS=vp(Ml),_S=(0,mS.createEdgeCompoundProgram)([bS.default,vS.default]);Pl.default=_S;var os=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zi,"__esModule",{value:!0});zi.DEFAULT_SETTINGS=zi.validateSettings=void 0;var wS=os(Ra),SS=os(Ll),ES=os(Cl),AS=os(Rl),IS=os(Bl),DS=os(Pl);function OS(r){if(typeof r.labelDensity!="number"||r.labelDensity<0)throw new Error("Settings: invalid `labelDensity`. Expecting a positive number.");var t=r.minCameraRatio,e=r.maxCameraRatio;if(typeof t=="number"&&typeof e=="number"&&e<t)throw new Error("Settings: invalid camera ratio boundaries. Expecting `maxCameraRatio` to be greater than `minCameraRatio`.")}zi.validateSettings=OS;zi.DEFAULT_SETTINGS={hideEdgesOnMove:!1,hideLabelsOnMove:!1,renderLabels:!0,renderEdgeLabels:!1,enableEdgeClickEvents:!1,enableEdgeWheelEvents:!1,enableEdgeHoverEvents:!1,defaultNodeColor:"#999",defaultNodeType:"circle",defaultEdgeColor:"#ccc",defaultEdgeType:"line",labelFont:"Arial",labelSize:14,labelWeight:"normal",labelColor:{color:"#000"},edgeLabelFont:"Arial",edgeLabelSize:14,edgeLabelWeight:"normal",edgeLabelColor:{attribute:"color"},stagePadding:30,labelDensity:1,labelGridCellSize:100,labelRenderedSizeThreshold:6,nodeReducer:null,edgeReducer:null,zIndex:!1,minCameraRatio:null,maxCameraRatio:null,labelRenderer:wS.default,hoverRenderer:SS.default,edgeLabelRenderer:ES.default,allowInvalidContainer:!1,nodeProgramClasses:{circle:AS.default},edgeProgramClasses:{arrow:DS.default,line:IS.default}};var Ul={},TS=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),FS=k&&k.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),xS=k&&k.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),LS=k&&k.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&FS(t,r,e);return xS(t,r),t},xh=k&&k.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return s};Object.defineProperty(Ul,"__esModule",{value:!0});var en=LS(ve),CS=200,Lh=3,RS=200,BS=function(r){TS(t,r);function t(e,n){var i=r.call(this,e,n)||this;return i.enabled=!0,i.isMoving=!1,i.touchMode=0,i.handleStart=i.handleStart.bind(i),i.handleLeave=i.handleLeave.bind(i),i.handleMove=i.handleMove.bind(i),e.addEventListener("touchstart",i.handleStart,!1),e.addEventListener("touchend",i.handleLeave,!1),e.addEventListener("touchcancel",i.handleLeave,!1),e.addEventListener("touchmove",i.handleMove,!1),i}return t.prototype.kill=function(){var e=this.container;e.removeEventListener("touchstart",this.handleStart),e.removeEventListener("touchend",this.handleLeave),e.removeEventListener("touchcancel",this.handleLeave),e.removeEventListener("touchmove",this.handleMove)},t.prototype.getDimensions=function(){return{width:this.container.offsetWidth,height:this.container.offsetHeight}},t.prototype.dispatchRelatedMouseEvent=function(e,n,i,s){var o=i||(0,en.getPosition)(n.touches[0],this.container),a=new MouseEvent(e,{clientX:o.x,clientY:o.y,altKey:n.altKey,ctrlKey:n.ctrlKey});a.isFakeSigmaMouseEvent=!0,(s||this.container).dispatchEvent(a)},t.prototype.handleStart=function(e){var n=this;if(this.enabled){e.preventDefault(),e.touches.length===1&&this.dispatchRelatedMouseEvent("mousedown",e);var i=(0,en.getTouchesArray)(e.touches);if(this.isMoving=!0,this.touchMode=i.length,this.startCameraState=this.renderer.getCamera().getState(),this.startTouchesPositions=i.map(function(d){return(0,en.getPosition)(d,n.container)}),this.lastTouchesPositions=this.startTouchesPositions,this.touchMode===2){var s=xh(this.startTouchesPositions,2),o=s[0],a=o.x,c=o.y,l=s[1],u=l.x,h=l.y;this.startTouchesAngle=Math.atan2(h-c,u-a),this.startTouchesDistance=Math.sqrt(Math.pow(u-a,2)+Math.pow(h-c,2))}this.emit("touchdown",(0,en.getTouchCoords)(e,this.container))}},t.prototype.handleLeave=function(e){if(this.enabled){switch(e.preventDefault(),e.touches.length===0&&this.lastTouchesPositions&&this.lastTouchesPositions.length&&(this.dispatchRelatedMouseEvent("mouseup",e,this.lastTouchesPositions[0],document),this.dispatchRelatedMouseEvent("click",e,this.lastTouchesPositions[0])),this.movingTimeout&&(this.isMoving=!1,clearTimeout(this.movingTimeout)),this.touchMode){case 2:if(e.touches.length===1){this.handleStart(e),e.preventDefault();break}case 1:if(this.isMoving){var n=this.renderer.getCamera(),i=n.getState(),s=n.getPreviousState()||{x:0,y:0};n.animate({x:i.x+Lh*(i.x-s.x),y:i.y+Lh*(i.y-s.y)},{duration:RS,easing:"quadraticOut"})}this.isMoving=!1,this.touchMode=0;break}this.emit("touchup",(0,en.getTouchCoords)(e,this.container))}},t.prototype.handleMove=function(e){var n,i=this;if(this.enabled){e.preventDefault(),e.touches.length===1&&this.dispatchRelatedMouseEvent("mousemove",e);var s=this.renderer.getCamera(),o=this.startCameraState,a=(0,en.getTouchesArray)(e.touches),c=a.map(function(ue){return(0,en.getPosition)(ue,i.container)});switch(this.lastTouchesPositions=c,this.isMoving=!0,this.movingTimeout&&clearTimeout(this.movingTimeout),this.movingTimeout=window.setTimeout(function(){i.isMoving=!1},CS),this.touchMode){case 1:{var l=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0]),u=l.x,h=l.y,d=this.renderer.viewportToFramedGraph(c[0]),f=d.x,m=d.y;s.setState({x:o.x+u-f,y:o.y+h-m});break}case 2:{var b={},N=c[0],D=N.x,O=N.y,T=c[1],_=T.x,S=T.y,I=Math.atan2(S-O,_-D)-this.startTouchesAngle,M=Math.hypot(S-O,_-D)/this.startTouchesDistance,B=s.getBoundedRatio(o.ratio/M);b.ratio=B,b.angle=o.angle+I;var E=this.getDimensions(),ct=this.renderer.viewportToFramedGraph((this.startTouchesPositions||[])[0],{cameraState:o}),yt=Math.min(E.width,E.height),vt=yt/E.width,Wt=yt/E.height,dt=B/yt,f=D-yt/2/vt,m=O-yt/2/Wt;n=xh([f*Math.cos(-b.angle)-m*Math.sin(-b.angle),m*Math.cos(-b.angle)+f*Math.sin(-b.angle)],2),f=n[0],m=n[1],b.x=ct.x-f*dt,b.y=ct.y+m*dt,s.setState(b);break}}this.emit("touchmove",(0,en.getTouchCoords)(e,this.container))}},t}(en.default);Ul.default=BS;var Vi={};Object.defineProperty(Vi,"__esModule",{value:!0});Vi.doEdgeCollideWithPoint=Vi.isPixelColored=void 0;function PS(r,t,e){var n=new Uint8Array(4);return r.readPixels(t,r.drawingBufferHeight-e,1,1,r.RGBA,r.UNSIGNED_BYTE,n),n[3]>0}Vi.isPixelColored=PS;function NS(r,t,e,n,i,s,o){if(r<e-o&&r<i-o||t<n-o&&t<s-o||r>e+o&&r>i+o||t>n+o&&t>s+o)return!1;var a=Math.abs((i-e)*(n-t)-(e-r)*(s-n))/Math.sqrt(Math.pow(i-e,2)+Math.pow(s-n,2));return a<o/2}Vi.doEdgeCollideWithPoint=NS;var MS=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),At=k&&k.__assign||function(){return At=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},At.apply(this,arguments)},US=k&&k.__values||function(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},Ba=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ol,"__esModule",{value:!0});var Ch=Ba(xa),$S=Ba(Ca),Rh=Ba(cr),kS=ss,qt=J,Bh=ji,ho=zi,GS=Ba(Ul),fo=Ee,Ph=Vi;function jS(r,t,e){if(!e.hasOwnProperty("x")||!e.hasOwnProperty("y"))throw new Error('Sigma: could not find a valid position (x, y) for node "'.concat(t,'". All your nodes must have a number "x" and "y". Maybe your forgot to apply a layout or your "nodeReducer" is not returning the correct data?'));return e.color||(e.color=r.defaultNodeColor),!e.label&&e.label!==""&&(e.label=null),e.label!==void 0&&e.label!==null?e.label=""+e.label:e.label=null,e.size||(e.size=2),e.hasOwnProperty("hidden")||(e.hidden=!1),e.hasOwnProperty("highlighted")||(e.highlighted=!1),e.hasOwnProperty("forceLabel")||(e.forceLabel=!1),(!e.type||e.type==="")&&(e.type=r.defaultNodeType),e.zIndex||(e.zIndex=0),e}function zS(r,t,e){return e.color||(e.color=r.defaultEdgeColor),e.label||(e.label=""),e.size||(e.size=.5),e.hasOwnProperty("hidden")||(e.hidden=!1),e.hasOwnProperty("forceLabel")||(e.forceLabel=!1),(!e.type||e.type==="")&&(e.type=r.defaultEdgeType),e.zIndex||(e.zIndex=0),e}var VS=function(r){MS(t,r);function t(e,n,i){i===void 0&&(i={});var s=r.call(this)||this;if(s.elements={},s.canvasContexts={},s.webGLContexts={},s.activeListeners={},s.quadtree=new Rh.default,s.labelGrid=new Bh.LabelGrid,s.nodeDataCache={},s.edgeDataCache={},s.nodesWithForcedLabels=[],s.edgesWithForcedLabels=[],s.nodeExtent={x:[0,1],y:[0,1]},s.matrix=(0,fo.identity)(),s.invMatrix=(0,fo.identity)(),s.correctionRatio=1,s.customBBox=null,s.normalizationFunction=(0,qt.createNormalizationFunction)({x:[0,1],y:[0,1]}),s.cameraSizeRatio=1,s.width=0,s.height=0,s.pixelRatio=(0,qt.getPixelRatio)(),s.displayedLabels=new Set,s.highlightedNodes=new Set,s.hoveredNode=null,s.hoveredEdge=null,s.renderFrame=null,s.renderHighlightedNodesFrame=null,s.needToProcess=!1,s.needToSoftProcess=!1,s.checkEdgesEventsFrame=null,s.nodePrograms={},s.hoverNodePrograms={},s.edgePrograms={},s.settings=(0,qt.assign)({},ho.DEFAULT_SETTINGS,i),(0,ho.validateSettings)(s.settings),(0,qt.validateGraph)(e),!(n instanceof HTMLElement))throw new Error("Sigma: container should be an html element.");s.graph=e,s.container=n,s.createWebGLContext("edges",{preserveDrawingBuffer:!0}),s.createCanvasContext("edgeLabels"),s.createWebGLContext("nodes"),s.createCanvasContext("labels"),s.createCanvasContext("hovers"),s.createWebGLContext("hoverNodes"),s.createCanvasContext("mouse");for(var o in s.webGLContexts){var a=s.webGLContexts[o];a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA),a.enable(a.BLEND)}for(var c in s.settings.nodeProgramClasses){var l=s.settings.nodeProgramClasses[c];s.nodePrograms[c]=new l(s.webGLContexts.nodes,s),s.hoverNodePrograms[c]=new l(s.webGLContexts.hoverNodes,s)}for(var c in s.settings.edgeProgramClasses){var u=s.settings.edgeProgramClasses[c];s.edgePrograms[c]=new u(s.webGLContexts.edges,s)}return s.resize(),s.camera=new Ch.default,s.bindCameraHandlers(),s.mouseCaptor=new $S.default(s.elements.mouse,s),s.touchCaptor=new GS.default(s.elements.mouse,s),s.bindEventHandlers(),s.bindGraphHandlers(),s.handleSettingsUpdate(),s.process(),s.render(),s}return t.prototype.createCanvas=function(e){var n=(0,qt.createElement)("canvas",{position:"absolute"},{class:"sigma-".concat(e)});return this.elements[e]=n,this.container.appendChild(n),n},t.prototype.createCanvasContext=function(e){var n=this.createCanvas(e),i={preserveDrawingBuffer:!1,antialias:!1};return this.canvasContexts[e]=n.getContext("2d",i),this},t.prototype.createWebGLContext=function(e,n){var i=this.createCanvas(e),s=At({preserveDrawingBuffer:!1,antialias:!1},n||{}),o;return o=i.getContext("webgl2",s),o||(o=i.getContext("webgl",s)),o||(o=i.getContext("experimental-webgl",s)),this.webGLContexts[e]=o,this},t.prototype.bindCameraHandlers=function(){var e=this;return this.activeListeners.camera=function(){e._scheduleRefresh()},this.camera.on("updated",this.activeListeners.camera),this},t.prototype.mouseIsOnNode=function(e,n,i){var s=e.x,o=e.y,a=n.x,c=n.y;return s>a-i&&s<a+i&&o>c-i&&o<c+i&&Math.sqrt(Math.pow(s-a,2)+Math.pow(o-c,2))<i},t.prototype.getQuadNodes=function(e){var n=this.viewportToFramedGraph(e);return this.quadtree.point(n.x,1-n.y)},t.prototype.getNodeAtPosition=function(e){for(var n=e.x,i=e.y,s=this.getQuadNodes(e),o=1/0,a=null,c=0,l=s.length;c<l;c++){var u=s[c],h=this.nodeDataCache[u],d=this.framedGraphToViewport(h),f=this.scaleSize(h.size);if(!h.hidden&&this.mouseIsOnNode(e,d,f)){var m=Math.sqrt(Math.pow(n-d.x,2)+Math.pow(i-d.y,2));m<o&&(o=m,a=u)}}return a},t.prototype.bindEventHandlers=function(){var e=this;this.activeListeners.handleResize=function(){e.needToSoftProcess=!0,e._scheduleRefresh()},window.addEventListener("resize",this.activeListeners.handleResize),this.activeListeners.handleMove=function(i){var s={event:i,preventSigmaDefault:function(){i.preventSigmaDefault()}},o=e.getNodeAtPosition(i);if(o&&e.hoveredNode!==o&&!e.nodeDataCache[o].hidden){e.hoveredNode&&e.emit("leaveNode",At(At({},s),{node:e.hoveredNode})),e.hoveredNode=o,e.emit("enterNode",At(At({},s),{node:o})),e.scheduleHighlightedNodesRender();return}if(e.hoveredNode){var a=e.nodeDataCache[e.hoveredNode],c=e.framedGraphToViewport(a),l=e.scaleSize(a.size);if(!e.mouseIsOnNode(i,c,l)){var u=e.hoveredNode;e.hoveredNode=null,e.emit("leaveNode",At(At({},s),{node:u})),e.scheduleHighlightedNodesRender();return}}e.settings.enableEdgeHoverEvents===!0?e.checkEdgeHoverEvents(s):e.settings.enableEdgeHoverEvents==="debounce"&&(e.checkEdgesEventsFrame||(e.checkEdgesEventsFrame=(0,qt.requestFrame)(function(){e.checkEdgeHoverEvents(s),e.checkEdgesEventsFrame=null})))};var n=function(i){return function(s){var o={event:s,preventSigmaDefault:function(){s.preventSigmaDefault()}},a=s.original.isFakeSigmaMouseEvent,c=a?e.getNodeAtPosition(s):e.hoveredNode;if(c)return e.emit("".concat(i,"Node"),At(At({},o),{node:c}));if(i==="wheel"?e.settings.enableEdgeWheelEvents:e.settings.enableEdgeClickEvents){var l=e.getEdgeAtPoint(s.x,s.y);if(l)return e.emit("".concat(i,"Edge"),At(At({},o),{edge:l}))}return e.emit("".concat(i,"Stage"),o)}};return this.activeListeners.handleClick=n("click"),this.activeListeners.handleRightClick=n("rightClick"),this.activeListeners.handleDoubleClick=n("doubleClick"),this.activeListeners.handleWheel=n("wheel"),this.activeListeners.handleDown=n("down"),this.mouseCaptor.on("mousemove",this.activeListeners.handleMove),this.mouseCaptor.on("click",this.activeListeners.handleClick),this.mouseCaptor.on("rightClick",this.activeListeners.handleRightClick),this.mouseCaptor.on("doubleClick",this.activeListeners.handleDoubleClick),this.mouseCaptor.on("wheel",this.activeListeners.handleWheel),this.mouseCaptor.on("mousedown",this.activeListeners.handleDown),this},t.prototype.bindGraphHandlers=function(){var e=this,n=this.graph;return this.activeListeners.graphUpdate=function(){e.needToProcess=!0,e._scheduleRefresh()},this.activeListeners.softGraphUpdate=function(){e.needToSoftProcess=!0,e._scheduleRefresh()},this.activeListeners.dropNodeGraphUpdate=function(i){delete e.nodeDataCache[i.key],e.hoveredNode===i.key&&(e.hoveredNode=null),e.activeListeners.graphUpdate()},this.activeListeners.dropEdgeGraphUpdate=function(i){delete e.edgeDataCache[i.key],e.hoveredEdge===i.key&&(e.hoveredEdge=null),e.activeListeners.graphUpdate()},this.activeListeners.clearEdgesGraphUpdate=function(){e.edgeDataCache={},e.hoveredEdge=null,e.activeListeners.graphUpdate()},this.activeListeners.clearGraphUpdate=function(){e.nodeDataCache={},e.hoveredNode=null,e.activeListeners.clearEdgesGraphUpdate()},n.on("nodeAdded",this.activeListeners.graphUpdate),n.on("nodeDropped",this.activeListeners.dropNodeGraphUpdate),n.on("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),n.on("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),n.on("edgeAdded",this.activeListeners.graphUpdate),n.on("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),n.on("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),n.on("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),n.on("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),n.on("cleared",this.activeListeners.clearGraphUpdate),this},t.prototype.checkEdgeHoverEvents=function(e){var n=this.hoveredNode?null:this.getEdgeAtPoint(e.event.x,e.event.y);return n!==this.hoveredEdge&&(this.hoveredEdge&&this.emit("leaveEdge",At(At({},e),{edge:this.hoveredEdge})),n&&this.emit("enterEdge",At(At({},e),{edge:n})),this.hoveredEdge=n),this},t.prototype.getEdgeAtPoint=function(e,n){var i,s,o=this,a=this,c=a.edgeDataCache,l=a.nodeDataCache;if(!(0,Ph.isPixelColored)(this.webGLContexts.edges,e*this.pixelRatio,n*this.pixelRatio))return null;var u=this.viewportToGraph({x:e,y:n}),h=u.x,d=u.y,f=0;if(this.graph.someEdge(function(S,I,M,B,E,ct){var yt=E.x,vt=E.y,Wt=ct.x,dt=ct.y;if(c[S].hidden||l[M].hidden||l[B].hidden)return!1;if(yt!==Wt||vt!==dt){var ue=Math.sqrt(Math.pow(Wt-yt,2)+Math.pow(dt-vt,2)),Ht=o.graphToViewport({x:yt,y:vt}),H=Ht.x,y=Ht.y,Qt=o.graphToViewport({x:Wt,y:dt}),pe=Qt.x,U=Qt.y,A=Math.sqrt(Math.pow(pe-H,2)+Math.pow(U-y,2));return f=ue/A,!0}}),!f)return null;var m=this.graph.filterEdges(function(S,I,M,B,E,ct){if(c[S].hidden||l[M].hidden||l[B].hidden)return!1;if((0,Ph.doEdgeCollideWithPoint)(h,d,E.x,E.y,ct.x,ct.y,c[S].size*f/o.cameraSizeRatio))return!0});if(m.length===0)return null;var b=m[m.length-1],N=-1/0;try{for(var D=US(m),O=D.next();!O.done;O=D.next()){var T=O.value,_=this.graph.getEdgeAttribute(T,"zIndex");_>=N&&(b=T,N=_)}}catch(S){i={error:S}}finally{try{O&&!O.done&&(s=D.return)&&s.call(D)}finally{if(i)throw i.error}}return b},t.prototype.process=function(e){var n=this;e===void 0&&(e=!1);var i=this.graph,s=this.settings,o=this.getDimensions(),a=[1/0,-1/0],c=[1/0,-1/0];this.quadtree.clear(),this.labelGrid.resizeAndClear(o,s.labelGridCellSize),this.highlightedNodes=new Set,this.nodeExtent=(0,qt.graphExtent)(i),this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[];var l=new Ch.default,u=(0,qt.matrixFromCamera)(l.getState(),this.getDimensions(),this.getGraphDimensions(),this.getSetting("stagePadding")||0);this.normalizationFunction=(0,qt.createNormalizationFunction)(this.customBBox||this.nodeExtent);for(var h={},d=i.nodes(),f=0,m=d.length;f<m;f++){var b=d[f],N=Object.assign({},i.getNodeAttributes(b));s.nodeReducer&&(N=s.nodeReducer(b,N));var D=jS(this.settings,b,N);h[D.type]=(h[D.type]||0)+1,this.nodeDataCache[b]=D,this.normalizationFunction.applyTo(D),D.forceLabel&&this.nodesWithForcedLabels.push(b),this.settings.zIndex&&(D.zIndex<a[0]&&(a[0]=D.zIndex),D.zIndex>a[1]&&(a[1]=D.zIndex))}for(var O in this.nodePrograms){if(!this.nodePrograms.hasOwnProperty(O))throw new Error('Sigma: could not find a suitable program for node type "'.concat(O,'"!'));e||this.nodePrograms[O].allocate(h[O]||0),h[O]=0}this.settings.zIndex&&a[0]!==a[1]&&(d=(0,qt.zIndexOrdering)(a,function(yt){return n.nodeDataCache[yt].zIndex},d));for(var f=0,m=d.length;f<m;f++){var b=d[f],D=this.nodeDataCache[b];this.quadtree.add(b,D.x,1-D.y,D.size/this.width),typeof D.label=="string"&&!D.hidden&&this.labelGrid.add(b,D.size,this.framedGraphToViewport(D,{matrix:u})),this.nodePrograms[D.type].process(D,D.hidden,h[D.type]++),D.highlighted&&!D.hidden&&this.highlightedNodes.add(b)}this.labelGrid.organize();for(var T={},_=i.edges(),f=0,m=_.length;f<m;f++){var S=_[f],N=Object.assign({},i.getEdgeAttributes(S));s.edgeReducer&&(N=s.edgeReducer(S,N));var D=zS(this.settings,S,N);T[D.type]=(T[D.type]||0)+1,this.edgeDataCache[S]=D,D.forceLabel&&!D.hidden&&this.edgesWithForcedLabels.push(S),this.settings.zIndex&&(D.zIndex<c[0]&&(c[0]=D.zIndex),D.zIndex>c[1]&&(c[1]=D.zIndex))}for(var O in this.edgePrograms){if(!this.edgePrograms.hasOwnProperty(O))throw new Error('Sigma: could not find a suitable program for edge type "'.concat(O,'"!'));e||this.edgePrograms[O].allocate(T[O]||0),T[O]=0}this.settings.zIndex&&c[0]!==c[1]&&(_=(0,qt.zIndexOrdering)(c,function(yt){return n.edgeDataCache[yt].zIndex},_));for(var f=0,m=_.length;f<m;f++){var S=_[f],D=this.edgeDataCache[S],I=i.extremities(S),M=this.nodeDataCache[I[0]],B=this.nodeDataCache[I[1]],E=D.hidden||M.hidden||B.hidden;this.edgePrograms[D.type].process(M,B,D,E,T[D.type]++)}for(var O in this.edgePrograms){var ct=this.edgePrograms[O];!e&&typeof ct.computeIndices=="function"&&ct.computeIndices()}return this},t.prototype.handleSettingsUpdate=function(){return this.camera.minRatio=this.settings.minCameraRatio,this.camera.maxRatio=this.settings.maxCameraRatio,this.camera.setState(this.camera.validateState(this.camera.getState())),this},t.prototype._refresh=function(){return this.needToProcess?this.process():this.needToSoftProcess&&this.process(!0),this.needToProcess=!1,this.needToSoftProcess=!1,this.render(),this},t.prototype._scheduleRefresh=function(){var e=this;return this.renderFrame||(this.renderFrame=(0,qt.requestFrame)(function(){e._refresh(),e.renderFrame=null})),this},t.prototype.renderLabels=function(){if(!this.settings.renderLabels)return this;var e=this.camera.getState(),n;if(e.ratio>=1)n=new Set(this.graph.nodes());else{var i=this.viewRectangle();n=new Set(this.quadtree.rectangle(i.x1,1-i.y1,i.x2,1-i.y2,i.height))}var s=this.labelGrid.getLabelsToDisplay(e.ratio,this.settings.labelDensity).concat(this.nodesWithForcedLabels);this.displayedLabels=new Set;for(var o=this.canvasContexts.labels,a=0,c=s.length;a<c;a++){var l=s[a],u=this.nodeDataCache[l];if(!this.displayedLabels.has(l)&&!u.hidden){var h=this.framedGraphToViewport(u),d=h.x,f=h.y,m=this.scaleSize(u.size);!u.forceLabel&&m<this.settings.labelRenderedSizeThreshold||n.has(l)&&(this.displayedLabels.add(l),this.settings.labelRenderer(o,At(At({key:l},u),{size:m,x:d,y:f}),this.settings))}}return this},t.prototype.renderEdgeLabels=function(){if(!this.settings.renderEdgeLabels)return this;var e=this.canvasContexts.edgeLabels;e.clearRect(0,0,this.width,this.height);for(var n=(0,Bh.edgeLabelsToDisplayFromNodes)({graph:this.graph,hoveredNode:this.hoveredNode,displayedNodeLabels:this.displayedLabels,highlightedNodes:this.highlightedNodes}).concat(this.edgesWithForcedLabels),i=new Set,s=0,o=n.length;s<o;s++){var a=n[s],c=this.graph.extremities(a),l=this.nodeDataCache[c[0]],u=this.nodeDataCache[c[1]],h=this.edgeDataCache[a];i.has(a)||h.hidden||l.hidden||u.hidden||(this.settings.edgeLabelRenderer(e,At(At({key:a},h),{size:this.scaleSize(h.size)}),At(At(At({key:c[0]},l),this.framedGraphToViewport(l)),{size:this.scaleSize(l.size)}),At(At(At({key:c[1]},u),this.framedGraphToViewport(u)),{size:this.scaleSize(u.size)}),this.settings),i.add(a))}return this},t.prototype.renderHighlightedNodes=function(){var e=this,n=this.canvasContexts.hovers;n.clearRect(0,0,this.width,this.height);var i=function(l){var u=e.nodeDataCache[l],h=e.framedGraphToViewport(u),d=h.x,f=h.y,m=e.scaleSize(u.size);e.settings.hoverRenderer(n,At(At({key:l},u),{size:m,x:d,y:f}),e.settings)},s=[];this.hoveredNode&&!this.nodeDataCache[this.hoveredNode].hidden&&s.push(this.hoveredNode),this.highlightedNodes.forEach(function(l){l!==e.hoveredNode&&s.push(l)}),s.forEach(function(l){return i(l)});var o={};s.forEach(function(l){var u=e.nodeDataCache[l].type;o[u]=(o[u]||0)+1});for(var a in this.hoverNodePrograms)this.hoverNodePrograms[a].allocate(o[a]||0),o[a]=0;s.forEach(function(l){var u=e.nodeDataCache[l];e.hoverNodePrograms[u.type].process(u,u.hidden,o[u.type]++)}),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT);for(var a in this.hoverNodePrograms){var c=this.hoverNodePrograms[a];c.bind(),c.bufferData(),c.render({matrix:this.matrix,width:this.width,height:this.height,ratio:this.camera.ratio,correctionRatio:this.correctionRatio/this.camera.ratio,scalingRatio:this.pixelRatio})}},t.prototype.scheduleHighlightedNodesRender=function(){var e=this;this.renderHighlightedNodesFrame||this.renderFrame||(this.renderHighlightedNodesFrame=(0,qt.requestFrame)(function(){e.renderHighlightedNodesFrame=null,e.renderHighlightedNodes(),e.renderEdgeLabels()}))},t.prototype.render=function(){var e=this;this.emit("beforeRender");var n=function(){return e.emit("afterRender"),e};if(this.renderFrame&&((0,qt.cancelFrame)(this.renderFrame),this.renderFrame=null,this.needToProcess=!1,this.needToSoftProcess=!1),this.resize(),this.clear(),this.updateCachedValues(),!this.graph.order)return n();var i=this.mouseCaptor,s=this.camera.isAnimated()||i.isMoving||i.draggedEvents||i.currentWheelDirection,o=this.camera.getState(),a=this.getDimensions(),c=this.getGraphDimensions(),l=this.getSetting("stagePadding")||0;this.matrix=(0,qt.matrixFromCamera)(o,a,c,l),this.invMatrix=(0,qt.matrixFromCamera)(o,a,c,l,!0),this.correctionRatio=(0,qt.getMatrixImpact)(this.matrix,o,a);for(var u in this.nodePrograms){var h=this.nodePrograms[u];h.bind(),h.bufferData(),h.render({matrix:this.matrix,width:this.width,height:this.height,ratio:o.ratio,correctionRatio:this.correctionRatio/o.ratio,scalingRatio:this.pixelRatio})}if(!this.settings.hideEdgesOnMove||!s)for(var u in this.edgePrograms){var h=this.edgePrograms[u];h.bind(),h.bufferData(),h.render({matrix:this.matrix,width:this.width,height:this.height,ratio:o.ratio,correctionRatio:this.correctionRatio/o.ratio,scalingRatio:this.pixelRatio})}return this.settings.hideLabelsOnMove&&s||(this.renderLabels(),this.renderEdgeLabels(),this.renderHighlightedNodes()),n()},t.prototype.updateCachedValues=function(){var e=this.camera.getState().ratio;this.cameraSizeRatio=Math.sqrt(e)},t.prototype.getCamera=function(){return this.camera},t.prototype.getContainer=function(){return this.container},t.prototype.getGraph=function(){return this.graph},t.prototype.getMouseCaptor=function(){return this.mouseCaptor},t.prototype.getTouchCaptor=function(){return this.touchCaptor},t.prototype.getDimensions=function(){return{width:this.width,height:this.height}},t.prototype.getGraphDimensions=function(){var e=this.customBBox||this.nodeExtent;return{width:e.x[1]-e.x[0]||1,height:e.y[1]-e.y[0]||1}},t.prototype.getNodeDisplayData=function(e){var n=this.nodeDataCache[e];return n?Object.assign({},n):void 0},t.prototype.getEdgeDisplayData=function(e){var n=this.edgeDataCache[e];return n?Object.assign({},n):void 0},t.prototype.getSettings=function(){return At({},this.settings)},t.prototype.getSetting=function(e){return this.settings[e]},t.prototype.setSetting=function(e,n){return this.settings[e]=n,(0,ho.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},t.prototype.updateSetting=function(e,n){return this.settings[e]=n(this.settings[e]),(0,ho.validateSettings)(this.settings),this.handleSettingsUpdate(),this.needToProcess=!0,this._scheduleRefresh(),this},t.prototype.resize=function(){var e=this.width,n=this.height;if(this.width=this.container.offsetWidth,this.height=this.container.offsetHeight,this.pixelRatio=(0,qt.getPixelRatio)(),this.width===0)if(this.settings.allowInvalidContainer)this.width=1;else throw new Error("Sigma: Container has no width. You can set the allowInvalidContainer setting to true to stop seing this error.");if(this.height===0)if(this.settings.allowInvalidContainer)this.height=1;else throw new Error("Sigma: Container has no height. You can set the allowInvalidContainer setting to true to stop seing this error.");if(e===this.width&&n===this.height)return this;this.emit("resize");for(var i in this.elements){var s=this.elements[i];s.style.width=this.width+"px",s.style.height=this.height+"px"}for(var i in this.canvasContexts)this.elements[i].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[i].setAttribute("height",this.height*this.pixelRatio+"px"),this.pixelRatio!==1&&this.canvasContexts[i].scale(this.pixelRatio,this.pixelRatio);for(var i in this.webGLContexts)this.elements[i].setAttribute("width",this.width*this.pixelRatio+"px"),this.elements[i].setAttribute("height",this.height*this.pixelRatio+"px"),this.webGLContexts[i].viewport(0,0,this.width*this.pixelRatio,this.height*this.pixelRatio);return this},t.prototype.clear=function(){return this.webGLContexts.nodes.clear(this.webGLContexts.nodes.COLOR_BUFFER_BIT),this.webGLContexts.edges.clear(this.webGLContexts.edges.COLOR_BUFFER_BIT),this.webGLContexts.hoverNodes.clear(this.webGLContexts.hoverNodes.COLOR_BUFFER_BIT),this.canvasContexts.labels.clearRect(0,0,this.width,this.height),this.canvasContexts.hovers.clearRect(0,0,this.width,this.height),this.canvasContexts.edgeLabels.clearRect(0,0,this.width,this.height),this},t.prototype.refresh=function(){return this.needToProcess=!0,this._refresh(),this},t.prototype.scheduleRefresh=function(){return this.needToProcess=!0,this._scheduleRefresh(),this},t.prototype.getViewportZoomedState=function(e,n){var i=this.camera.getState(),s=i.ratio,o=i.angle,a=i.x,c=i.y,l=n/s,u={x:this.width/2,y:this.height/2},h=this.viewportToFramedGraph(e),d=this.viewportToFramedGraph(u);return{angle:o,x:(h.x-d.x)*(1-l)+a,y:(h.y-d.y)*(1-l)+c,ratio:n}},t.prototype.viewRectangle=function(){var e=0*this.width/8,n=0*this.height/8,i=this.viewportToFramedGraph({x:0-e,y:0-n}),s=this.viewportToFramedGraph({x:this.width+e,y:0-n}),o=this.viewportToFramedGraph({x:0,y:this.height+n});return{x1:i.x,y1:i.y,x2:s.x,y2:s.y,height:s.y-o.y}},t.prototype.framedGraphToViewport=function(e,n){n===void 0&&(n={});var i=!!n.cameraState||!!n.viewportDimensions||!!n.graphDimensions,s=n.matrix?n.matrix:i?(0,qt.matrixFromCamera)(n.cameraState||this.camera.getState(),n.viewportDimensions||this.getDimensions(),n.graphDimensions||this.getGraphDimensions(),n.padding||this.getSetting("stagePadding")||0):this.matrix,o=(0,fo.multiplyVec2)(s,e);return{x:(1+o.x)*this.width/2,y:(1-o.y)*this.height/2}},t.prototype.viewportToFramedGraph=function(e,n){n===void 0&&(n={});var i=!!n.cameraState||!!n.viewportDimensions||!n.graphDimensions,s=n.matrix?n.matrix:i?(0,qt.matrixFromCamera)(n.cameraState||this.camera.getState(),n.viewportDimensions||this.getDimensions(),n.graphDimensions||this.getGraphDimensions(),n.padding||this.getSetting("stagePadding")||0,!0):this.invMatrix,o=(0,fo.multiplyVec2)(s,{x:e.x/this.width*2-1,y:1-e.y/this.height*2});return isNaN(o.x)&&(o.x=0),isNaN(o.y)&&(o.y=0),o},t.prototype.viewportToGraph=function(e,n){return n===void 0&&(n={}),this.normalizationFunction.inverse(this.viewportToFramedGraph(e,n))},t.prototype.graphToViewport=function(e,n){return n===void 0&&(n={}),this.framedGraphToViewport(this.normalizationFunction(e),n)},t.prototype.getBBox=function(){return(0,qt.graphExtent)(this.graph)},t.prototype.getCustomBBox=function(){return this.customBBox},t.prototype.setCustomBBox=function(e){return this.customBBox=e,this._scheduleRefresh(),this},t.prototype.kill=function(){var e=this.graph;this.emit("kill"),this.removeAllListeners(),this.camera.removeListener("updated",this.activeListeners.camera),window.removeEventListener("resize",this.activeListeners.handleResize),this.mouseCaptor.kill(),this.touchCaptor.kill(),e.removeListener("nodeAdded",this.activeListeners.dropNodeGraphUpdate),e.removeListener("nodeDropped",this.activeListeners.graphUpdate),e.removeListener("nodeAttributesUpdated",this.activeListeners.softGraphUpdate),e.removeListener("eachNodeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgeAdded",this.activeListeners.graphUpdate),e.removeListener("edgeDropped",this.activeListeners.dropEdgeGraphUpdate),e.removeListener("edgeAttributesUpdated",this.activeListeners.softGraphUpdate),e.removeListener("eachEdgeAttributesUpdated",this.activeListeners.graphUpdate),e.removeListener("edgesCleared",this.activeListeners.clearEdgesGraphUpdate),e.removeListener("cleared",this.activeListeners.clearGraphUpdate),this.quadtree=new Rh.default,this.nodeDataCache={},this.edgeDataCache={},this.nodesWithForcedLabels=[],this.edgesWithForcedLabels=[],this.highlightedNodes.clear(),this.renderFrame&&((0,qt.cancelFrame)(this.renderFrame),this.renderFrame=null),this.renderHighlightedNodesFrame&&((0,qt.cancelFrame)(this.renderHighlightedNodesFrame),this.renderHighlightedNodesFrame=null);for(var n=this.container;n.firstChild;)n.removeChild(n.firstChild)},t.prototype.scaleSize=function(e){return e/this.cameraSizeRatio},t.prototype.getCanvases=function(){return At({},this.elements)},t}(kS.TypedEventEmitter);Ol.default=VS;var Pa=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(zr,"__esModule",{value:!0});zr.Sigma=zr.MouseCaptor=zr.QuadTree=zr.Camera=void 0;var bp=Pa(Ol);zr.Sigma=bp.default;var WS=Pa(xa);zr.Camera=WS.default;var HS=Pa(cr);zr.QuadTree=HS.default;var YS=Pa(Ca);zr.MouseCaptor=YS.default;var qS=zr.default=bp.default,_p={},wp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`attribute vec2 a_position;
attribute float a_size;
attribute vec4 a_color;
attribute vec4 a_texture;

uniform float u_ratio;
uniform float u_scale;
uniform mat3 u_matrix;

varying vec4 v_color;
varying float v_border;
varying vec4 v_texture;

const float bias = 255.0 / 254.0;

void main() {
  gl_Position = vec4(
    (u_matrix * vec3(a_position, 1)).xy,
    0,
    1
  );

  // Multiply the point size twice:
  //  - x SCALING_RATIO to correct the canvas scaling
  //  - x 2 to correct the formulae
  gl_PointSize = a_size * u_ratio * u_scale * 2.0;

  v_border = (1.0 / u_ratio) * (0.5 / a_size);

  // Extract the color:
  v_color = a_color;
  v_color.a *= bias;

  // Pass the texture coordinates:
  v_texture = a_texture;
}
`;wp.exports=t})();var KS=wp.exports,Sp={exports:{}};(()=>{var r={d:(n,i)=>{for(var s in i)r.o(i,s)&&!r.o(n,s)&&Object.defineProperty(n,s,{enumerable:!0,get:i[s]})},o:(n,i)=>Object.prototype.hasOwnProperty.call(n,i),r:n=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}},t={};r.r(t),r.d(t,{default:()=>e});const e=`precision mediump float;

varying vec4 v_color;
varying float v_border;
varying vec4 v_texture;

uniform sampler2D u_atlas;

const float radius = 0.5;
const vec4 transparent = vec4(0.0, 0.0, 0.0, 0.0);

void main(void) {
  vec4 color;

  if (v_texture.w > 0.0) {
    vec4 texel = texture2D(u_atlas, v_texture.xy + gl_PointCoord * v_texture.zw, -1.0);
    color = vec4(mix(v_color, texel, texel.a).rgb, max(texel.a, v_color.a));
  } else {
    color = v_color;
  }

  vec2 m = gl_PointCoord - vec2(0.5, 0.5);
  float dist = length(m);

  if (dist < radius - v_border) {
    gl_FragColor = color;
  } else if (dist < radius) {
    gl_FragColor = mix(transparent, color, (radius - dist) / v_border);
  } else {
    gl_FragColor = transparent;
  }
}
`;Sp.exports=t})();var ZS=Sp.exports,Ep=k&&k.__extends||function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}(),JS=k&&k.__read||function(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(o)throw o.error}}return s},XS=k&&k.__spreadArray||function(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,s;n<i;n++)(s||!(n in t))&&(s||(s=Array.prototype.slice.call(t,0,n)),s[n]=t[n]);return r.concat(s||Array.prototype.slice.call(t))},Ap=k&&k.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(_p,"__esModule",{value:!0});var QS=J,Ip=Ap(KS),Dp=Ap(ZS),Op=hi,Pc=1,Ao=8,tE=100;(function(r){Ep(t,r);function t(e,n){return r.call(this,e,Ip.default,Dp.default,Pc,Ao)||this}return t.prototype.bind=function(){},t.prototype.process=function(e,n,i){},t.prototype.render=function(e){},t.prototype.rebindTexture=function(){},t})(Op.AbstractNodeProgram);function eE(){var r=[],t={},e,n=!1,i=void 0;function s(a){if(!t[a]){var c=new Image;c.addEventListener("load",function(){t[a]={status:"pending",image:c},typeof i!="number"&&(i=requestAnimationFrame(function(){return o()}))}),c.addEventListener("error",function(){t[a]={status:"error"}}),t[a]={status:"loading"},c.setAttribute("crossOrigin",""),c.src=a}}function o(){i=void 0;var a=[];for(var c in t){var l=t[c];l.status==="pending"&&a.push({id:c,image:l.image,size:Math.min(l.image.width,l.image.height)||1})}var u=document.createElement("canvas"),h=u.getContext("2d");u.width=a.reduce(function(f,m){var b=m.size;return f+b},n?e.width:0),u.height=Math.max.apply(Math,XS([n?e.height:0],JS(a.map(function(f){var m=f.size;return m})),!1));var d=0;n&&(h.putImageData(e,0,0),d=e.width),a.forEach(function(f){var m=f.id,b=f.image,N=f.size,D=Math.min(tE,N),O=0,T=0;(b.width||0)>(b.height||0)?O=(b.width-b.height)/2:T=(b.height-b.width)/2,h.drawImage(b,O,T,N,N,d,0,D,D),t[m]={status:"ready",x:d,y:0,width:D,height:D},d+=D}),e=h.getImageData(0,0,u.width,u.height),n=!0,r.forEach(function(f){return f()})}return function(a){Ep(c,a);function c(l,u){var h=a.call(this,l,Ip.default,Dp.default,Pc,Ao)||this;r.push(function(){h&&h.rebindTexture&&h.rebindTexture(),u&&u.refresh&&u.refresh()}),e=new ImageData(1,1),h.textureLocation=l.getAttribLocation(h.program,"a_texture");var d=l.getUniformLocation(h.program,"u_atlas");if(d===null)throw new Error("NodeProgramImage: error while getting atlasLocation");return h.atlasLocation=d,h.texture=l.createTexture(),l.bindTexture(l.TEXTURE_2D,h.texture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,1,1,0,l.RGBA,l.UNSIGNED_BYTE,new Uint8Array([0,0,0,0])),h.bind(),h}return c.prototype.bind=function(){a.prototype.bind.call(this);var l=this.gl;l.enableVertexAttribArray(this.textureLocation),l.vertexAttribPointer(this.textureLocation,4,l.FLOAT,!1,this.attributes*Float32Array.BYTES_PER_ELEMENT,16)},c.prototype.process=function(l,u,h){var d=this.array,f=h*Pc*Ao,m=l.image,b=m&&t[m];if(typeof m=="string"&&!b&&s(m),u){d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0;return}if(d[f++]=l.x,d[f++]=l.y,d[f++]=l.size,d[f++]=(0,QS.floatColor)(l.color),b&&b.status==="ready"){var N=e.width,D=e.height;d[f++]=b.x/N,d[f++]=b.y/D,d[f++]=b.width/N,d[f++]=b.height/D}else d[f++]=0,d[f++]=0,d[f++]=0,d[f++]=0},c.prototype.render=function(l){if(!this.hasNothingToRender()){this.latestRenderParams=l;var u=this.gl,h=this.program;u.useProgram(h),u.uniform1f(this.ratioLocation,1/Math.sqrt(l.ratio)),u.uniform1f(this.scaleLocation,l.scalingRatio),u.uniformMatrix3fv(this.matrixLocation,!1,l.matrix),u.uniform1i(this.atlasLocation,0),u.drawArrays(u.POINTS,0,this.array.length/Ao)}},c.prototype.rebindTexture=function(){var l=this.gl;l.bindTexture(l.TEXTURE_2D,this.texture),l.texImage2D(l.TEXTURE_2D,0,l.RGBA,l.RGBA,l.UNSIGNED_BYTE,e),l.generateMipmap(l.TEXTURE_2D),this.latestRenderParams&&(this.bind(),this.bufferData(),this.render(this.latestRenderParams))},c}(Op.AbstractNodeProgram)}var rE=_p.default=eE,Tp={exports:{}},Rt={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var le=typeof Symbol=="function"&&Symbol.for,$l=le?Symbol.for("react.element"):60103,kl=le?Symbol.for("react.portal"):60106,Na=le?Symbol.for("react.fragment"):60107,Ma=le?Symbol.for("react.strict_mode"):60108,Ua=le?Symbol.for("react.profiler"):60114,$a=le?Symbol.for("react.provider"):60109,ka=le?Symbol.for("react.context"):60110,Gl=le?Symbol.for("react.async_mode"):60111,Ga=le?Symbol.for("react.concurrent_mode"):60111,ja=le?Symbol.for("react.forward_ref"):60112,za=le?Symbol.for("react.suspense"):60113,nE=le?Symbol.for("react.suspense_list"):60120,Va=le?Symbol.for("react.memo"):60115,Wa=le?Symbol.for("react.lazy"):60116,iE=le?Symbol.for("react.block"):60121,sE=le?Symbol.for("react.fundamental"):60117,oE=le?Symbol.for("react.responder"):60118,aE=le?Symbol.for("react.scope"):60119;function tr(r){if(typeof r=="object"&&r!==null){var t=r.$$typeof;switch(t){case $l:switch(r=r.type,r){case Gl:case Ga:case Na:case Ua:case Ma:case za:return r;default:switch(r=r&&r.$$typeof,r){case ka:case ja:case Wa:case Va:case $a:return r;default:return t}}case kl:return t}}}function Fp(r){return tr(r)===Ga}Rt.AsyncMode=Gl;Rt.ConcurrentMode=Ga;Rt.ContextConsumer=ka;Rt.ContextProvider=$a;Rt.Element=$l;Rt.ForwardRef=ja;Rt.Fragment=Na;Rt.Lazy=Wa;Rt.Memo=Va;Rt.Portal=kl;Rt.Profiler=Ua;Rt.StrictMode=Ma;Rt.Suspense=za;Rt.isAsyncMode=function(r){return Fp(r)||tr(r)===Gl};Rt.isConcurrentMode=Fp;Rt.isContextConsumer=function(r){return tr(r)===ka};Rt.isContextProvider=function(r){return tr(r)===$a};Rt.isElement=function(r){return typeof r=="object"&&r!==null&&r.$$typeof===$l};Rt.isForwardRef=function(r){return tr(r)===ja};Rt.isFragment=function(r){return tr(r)===Na};Rt.isLazy=function(r){return tr(r)===Wa};Rt.isMemo=function(r){return tr(r)===Va};Rt.isPortal=function(r){return tr(r)===kl};Rt.isProfiler=function(r){return tr(r)===Ua};Rt.isStrictMode=function(r){return tr(r)===Ma};Rt.isSuspense=function(r){return tr(r)===za};Rt.isValidElementType=function(r){return typeof r=="string"||typeof r=="function"||r===Na||r===Ga||r===Ua||r===Ma||r===za||r===nE||typeof r=="object"&&r!==null&&(r.$$typeof===Wa||r.$$typeof===Va||r.$$typeof===$a||r.$$typeof===ka||r.$$typeof===ja||r.$$typeof===sE||r.$$typeof===oE||r.$$typeof===aE||r.$$typeof===iE)};Rt.typeOf=tr;Tp.exports=Rt;var cE=Tp.exports,xp=cE,lE={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},uE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},Lp={};Lp[xp.ForwardRef]=lE;Lp[xp.Memo]=uE;var Cp={exports:{}},Bt={};/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var Nh=Object.getOwnPropertySymbols,hE=Object.prototype.hasOwnProperty,dE=Object.prototype.propertyIsEnumerable;function fE(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function pE(){try{if(!Object.assign)return!1;var r=new String("abc");if(r[5]="de",Object.getOwnPropertyNames(r)[0]==="5")return!1;for(var t={},e=0;e<10;e++)t["_"+String.fromCharCode(e)]=e;var n=Object.getOwnPropertyNames(t).map(function(s){return t[s]});if(n.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(s){i[s]=s}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var gE=pE()?Object.assign:function(r,t){for(var e,n=fE(r),i,s=1;s<arguments.length;s++){e=Object(arguments[s]);for(var o in e)hE.call(e,o)&&(n[o]=e[o]);if(Nh){i=Nh(e);for(var a=0;a<i.length;a++)dE.call(e,i[a])&&(n[i[a]]=e[i[a]])}}return n};/** @license React v16.14.0
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jl=gE,Er=typeof Symbol=="function"&&Symbol.for,Vs=Er?Symbol.for("react.element"):60103,yE=Er?Symbol.for("react.portal"):60106,mE=Er?Symbol.for("react.fragment"):60107,vE=Er?Symbol.for("react.strict_mode"):60108,bE=Er?Symbol.for("react.profiler"):60114,_E=Er?Symbol.for("react.provider"):60109,wE=Er?Symbol.for("react.context"):60110,SE=Er?Symbol.for("react.forward_ref"):60112,EE=Er?Symbol.for("react.suspense"):60113,AE=Er?Symbol.for("react.memo"):60115,IE=Er?Symbol.for("react.lazy"):60116,Mh=typeof Symbol=="function"&&Symbol.iterator;function Ws(r){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+r,e=1;e<arguments.length;e++)t+="&args[]="+encodeURIComponent(arguments[e]);return"Minified React error #"+r+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Rp={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bp={};function as(r,t,e){this.props=r,this.context=t,this.refs=Bp,this.updater=e||Rp}as.prototype.isReactComponent={};as.prototype.setState=function(r,t){if(typeof r!="object"&&typeof r!="function"&&r!=null)throw Error(Ws(85));this.updater.enqueueSetState(this,r,t,"setState")};as.prototype.forceUpdate=function(r){this.updater.enqueueForceUpdate(this,r,"forceUpdate")};function Pp(){}Pp.prototype=as.prototype;function zl(r,t,e){this.props=r,this.context=t,this.refs=Bp,this.updater=e||Rp}var Vl=zl.prototype=new Pp;Vl.constructor=zl;jl(Vl,as.prototype);Vl.isPureReactComponent=!0;var Wl={current:null},Np=Object.prototype.hasOwnProperty,Mp={key:!0,ref:!0,__self:!0,__source:!0};function Up(r,t,e){var n,i={},s=null,o=null;if(t!=null)for(n in t.ref!==void 0&&(o=t.ref),t.key!==void 0&&(s=""+t.key),t)Np.call(t,n)&&!Mp.hasOwnProperty(n)&&(i[n]=t[n]);var a=arguments.length-2;if(a===1)i.children=e;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(r&&r.defaultProps)for(n in a=r.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:Vs,type:r,key:s,ref:o,props:i,_owner:Wl.current}}function DE(r,t){return{$$typeof:Vs,type:r.type,key:t,ref:r.ref,props:r.props,_owner:r._owner}}function Hl(r){return typeof r=="object"&&r!==null&&r.$$typeof===Vs}function OE(r){var t={"=":"=0",":":"=2"};return"$"+(""+r).replace(/[=:]/g,function(e){return t[e]})}var $p=/\/+/g,Mo=[];function kp(r,t,e,n){if(Mo.length){var i=Mo.pop();return i.result=r,i.keyPrefix=t,i.func=e,i.context=n,i.count=0,i}return{result:r,keyPrefix:t,func:e,context:n,count:0}}function Gp(r){r.result=null,r.keyPrefix=null,r.func=null,r.context=null,r.count=0,10>Mo.length&&Mo.push(r)}function Nc(r,t,e,n){var i=typeof r;(i==="undefined"||i==="boolean")&&(r=null);var s=!1;if(r===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(r.$$typeof){case Vs:case yE:s=!0}}if(s)return e(n,r,t===""?"."+uc(r,0):t),1;if(s=0,t=t===""?".":t+":",Array.isArray(r))for(var o=0;o<r.length;o++){i=r[o];var a=t+uc(i,o);s+=Nc(i,a,e,n)}else if(r===null||typeof r!="object"?a=null:(a=Mh&&r[Mh]||r["@@iterator"],a=typeof a=="function"?a:null),typeof a=="function")for(r=a.call(r),o=0;!(i=r.next()).done;)i=i.value,a=t+uc(i,o++),s+=Nc(i,a,e,n);else if(i==="object")throw e=""+r,Error(Ws(31,e==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":e,""));return s}function Mc(r,t,e){return r==null?0:Nc(r,"",t,e)}function uc(r,t){return typeof r=="object"&&r!==null&&r.key!=null?OE(r.key):t.toString(36)}function TE(r,t){r.func.call(r.context,t,r.count++)}function FE(r,t,e){var n=r.result,i=r.keyPrefix;r=r.func.call(r.context,t,r.count++),Array.isArray(r)?Uc(r,n,e,function(s){return s}):r!=null&&(Hl(r)&&(r=DE(r,i+(!r.key||t&&t.key===r.key?"":(""+r.key).replace($p,"$&/")+"/")+e)),n.push(r))}function Uc(r,t,e,n,i){var s="";e!=null&&(s=(""+e).replace($p,"$&/")+"/"),t=kp(t,s,n,i),Mc(r,FE,t),Gp(t)}var jp={current:null};function _n(){var r=jp.current;if(r===null)throw Error(Ws(321));return r}var xE={ReactCurrentDispatcher:jp,ReactCurrentBatchConfig:{suspense:null},ReactCurrentOwner:Wl,IsSomeRendererActing:{current:!1},assign:jl};Bt.Children={map:function(r,t,e){if(r==null)return r;var n=[];return Uc(r,n,null,t,e),n},forEach:function(r,t,e){if(r==null)return r;t=kp(null,null,t,e),Mc(r,TE,t),Gp(t)},count:function(r){return Mc(r,function(){return null},null)},toArray:function(r){var t=[];return Uc(r,t,null,function(e){return e}),t},only:function(r){if(!Hl(r))throw Error(Ws(143));return r}};Bt.Component=as;Bt.Fragment=mE;Bt.Profiler=bE;Bt.PureComponent=zl;Bt.StrictMode=vE;Bt.Suspense=EE;Bt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xE;Bt.cloneElement=function(r,t,e){if(r==null)throw Error(Ws(267,r));var n=jl({},r.props),i=r.key,s=r.ref,o=r._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,o=Wl.current),t.key!==void 0&&(i=""+t.key),r.type&&r.type.defaultProps)var a=r.type.defaultProps;for(c in t)Np.call(t,c)&&!Mp.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&a!==void 0?a[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=e;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];n.children=a}return{$$typeof:Vs,type:r.type,key:i,ref:s,props:n,_owner:o}};Bt.createContext=function(r,t){return t===void 0&&(t=null),r={$$typeof:wE,_calculateChangedBits:t,_currentValue:r,_currentValue2:r,_threadCount:0,Provider:null,Consumer:null},r.Provider={$$typeof:_E,_context:r},r.Consumer=r};Bt.createElement=Up;Bt.createFactory=function(r){var t=Up.bind(null,r);return t.type=r,t};Bt.createRef=function(){return{current:null}};Bt.forwardRef=function(r){return{$$typeof:SE,render:r}};Bt.isValidElement=Hl;Bt.lazy=function(r){return{$$typeof:IE,_ctor:r,_status:-1,_result:null}};Bt.memo=function(r,t){return{$$typeof:AE,type:r,compare:t===void 0?null:t}};Bt.useCallback=function(r,t){return _n().useCallback(r,t)};Bt.useContext=function(r,t){return _n().useContext(r,t)};Bt.useDebugValue=function(){};Bt.useEffect=function(r,t){return _n().useEffect(r,t)};Bt.useImperativeHandle=function(r,t,e){return _n().useImperativeHandle(r,t,e)};Bt.useLayoutEffect=function(r,t){return _n().useLayoutEffect(r,t)};Bt.useMemo=function(r,t){return _n().useMemo(r,t)};Bt.useReducer=function(r,t,e){return _n().useReducer(r,t,e)};Bt.useRef=function(r){return _n().useRef(r)};Bt.useState=function(r){return _n().useState(r)};Bt.version="16.14.0";Cp.exports=Bt;var LE=Cp.exports;const CE=rs(LE);function X(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(h){o(h)}}function c(u){try{l(n.throw(u))}catch(h){o(h)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(r,t||[])).next())})}function Uh(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function ut(r){return this instanceof ut?(this.v=r,this):new ut(r)}function Vr(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(d){n[d]&&(i[d]=function(f){return new Promise(function(m,b){s.push([d,f,m,b])>1||a(d,f)})})}function a(d,f){try{c(n[d](f))}catch(m){h(s[0][3],m)}}function c(d){d.value instanceof ut?Promise.resolve(d.value.v).then(l,u):h(s[0][2],d)}function l(d){a("next",d)}function u(d){a("throw",d)}function h(d,f){d(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Io(r){var t,e;return t={},n("next"),n("throw",function(i){throw i}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(i,s){t[i]=r[i]?function(o){return(e=!e)?{value:ut(r[i](o)),done:!1}:s?s(o):o}:s}}function ci(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof Uh=="function"?Uh(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=r[s]&&function(o){return new Promise(function(a,c){o=r[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}const RE=new TextDecoder("utf-8"),$c=r=>RE.decode(r),BE=new TextEncoder,Yl=r=>BE.encode(r),[jI,PE]=(()=>{const r=()=>{throw new Error("BigInt is not available in this environment")};function t(){throw r()}return t.asIntN=()=>{throw r()},t.asUintN=()=>{throw r()},typeof BigInt<"u"?[BigInt,!0]:[t,!1]})(),[Hs,zI]=(()=>{const r=()=>{throw new Error("BigInt64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigInt64Array<"u"?[BigInt64Array,!0]:[t,!1]})(),[Ys,VI]=(()=>{const r=()=>{throw new Error("BigUint64Array is not available in this environment")};class t{static get BYTES_PER_ELEMENT(){return 8}static of(){throw r()}static from(){throw r()}constructor(){throw r()}}return typeof BigUint64Array<"u"?[BigUint64Array,!0]:[t,!1]})(),NE=r=>typeof r=="number",zp=r=>typeof r=="boolean",ie=r=>typeof r=="function",Ve=r=>r!=null&&Object(r)===r,Mn=r=>Ve(r)&&ie(r.then),qs=r=>Ve(r)&&ie(r[Symbol.iterator]),cs=r=>Ve(r)&&ie(r[Symbol.asyncIterator]),kc=r=>Ve(r)&&Ve(r.schema),Vp=r=>Ve(r)&&"done"in r&&"value"in r,Wp=r=>Ve(r)&&ie(r.stat)&&NE(r.fd),Hp=r=>Ve(r)&&ql(r.body),Ha=r=>"_getDOMStream"in r&&"_getNodeStream"in r,ME=r=>Ve(r)&&ie(r.abort)&&ie(r.getWriter)&&!Ha(r),ql=r=>Ve(r)&&ie(r.cancel)&&ie(r.getReader)&&!Ha(r),UE=r=>Ve(r)&&ie(r.end)&&ie(r.write)&&zp(r.writable)&&!Ha(r),Yp=r=>Ve(r)&&ie(r.read)&&ie(r.pipe)&&zp(r.readable)&&!Ha(r),$E=r=>Ve(r)&&ie(r.clear)&&ie(r.bytes)&&ie(r.position)&&ie(r.setPosition)&&ie(r.capacity)&&ie(r.getBufferIdentifier)&&ie(r.createLong),Kl=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:ArrayBuffer;function kE(r){const t=r[0]?[r[0]]:[];let e,n,i,s;for(let o,a,c=0,l=0,u=r.length;++c<u;){if(o=t[l],a=r[c],!o||!a||o.buffer!==a.buffer||a.byteOffset<o.byteOffset){a&&(t[++l]=a);continue}if({byteOffset:e,byteLength:i}=o,{byteOffset:n,byteLength:s}=a,e+i<n||n+s<e){a&&(t[++l]=a);continue}t[l]=new Uint8Array(o.buffer,e,n-e+s)}return t}function $h(r,t,e=0,n=t.byteLength){const i=r.byteLength,s=new Uint8Array(r.buffer,r.byteOffset,i),o=new Uint8Array(t.buffer,t.byteOffset,Math.min(n,i));return s.set(o,e),r}function Kr(r,t){const e=kE(r),n=e.reduce((u,h)=>u+h.byteLength,0);let i,s,o,a=0,c=-1;const l=Math.min(t||Number.POSITIVE_INFINITY,n);for(const u=e.length;++c<u;){if(i=e[c],s=i.subarray(0,Math.min(i.length,l-a)),l<=a+s.length){s.length<i.length?e[c]=i.subarray(s.length):s.length===i.length&&c++,o?$h(o,s,a):o=s;break}$h(o||(o=new Uint8Array(l)),s,a),a+=s.length}return[o||new Uint8Array(0),e.slice(c),n-(o?o.byteLength:0)]}function Mt(r,t){let e=Vp(t)?t.value:t;return e instanceof r?r===Uint8Array?new r(e.buffer,e.byteOffset,e.byteLength):e:e?(typeof e=="string"&&(e=Yl(e)),e instanceof ArrayBuffer?new r(e):e instanceof Kl?new r(e):$E(e)?Mt(r,e.bytes()):ArrayBuffer.isView(e)?e.byteLength<=0?new r(0):new r(e.buffer,e.byteOffset,e.byteLength/r.BYTES_PER_ELEMENT):r.from(e)):new r(0)}const gs=r=>Mt(Int32Array,r),It=r=>Mt(Uint8Array,r),Gc=r=>(r.next(),r);function*GE(r,t){const e=function*(i){yield i},n=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Kl?e(t):qs(t)?t:e(t);return yield*Gc(function*(i){let s=null;do s=i.next(yield Mt(r,s));while(!s.done)}(n[Symbol.iterator]())),new r}const jE=r=>GE(Uint8Array,r);function qp(r,t){return Vr(this,arguments,function*(){if(Mn(t))return yield ut(yield ut(yield*Io(ci(qp(r,yield ut(t))))));const n=function(o){return Vr(this,arguments,function*(){yield yield ut(yield ut(o))})},i=function(o){return Vr(this,arguments,function*(){yield ut(yield*Io(ci(Gc(function*(a){let c=null;do c=a.next(yield c==null?void 0:c.value);while(!c.done)}(o[Symbol.iterator]())))))})},s=typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof Kl?n(t):qs(t)?i(t):cs(t)?t:n(t);return yield ut(yield*Io(ci(Gc(function(o){return Vr(this,arguments,function*(){let a=null;do a=yield ut(o.next(yield yield ut(Mt(r,a))));while(!a.done)})}(s[Symbol.asyncIterator]()))))),yield ut(new r)})}const zE=r=>qp(Uint8Array,r);function Zl(r,t,e){if(r!==0){e=e.slice(0,t+1);for(let n=-1;++n<=t;)e[n]+=r}return e}function VE(r,t){let e=0;const n=r.length;if(n!==t.length)return!1;if(n>0)do if(r[e]!==t[e])return!1;while(++e<n);return!0}const ir={fromIterable(r){return po(WE(r))},fromAsyncIterable(r){return po(HE(r))},fromDOMStream(r){return po(YE(r))},fromNodeStream(r){return po(KE(r))},toDOMStream(r,t){throw new Error('"toDOMStream" not available in this environment')},toNodeStream(r,t){throw new Error('"toNodeStream" not available in this environment')}},po=r=>(r.next(),r);function*WE(r){let t,e=!1,n=[],i,s,o,a=0;function c(){return s==="peek"?Kr(n,o)[0]:([i,n,a]=Kr(n,o),i)}({cmd:s,size:o}=yield null);const l=jE(r)[Symbol.iterator]();try{do if({done:t,value:i}=Number.isNaN(o-a)?l.next():l.next(o-a),!t&&i.byteLength>0&&(n.push(i),a+=i.byteLength),t||o<=a)do({cmd:s,size:o}=yield c());while(o<a);while(!t)}catch(u){(e=!0)&&typeof l.throw=="function"&&l.throw(u)}finally{e===!1&&typeof l.return=="function"&&l.return(null)}return null}function HE(r){return Vr(this,arguments,function*(){let e,n=!1,i=[],s,o,a,c=0;function l(){return o==="peek"?Kr(i,a)[0]:([s,i,c]=Kr(i,a),s)}({cmd:o,size:a}=yield yield ut(null));const u=zE(r)[Symbol.asyncIterator]();try{do if({done:e,value:s}=Number.isNaN(a-c)?yield ut(u.next()):yield ut(u.next(a-c)),!e&&s.byteLength>0&&(i.push(s),c+=s.byteLength),e||a<=c)do({cmd:o,size:a}=yield yield ut(l()));while(a<c);while(!e)}catch(h){(n=!0)&&typeof u.throw=="function"&&(yield ut(u.throw(h)))}finally{n===!1&&typeof u.return=="function"&&(yield ut(u.return(new Uint8Array(0))))}return yield ut(null)})}function YE(r){return Vr(this,arguments,function*(){let e=!1,n=!1,i=[],s,o,a,c=0;function l(){return o==="peek"?Kr(i,a)[0]:([s,i,c]=Kr(i,a),s)}({cmd:o,size:a}=yield yield ut(null));const u=new qE(r);try{do if({done:e,value:s}=Number.isNaN(a-c)?yield ut(u.read()):yield ut(u.read(a-c)),!e&&s.byteLength>0&&(i.push(It(s)),c+=s.byteLength),e||a<=c)do({cmd:o,size:a}=yield yield ut(l()));while(a<c);while(!e)}catch(h){(n=!0)&&(yield ut(u.cancel(h)))}finally{n===!1?yield ut(u.cancel()):r.locked&&u.releaseLock()}return yield ut(null)})}class qE{constructor(t){this.source=t,this.reader=null,this.reader=this.source.getReader(),this.reader.closed.catch(()=>{})}get closed(){return this.reader?this.reader.closed.catch(()=>{}):Promise.resolve()}releaseLock(){this.reader&&this.reader.releaseLock(),this.reader=null}cancel(t){return X(this,void 0,void 0,function*(){const{reader:e,source:n}=this;e&&(yield e.cancel(t).catch(()=>{})),n&&n.locked&&this.releaseLock()})}read(t){return X(this,void 0,void 0,function*(){if(t===0)return{done:this.reader==null,value:new Uint8Array(0)};const e=yield this.reader.read();return!e.done&&(e.value=It(e)),e})}}const hc=(r,t)=>{const e=i=>n([t,i]);let n;return[t,e,new Promise(i=>(n=i)&&r.once(t,e))]};function KE(r){return Vr(this,arguments,function*(){const e=[];let n="error",i=!1,s=null,o,a,c=0,l=[],u;function h(){return o==="peek"?Kr(l,a)[0]:([u,l,c]=Kr(l,a),u)}if({cmd:o,size:a}=yield yield ut(null),r.isTTY)return yield yield ut(new Uint8Array(0)),yield ut(null);try{e[0]=hc(r,"end"),e[1]=hc(r,"error");do{if(e[2]=hc(r,"readable"),[n,s]=yield ut(Promise.race(e.map(f=>f[2]))),n==="error")break;if((i=n==="end")||(Number.isFinite(a-c)?(u=It(r.read(a-c)),u.byteLength<a-c&&(u=It(r.read()))):u=It(r.read()),u.byteLength>0&&(l.push(u),c+=u.byteLength)),i||a<=c)do({cmd:o,size:a}=yield yield ut(h()));while(a<c)}while(!i)}finally{yield ut(d(e,n==="error"?s:null))}return yield ut(null);function d(f,m){return u=l=null,new Promise((b,N)=>{for(const[D,O]of f)r.off(D,O);try{const D=r.destroy;D&&D.call(r,m),m=void 0}catch(D){m=D||m}finally{m!=null?N(m):b()}})}})}var Ze;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Ze||(Ze={}));var Xe;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(Xe||(Xe={}));var Ge;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(Ge||(Ge={}));var yn;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(yn||(yn={}));var Dt;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Dt||(Dt={}));var Un;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(Un||(Un={}));var Ft;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(Ft||(Ft={}));var w;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.Float=3]="Float",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct=13]="Struct",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Dictionary=-1]="Dictionary",r[r.Int8=-2]="Int8",r[r.Int16=-3]="Int16",r[r.Int32=-4]="Int32",r[r.Int64=-5]="Int64",r[r.Uint8=-6]="Uint8",r[r.Uint16=-7]="Uint16",r[r.Uint32=-8]="Uint32",r[r.Uint64=-9]="Uint64",r[r.Float16=-10]="Float16",r[r.Float32=-11]="Float32",r[r.Float64=-12]="Float64",r[r.DateDay=-13]="DateDay",r[r.DateMillisecond=-14]="DateMillisecond",r[r.TimestampSecond=-15]="TimestampSecond",r[r.TimestampMillisecond=-16]="TimestampMillisecond",r[r.TimestampMicrosecond=-17]="TimestampMicrosecond",r[r.TimestampNanosecond=-18]="TimestampNanosecond",r[r.TimeSecond=-19]="TimeSecond",r[r.TimeMillisecond=-20]="TimeMillisecond",r[r.TimeMicrosecond=-21]="TimeMicrosecond",r[r.TimeNanosecond=-22]="TimeNanosecond",r[r.DenseUnion=-23]="DenseUnion",r[r.SparseUnion=-24]="SparseUnion",r[r.IntervalDayTime=-25]="IntervalDayTime",r[r.IntervalYearMonth=-26]="IntervalYearMonth"})(w||(w={}));var on;(function(r){r[r.OFFSET=0]="OFFSET",r[r.DATA=1]="DATA",r[r.VALIDITY=2]="VALIDITY",r[r.TYPE=3]="TYPE"})(on||(on={}));const ZE=void 0;function Ps(r){if(r===null)return"null";if(r===ZE)return"undefined";switch(typeof r){case"number":return`${r}`;case"bigint":return`${r}`;case"string":return`"${r}"`}return typeof r[Symbol.toPrimitive]=="function"?r[Symbol.toPrimitive]("string"):ArrayBuffer.isView(r)?r instanceof Hs||r instanceof Ys?`[${[...r].map(t=>Ps(t))}]`:`[${r}]`:ArrayBuffer.isView(r)?`[${r}]`:JSON.stringify(r,(t,e)=>typeof e=="bigint"?`${e}`:e)}const JE=Symbol.for("isArrowBigNum");function Ar(r,...t){return t.length===0?Object.setPrototypeOf(Mt(this.TypedArray,r),this.constructor.prototype):Object.setPrototypeOf(new this.TypedArray(r,...t),this.constructor.prototype)}Ar.prototype[JE]=!0;Ar.prototype.toJSON=function(){return`"${li(this)}"`};Ar.prototype.valueOf=function(){return Kp(this)};Ar.prototype.toString=function(){return li(this)};Ar.prototype[Symbol.toPrimitive]=function(r="default"){switch(r){case"number":return Kp(this);case"string":return li(this);case"default":return jc(this)}return li(this)};function Ci(...r){return Ar.apply(this,r)}function Ri(...r){return Ar.apply(this,r)}function Ns(...r){return Ar.apply(this,r)}Object.setPrototypeOf(Ci.prototype,Object.create(Int32Array.prototype));Object.setPrototypeOf(Ri.prototype,Object.create(Uint32Array.prototype));Object.setPrototypeOf(Ns.prototype,Object.create(Uint32Array.prototype));Object.assign(Ci.prototype,Ar.prototype,{constructor:Ci,signed:!0,TypedArray:Int32Array,BigIntArray:Hs});Object.assign(Ri.prototype,Ar.prototype,{constructor:Ri,signed:!1,TypedArray:Uint32Array,BigIntArray:Ys});Object.assign(Ns.prototype,Ar.prototype,{constructor:Ns,signed:!0,TypedArray:Uint32Array,BigIntArray:Ys});function Kp(r){const{buffer:t,byteOffset:e,length:n,signed:i}=r,s=new Ys(t,e,n),o=i&&s[s.length-1]&BigInt(1)<<BigInt(63);let a=BigInt(o?1:0),c=BigInt(0);if(o){for(const l of s)a+=~l*(BigInt(1)<<BigInt(32)*c++);a*=BigInt(-1)}else for(const l of s)a+=l*(BigInt(1)<<BigInt(32)*c++);return a}let li,jc;PE?(jc=r=>r.byteLength===8?new r.BigIntArray(r.buffer,r.byteOffset,1)[0]:dc(r),li=r=>r.byteLength===8?`${new r.BigIntArray(r.buffer,r.byteOffset,1)[0]}`:dc(r)):(li=dc,jc=li);function dc(r){let t="";const e=new Uint32Array(2);let n=new Uint16Array(r.buffer,r.byteOffset,r.byteLength/2);const i=new Uint32Array((n=new Uint16Array(n).reverse()).buffer);let s=-1;const o=n.length-1;do{for(e[0]=n[s=0];s<o;)n[s++]=e[1]=e[0]/10,e[0]=(e[0]-e[1]*10<<16)+n[s];n[s]=e[1]=e[0]/10,e[0]=e[0]-e[1]*10,t=`${e[0]}${t}`}while(i[0]||i[1]||i[2]||i[3]);return t??"0"}class Jl{static new(t,e){switch(e){case!0:return new Ci(t);case!1:return new Ri(t)}switch(t.constructor){case Int8Array:case Int16Array:case Int32Array:case Hs:return new Ci(t)}return t.byteLength===16?new Ns(t):new Ri(t)}static signed(t){return new Ci(t)}static unsigned(t){return new Ri(t)}static decimal(t){return new Ns(t)}constructor(t,e){return Jl.new(t,e)}}var Zp,Jp,Xp,Qp,tg,eg,rg,ng,ig,sg,og,ag,cg,lg,ug,hg,dg,fg,pg;class Q{static isNull(t){return(t==null?void 0:t.typeId)===w.Null}static isInt(t){return(t==null?void 0:t.typeId)===w.Int}static isFloat(t){return(t==null?void 0:t.typeId)===w.Float}static isBinary(t){return(t==null?void 0:t.typeId)===w.Binary}static isUtf8(t){return(t==null?void 0:t.typeId)===w.Utf8}static isBool(t){return(t==null?void 0:t.typeId)===w.Bool}static isDecimal(t){return(t==null?void 0:t.typeId)===w.Decimal}static isDate(t){return(t==null?void 0:t.typeId)===w.Date}static isTime(t){return(t==null?void 0:t.typeId)===w.Time}static isTimestamp(t){return(t==null?void 0:t.typeId)===w.Timestamp}static isInterval(t){return(t==null?void 0:t.typeId)===w.Interval}static isList(t){return(t==null?void 0:t.typeId)===w.List}static isStruct(t){return(t==null?void 0:t.typeId)===w.Struct}static isUnion(t){return(t==null?void 0:t.typeId)===w.Union}static isFixedSizeBinary(t){return(t==null?void 0:t.typeId)===w.FixedSizeBinary}static isFixedSizeList(t){return(t==null?void 0:t.typeId)===w.FixedSizeList}static isMap(t){return(t==null?void 0:t.typeId)===w.Map}static isDictionary(t){return(t==null?void 0:t.typeId)===w.Dictionary}static isDenseUnion(t){return Q.isUnion(t)&&t.mode===Xe.Dense}static isSparseUnion(t){return Q.isUnion(t)&&t.mode===Xe.Sparse}get typeId(){return w.NONE}}Zp=Symbol.toStringTag;Q[Zp]=(r=>(r.children=null,r.ArrayType=Array,r[Symbol.toStringTag]="DataType"))(Q.prototype);let $n=class extends Q{toString(){return"Null"}get typeId(){return w.Null}};Jp=Symbol.toStringTag;$n[Jp]=(r=>r[Symbol.toStringTag]="Null")($n.prototype);class kn extends Q{constructor(t,e){super(),this.isSigned=t,this.bitWidth=e}get typeId(){return w.Int}get ArrayType(){switch(this.bitWidth){case 8:return this.isSigned?Int8Array:Uint8Array;case 16:return this.isSigned?Int16Array:Uint16Array;case 32:return this.isSigned?Int32Array:Uint32Array;case 64:return this.isSigned?Hs:Ys}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`${this.isSigned?"I":"Ui"}nt${this.bitWidth}`}}Xp=Symbol.toStringTag;kn[Xp]=(r=>(r.isSigned=null,r.bitWidth=null,r[Symbol.toStringTag]="Int"))(kn.prototype);class Ms extends kn{constructor(){super(!0,32)}get ArrayType(){return Int32Array}}Object.defineProperty(Ms.prototype,"ArrayType",{value:Int32Array});class Us extends Q{constructor(t){super(),this.precision=t}get typeId(){return w.Float}get ArrayType(){switch(this.precision){case Ge.HALF:return Uint16Array;case Ge.SINGLE:return Float32Array;case Ge.DOUBLE:return Float64Array}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}toString(){return`Float${this.precision<<5||16}`}}Qp=Symbol.toStringTag;Us[Qp]=(r=>(r.precision=null,r[Symbol.toStringTag]="Float"))(Us.prototype);let Uo=class extends Q{constructor(){super()}get typeId(){return w.Binary}toString(){return"Binary"}};tg=Symbol.toStringTag;Uo[tg]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Binary"))(Uo.prototype);let $o=class extends Q{constructor(){super()}get typeId(){return w.Utf8}toString(){return"Utf8"}};eg=Symbol.toStringTag;$o[eg]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Utf8"))($o.prototype);let ko=class extends Q{constructor(){super()}get typeId(){return w.Bool}toString(){return"Bool"}};rg=Symbol.toStringTag;ko[rg]=(r=>(r.ArrayType=Uint8Array,r[Symbol.toStringTag]="Bool"))(ko.prototype);let Go=class extends Q{constructor(t,e,n=128){super(),this.scale=t,this.precision=e,this.bitWidth=n}get typeId(){return w.Decimal}toString(){return`Decimal[${this.precision}e${this.scale>0?"+":""}${this.scale}]`}};ng=Symbol.toStringTag;Go[ng]=(r=>(r.scale=null,r.precision=null,r.ArrayType=Uint32Array,r[Symbol.toStringTag]="Decimal"))(Go.prototype);class jo extends Q{constructor(t){super(),this.unit=t}get typeId(){return w.Date}toString(){return`Date${(this.unit+1)*32}<${yn[this.unit]}>`}}ig=Symbol.toStringTag;jo[ig]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Date"))(jo.prototype);class $s extends Q{constructor(t,e){super(),this.unit=t,this.bitWidth=e}get typeId(){return w.Time}toString(){return`Time${this.bitWidth}<${Dt[this.unit]}>`}get ArrayType(){switch(this.bitWidth){case 32:return Int32Array;case 64:return Hs}throw new Error(`Unrecognized ${this[Symbol.toStringTag]} type`)}}sg=Symbol.toStringTag;$s[sg]=(r=>(r.unit=null,r.bitWidth=null,r[Symbol.toStringTag]="Time"))($s.prototype);class zo extends Q{constructor(t,e){super(),this.unit=t,this.timezone=e}get typeId(){return w.Timestamp}toString(){return`Timestamp<${Dt[this.unit]}${this.timezone?`, ${this.timezone}`:""}>`}}og=Symbol.toStringTag;zo[og]=(r=>(r.unit=null,r.timezone=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Timestamp"))(zo.prototype);class Vo extends Q{constructor(t){super(),this.unit=t}get typeId(){return w.Interval}toString(){return`Interval<${Un[this.unit]}>`}}ag=Symbol.toStringTag;Vo[ag]=(r=>(r.unit=null,r.ArrayType=Int32Array,r[Symbol.toStringTag]="Interval"))(Vo.prototype);let Wo=class extends Q{constructor(t){super(),this.children=[t]}get typeId(){return w.List}toString(){return`List<${this.valueType}>`}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}};cg=Symbol.toStringTag;Wo[cg]=(r=>(r.children=null,r[Symbol.toStringTag]="List"))(Wo.prototype);class Fe extends Q{constructor(t){super(),this.children=t}get typeId(){return w.Struct}toString(){return`Struct<{${this.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}lg=Symbol.toStringTag;Fe[lg]=(r=>(r.children=null,r[Symbol.toStringTag]="Struct"))(Fe.prototype);class Ho extends Q{constructor(t,e,n){super(),this.mode=t,this.children=n,this.typeIds=e=Int32Array.from(e),this.typeIdToChildIndex=e.reduce((i,s,o)=>(i[s]=o)&&i||i,Object.create(null))}get typeId(){return w.Union}toString(){return`${this[Symbol.toStringTag]}<${this.children.map(t=>`${t.type}`).join(" | ")}>`}}ug=Symbol.toStringTag;Ho[ug]=(r=>(r.mode=null,r.typeIds=null,r.children=null,r.typeIdToChildIndex=null,r.ArrayType=Int8Array,r[Symbol.toStringTag]="Union"))(Ho.prototype);let Yo=class extends Q{constructor(t){super(),this.byteWidth=t}get typeId(){return w.FixedSizeBinary}toString(){return`FixedSizeBinary[${this.byteWidth}]`}};hg=Symbol.toStringTag;Yo[hg]=(r=>(r.byteWidth=null,r.ArrayType=Uint8Array,r[Symbol.toStringTag]="FixedSizeBinary"))(Yo.prototype);let qo=class extends Q{constructor(t,e){super(),this.listSize=t,this.children=[e]}get typeId(){return w.FixedSizeList}get valueType(){return this.children[0].type}get valueField(){return this.children[0]}get ArrayType(){return this.valueType.ArrayType}toString(){return`FixedSizeList[${this.listSize}]<${this.valueType}>`}};dg=Symbol.toStringTag;qo[dg]=(r=>(r.children=null,r.listSize=null,r[Symbol.toStringTag]="FixedSizeList"))(qo.prototype);class Ko extends Q{constructor(t,e=!1){super(),this.children=[t],this.keysSorted=e}get typeId(){return w.Map}get keyType(){return this.children[0].type.children[0].type}get valueType(){return this.children[0].type.children[1].type}get childType(){return this.children[0].type}toString(){return`Map<{${this.children[0].type.children.map(t=>`${t.name}:${t.type}`).join(", ")}}>`}}fg=Symbol.toStringTag;Ko[fg]=(r=>(r.children=null,r.keysSorted=null,r[Symbol.toStringTag]="Map_"))(Ko.prototype);const XE=(r=>()=>++r)(-1);class Wi extends Q{constructor(t,e,n,i){super(),this.indices=e,this.dictionary=t,this.isOrdered=i||!1,this.id=n==null?XE():typeof n=="number"?n:n.low}get typeId(){return w.Dictionary}get children(){return this.dictionary.children}get valueType(){return this.dictionary}get ArrayType(){return this.dictionary.ArrayType}toString(){return`Dictionary<${this.indices}, ${this.dictionary}>`}}pg=Symbol.toStringTag;Wi[pg]=(r=>(r.id=null,r.indices=null,r.isOrdered=null,r.dictionary=null,r[Symbol.toStringTag]="Dictionary"))(Wi.prototype);function an(r){const t=r;switch(r.typeId){case w.Decimal:return r.bitWidth/32;case w.Timestamp:return 2;case w.Date:return 1+t.unit;case w.Interval:return 1+t.unit;case w.FixedSizeList:return t.listSize;case w.FixedSizeBinary:return t.byteWidth;default:return 1}}class gt{visitMany(t,...e){return t.map((n,i)=>this.visit(n,...e.map(s=>s[i])))}visit(...t){return this.getVisitFn(t[0],!1).apply(this,t)}getVisitFn(t,e=!0){return QE(this,t,e)}getVisitFnByTypeId(t,e=!0){return vi(this,t,e)}visitNull(t,...e){return null}visitBool(t,...e){return null}visitInt(t,...e){return null}visitFloat(t,...e){return null}visitUtf8(t,...e){return null}visitBinary(t,...e){return null}visitFixedSizeBinary(t,...e){return null}visitDate(t,...e){return null}visitTimestamp(t,...e){return null}visitTime(t,...e){return null}visitDecimal(t,...e){return null}visitList(t,...e){return null}visitStruct(t,...e){return null}visitUnion(t,...e){return null}visitDictionary(t,...e){return null}visitInterval(t,...e){return null}visitFixedSizeList(t,...e){return null}visitMap(t,...e){return null}}function QE(r,t,e=!0){return typeof t=="number"?vi(r,t,e):typeof t=="string"&&t in w?vi(r,w[t],e):t&&t instanceof Q?vi(r,kh(t),e):t!=null&&t.type&&t.type instanceof Q?vi(r,kh(t.type),e):vi(r,w.NONE,e)}function vi(r,t,e=!0){let n=null;switch(t){case w.Null:n=r.visitNull;break;case w.Bool:n=r.visitBool;break;case w.Int:n=r.visitInt;break;case w.Int8:n=r.visitInt8||r.visitInt;break;case w.Int16:n=r.visitInt16||r.visitInt;break;case w.Int32:n=r.visitInt32||r.visitInt;break;case w.Int64:n=r.visitInt64||r.visitInt;break;case w.Uint8:n=r.visitUint8||r.visitInt;break;case w.Uint16:n=r.visitUint16||r.visitInt;break;case w.Uint32:n=r.visitUint32||r.visitInt;break;case w.Uint64:n=r.visitUint64||r.visitInt;break;case w.Float:n=r.visitFloat;break;case w.Float16:n=r.visitFloat16||r.visitFloat;break;case w.Float32:n=r.visitFloat32||r.visitFloat;break;case w.Float64:n=r.visitFloat64||r.visitFloat;break;case w.Utf8:n=r.visitUtf8;break;case w.Binary:n=r.visitBinary;break;case w.FixedSizeBinary:n=r.visitFixedSizeBinary;break;case w.Date:n=r.visitDate;break;case w.DateDay:n=r.visitDateDay||r.visitDate;break;case w.DateMillisecond:n=r.visitDateMillisecond||r.visitDate;break;case w.Timestamp:n=r.visitTimestamp;break;case w.TimestampSecond:n=r.visitTimestampSecond||r.visitTimestamp;break;case w.TimestampMillisecond:n=r.visitTimestampMillisecond||r.visitTimestamp;break;case w.TimestampMicrosecond:n=r.visitTimestampMicrosecond||r.visitTimestamp;break;case w.TimestampNanosecond:n=r.visitTimestampNanosecond||r.visitTimestamp;break;case w.Time:n=r.visitTime;break;case w.TimeSecond:n=r.visitTimeSecond||r.visitTime;break;case w.TimeMillisecond:n=r.visitTimeMillisecond||r.visitTime;break;case w.TimeMicrosecond:n=r.visitTimeMicrosecond||r.visitTime;break;case w.TimeNanosecond:n=r.visitTimeNanosecond||r.visitTime;break;case w.Decimal:n=r.visitDecimal;break;case w.List:n=r.visitList;break;case w.Struct:n=r.visitStruct;break;case w.Union:n=r.visitUnion;break;case w.DenseUnion:n=r.visitDenseUnion||r.visitUnion;break;case w.SparseUnion:n=r.visitSparseUnion||r.visitUnion;break;case w.Dictionary:n=r.visitDictionary;break;case w.Interval:n=r.visitInterval;break;case w.IntervalDayTime:n=r.visitIntervalDayTime||r.visitInterval;break;case w.IntervalYearMonth:n=r.visitIntervalYearMonth||r.visitInterval;break;case w.FixedSizeList:n=r.visitFixedSizeList;break;case w.Map:n=r.visitMap;break}if(typeof n=="function")return n;if(!e)return()=>null;throw new Error(`Unrecognized type '${w[t]}'`)}function kh(r){switch(r.typeId){case w.Null:return w.Null;case w.Int:{const{bitWidth:t,isSigned:e}=r;switch(t){case 8:return e?w.Int8:w.Uint8;case 16:return e?w.Int16:w.Uint16;case 32:return e?w.Int32:w.Uint32;case 64:return e?w.Int64:w.Uint64}return w.Int}case w.Float:switch(r.precision){case Ge.HALF:return w.Float16;case Ge.SINGLE:return w.Float32;case Ge.DOUBLE:return w.Float64}return w.Float;case w.Binary:return w.Binary;case w.Utf8:return w.Utf8;case w.Bool:return w.Bool;case w.Decimal:return w.Decimal;case w.Time:switch(r.unit){case Dt.SECOND:return w.TimeSecond;case Dt.MILLISECOND:return w.TimeMillisecond;case Dt.MICROSECOND:return w.TimeMicrosecond;case Dt.NANOSECOND:return w.TimeNanosecond}return w.Time;case w.Timestamp:switch(r.unit){case Dt.SECOND:return w.TimestampSecond;case Dt.MILLISECOND:return w.TimestampMillisecond;case Dt.MICROSECOND:return w.TimestampMicrosecond;case Dt.NANOSECOND:return w.TimestampNanosecond}return w.Timestamp;case w.Date:switch(r.unit){case yn.DAY:return w.DateDay;case yn.MILLISECOND:return w.DateMillisecond}return w.Date;case w.Interval:switch(r.unit){case Un.DAY_TIME:return w.IntervalDayTime;case Un.YEAR_MONTH:return w.IntervalYearMonth}return w.Interval;case w.Map:return w.Map;case w.List:return w.List;case w.Struct:return w.Struct;case w.Union:switch(r.mode){case Xe.Dense:return w.DenseUnion;case Xe.Sparse:return w.SparseUnion}return w.Union;case w.FixedSizeBinary:return w.FixedSizeBinary;case w.FixedSizeList:return w.FixedSizeList;case w.Dictionary:return w.Dictionary}throw new Error(`Unrecognized type '${w[r.typeId]}'`)}gt.prototype.visitInt8=null;gt.prototype.visitInt16=null;gt.prototype.visitInt32=null;gt.prototype.visitInt64=null;gt.prototype.visitUint8=null;gt.prototype.visitUint16=null;gt.prototype.visitUint32=null;gt.prototype.visitUint64=null;gt.prototype.visitFloat16=null;gt.prototype.visitFloat32=null;gt.prototype.visitFloat64=null;gt.prototype.visitDateDay=null;gt.prototype.visitDateMillisecond=null;gt.prototype.visitTimestampSecond=null;gt.prototype.visitTimestampMillisecond=null;gt.prototype.visitTimestampMicrosecond=null;gt.prototype.visitTimestampNanosecond=null;gt.prototype.visitTimeSecond=null;gt.prototype.visitTimeMillisecond=null;gt.prototype.visitTimeMicrosecond=null;gt.prototype.visitTimeNanosecond=null;gt.prototype.visitDenseUnion=null;gt.prototype.visitSparseUnion=null;gt.prototype.visitIntervalDayTime=null;gt.prototype.visitIntervalYearMonth=null;const gg=new Float64Array(1),mi=new Uint32Array(gg.buffer);function yg(r){const t=(r&31744)>>10,e=(r&1023)/1024,n=Math.pow(-1,(r&32768)>>15);switch(t){case 31:return n*(e?Number.NaN:1/0);case 0:return n*(e?6103515625e-14*e:0)}return n*Math.pow(2,t-15)*(1+e)}function t1(r){if(r!==r)return 32256;gg[0]=r;const t=(mi[1]&2147483648)>>16&65535;let e=mi[1]&2146435072,n=0;return e>=1089470464?mi[0]>0?e=31744:(e=(e&2080374784)>>16,n=(mi[1]&1048575)>>10):e<=1056964608?(n=1048576+(mi[1]&1048575),n=1048576+(n<<(e>>20)-998)>>21,e=0):(e=e-1056964608>>10,n=(mi[1]&1048575)+512>>10),t|e|n&65535}class st extends gt{}function lt(r){return(t,e,n)=>{if(t.setValid(e,n!=null))return r(t,e,n)}}const e1=(r,t,e)=>{r[t]=Math.trunc(e/864e5)},Xl=(r,t,e)=>{r[t]=Math.trunc(e%4294967296),r[t+1]=Math.trunc(e/4294967296)},r1=(r,t,e)=>{r[t]=Math.trunc(e*1e3%4294967296),r[t+1]=Math.trunc(e*1e3/4294967296)},n1=(r,t,e)=>{r[t]=Math.trunc(e*1e6%4294967296),r[t+1]=Math.trunc(e*1e6/4294967296)},mg=(r,t,e,n)=>{if(e+1<t.length){const{[e]:i,[e+1]:s}=t;r.set(n.subarray(0,s-i),i)}},i1=({offset:r,values:t},e,n)=>{const i=r+e;n?t[i>>3]|=1<<i%8:t[i>>3]&=~(1<<i%8)},wn=({values:r},t,e)=>{r[t]=e},Ql=({values:r},t,e)=>{r[t]=e},vg=({values:r},t,e)=>{r[t]=t1(e)},s1=(r,t,e)=>{switch(r.type.precision){case Ge.HALF:return vg(r,t,e);case Ge.SINGLE:case Ge.DOUBLE:return Ql(r,t,e)}},bg=({values:r},t,e)=>{e1(r,t,e.valueOf())},_g=({values:r},t,e)=>{Xl(r,t*2,e.valueOf())},o1=({stride:r,values:t},e,n)=>{t.set(n.subarray(0,r),r*e)},a1=({values:r,valueOffsets:t},e,n)=>mg(r,t,e,n),c1=({values:r,valueOffsets:t},e,n)=>{mg(r,t,e,Yl(n))},l1=(r,t,e)=>{r.type.unit===yn.DAY?bg(r,t,e):_g(r,t,e)},wg=({values:r},t,e)=>Xl(r,t*2,e/1e3),Sg=({values:r},t,e)=>Xl(r,t*2,e),Eg=({values:r},t,e)=>r1(r,t*2,e),Ag=({values:r},t,e)=>n1(r,t*2,e),u1=(r,t,e)=>{switch(r.type.unit){case Dt.SECOND:return wg(r,t,e);case Dt.MILLISECOND:return Sg(r,t,e);case Dt.MICROSECOND:return Eg(r,t,e);case Dt.NANOSECOND:return Ag(r,t,e)}},Ig=({values:r},t,e)=>{r[t]=e},Dg=({values:r},t,e)=>{r[t]=e},Og=({values:r},t,e)=>{r[t]=e},Tg=({values:r},t,e)=>{r[t]=e},h1=(r,t,e)=>{switch(r.type.unit){case Dt.SECOND:return Ig(r,t,e);case Dt.MILLISECOND:return Dg(r,t,e);case Dt.MICROSECOND:return Og(r,t,e);case Dt.NANOSECOND:return Tg(r,t,e)}},d1=({values:r,stride:t},e,n)=>{r.set(n.subarray(0,t),t*e)},f1=(r,t,e)=>{const n=r.children[0],i=r.valueOffsets,s=hr.getVisitFn(n);if(Array.isArray(e))for(let o=-1,a=i[t],c=i[t+1];a<c;)s(n,a++,e[++o]);else for(let o=-1,a=i[t],c=i[t+1];a<c;)s(n,a++,e.get(++o))},p1=(r,t,e)=>{const n=r.children[0],{valueOffsets:i}=r,s=hr.getVisitFn(n);let{[t]:o,[t+1]:a}=i;const c=e instanceof Map?e.entries():Object.entries(e);for(const l of c)if(s(n,o,l),++o>=a)break},g1=(r,t)=>(e,n,i,s)=>n&&e(n,r,t[s]),y1=(r,t)=>(e,n,i,s)=>n&&e(n,r,t.get(s)),m1=(r,t)=>(e,n,i,s)=>n&&e(n,r,t.get(i.name)),v1=(r,t)=>(e,n,i,s)=>n&&e(n,r,t[i.name]),b1=(r,t,e)=>{const n=r.type.children.map(s=>hr.getVisitFn(s.type)),i=e instanceof Map?m1(t,e):e instanceof xt?y1(t,e):Array.isArray(e)?g1(t,e):v1(t,e);r.type.children.forEach((s,o)=>i(n[o],r.children[o],s,o))},_1=(r,t,e)=>{r.type.mode===Xe.Dense?Fg(r,t,e):xg(r,t,e)},Fg=(r,t,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[t]],i=r.children[n];hr.visit(i,r.valueOffsets[t],e)},xg=(r,t,e)=>{const n=r.type.typeIdToChildIndex[r.typeIds[t]],i=r.children[n];hr.visit(i,t,e)},w1=(r,t,e)=>{var n;(n=r.dictionary)===null||n===void 0||n.set(r.values[t],e)},S1=(r,t,e)=>{r.type.unit===Un.DAY_TIME?Lg(r,t,e):Cg(r,t,e)},Lg=({values:r},t,e)=>{r.set(e.subarray(0,2),2*t)},Cg=({values:r},t,e)=>{r[t]=e[0]*12+e[1]%12},E1=(r,t,e)=>{const{stride:n}=r,i=r.children[0],s=hr.getVisitFn(i);if(Array.isArray(e))for(let o=-1,a=t*n;++o<n;)s(i,a+o,e[o]);else for(let o=-1,a=t*n;++o<n;)s(i,a+o,e.get(o))};st.prototype.visitBool=lt(i1);st.prototype.visitInt=lt(wn);st.prototype.visitInt8=lt(wn);st.prototype.visitInt16=lt(wn);st.prototype.visitInt32=lt(wn);st.prototype.visitInt64=lt(wn);st.prototype.visitUint8=lt(wn);st.prototype.visitUint16=lt(wn);st.prototype.visitUint32=lt(wn);st.prototype.visitUint64=lt(wn);st.prototype.visitFloat=lt(s1);st.prototype.visitFloat16=lt(vg);st.prototype.visitFloat32=lt(Ql);st.prototype.visitFloat64=lt(Ql);st.prototype.visitUtf8=lt(c1);st.prototype.visitBinary=lt(a1);st.prototype.visitFixedSizeBinary=lt(o1);st.prototype.visitDate=lt(l1);st.prototype.visitDateDay=lt(bg);st.prototype.visitDateMillisecond=lt(_g);st.prototype.visitTimestamp=lt(u1);st.prototype.visitTimestampSecond=lt(wg);st.prototype.visitTimestampMillisecond=lt(Sg);st.prototype.visitTimestampMicrosecond=lt(Eg);st.prototype.visitTimestampNanosecond=lt(Ag);st.prototype.visitTime=lt(h1);st.prototype.visitTimeSecond=lt(Ig);st.prototype.visitTimeMillisecond=lt(Dg);st.prototype.visitTimeMicrosecond=lt(Og);st.prototype.visitTimeNanosecond=lt(Tg);st.prototype.visitDecimal=lt(d1);st.prototype.visitList=lt(f1);st.prototype.visitStruct=lt(b1);st.prototype.visitUnion=lt(_1);st.prototype.visitDenseUnion=lt(Fg);st.prototype.visitSparseUnion=lt(xg);st.prototype.visitDictionary=lt(w1);st.prototype.visitInterval=lt(S1);st.prototype.visitIntervalDayTime=lt(Lg);st.prototype.visitIntervalYearMonth=lt(Cg);st.prototype.visitFixedSizeList=lt(E1);st.prototype.visitMap=lt(p1);const hr=new st,yr=Symbol.for("parent"),Bi=Symbol.for("rowIndex");class tu{constructor(t,e){return this[yr]=t,this[Bi]=e,new Proxy(this,new I1)}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Bi],e=this[yr],n=e.type.children,i={};for(let s=-1,o=n.length;++s<o;)i[n[s].name]=We.visit(e.children[s],t);return i}toString(){return`{${[...this].map(([t,e])=>`${Ps(t)}: ${Ps(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}[Symbol.iterator](){return new A1(this[yr],this[Bi])}}class A1{constructor(t,e){this.childIndex=0,this.children=t.children,this.rowIndex=e,this.childFields=t.type.children,this.numChildren=this.childFields.length}[Symbol.iterator](){return this}next(){const t=this.childIndex;return t<this.numChildren?(this.childIndex=t+1,{done:!1,value:[this.childFields[t].name,We.visit(this.children[t],this.rowIndex)]}):{done:!0,value:null}}}Object.defineProperties(tu.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[yr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Bi]:{writable:!0,enumerable:!1,configurable:!1,value:-1}});class I1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[yr].type.children.map(e=>e.name)}has(t,e){return t[yr].type.children.findIndex(n=>n.name===e)!==-1}getOwnPropertyDescriptor(t,e){if(t[yr].type.children.findIndex(n=>n.name===e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[yr].type.children.findIndex(i=>i.name===e);if(n!==-1){const i=We.visit(t[yr].children[n],t[Bi]);return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[yr].type.children.findIndex(s=>s.name===e);return i!==-1?(hr.visit(t[yr].children[i],t[Bi],n),Reflect.set(t,e,n)):Reflect.has(t,e)||typeof e=="symbol"?Reflect.set(t,e,n):!1}}class tt extends gt{}function ot(r){return(t,e)=>t.getValid(e)?r(t,e):null}const D1=(r,t)=>864e5*r[t],eu=(r,t)=>4294967296*r[t+1]+(r[t]>>>0),O1=(r,t)=>4294967296*(r[t+1]/1e3)+(r[t]>>>0)/1e3,T1=(r,t)=>4294967296*(r[t+1]/1e6)+(r[t]>>>0)/1e6,Rg=r=>new Date(r),F1=(r,t)=>Rg(D1(r,t)),x1=(r,t)=>Rg(eu(r,t)),L1=(r,t)=>null,Bg=(r,t,e)=>{if(e+1>=t.length)return null;const n=t[e],i=t[e+1];return r.subarray(n,i)},C1=({offset:r,values:t},e)=>{const n=r+e;return(t[n>>3]&1<<n%8)!==0},Pg=({values:r},t)=>F1(r,t),Ng=({values:r},t)=>x1(r,t*2),Vn=({stride:r,values:t},e)=>t[r*e],R1=({stride:r,values:t},e)=>yg(t[r*e]),Mg=({values:r},t)=>r[t],B1=({stride:r,values:t},e)=>t.subarray(r*e,r*(e+1)),P1=({values:r,valueOffsets:t},e)=>Bg(r,t,e),N1=({values:r,valueOffsets:t},e)=>{const n=Bg(r,t,e);return n!==null?$c(n):null},M1=({values:r},t)=>r[t],U1=({type:r,values:t},e)=>r.precision!==Ge.HALF?t[e]:yg(t[e]),$1=(r,t)=>r.type.unit===yn.DAY?Pg(r,t):Ng(r,t),Ug=({values:r},t)=>1e3*eu(r,t*2),$g=({values:r},t)=>eu(r,t*2),kg=({values:r},t)=>O1(r,t*2),Gg=({values:r},t)=>T1(r,t*2),k1=(r,t)=>{switch(r.type.unit){case Dt.SECOND:return Ug(r,t);case Dt.MILLISECOND:return $g(r,t);case Dt.MICROSECOND:return kg(r,t);case Dt.NANOSECOND:return Gg(r,t)}},jg=({values:r},t)=>r[t],zg=({values:r},t)=>r[t],Vg=({values:r},t)=>r[t],Wg=({values:r},t)=>r[t],G1=(r,t)=>{switch(r.type.unit){case Dt.SECOND:return jg(r,t);case Dt.MILLISECOND:return zg(r,t);case Dt.MICROSECOND:return Vg(r,t);case Dt.NANOSECOND:return Wg(r,t)}},j1=({values:r,stride:t},e)=>Jl.decimal(r.subarray(t*e,t*(e+1))),z1=(r,t)=>{const{valueOffsets:e,stride:n,children:i}=r,{[t*n]:s,[t*n+1]:o}=e,c=i[0].slice(s,o-s);return new xt([c])},V1=(r,t)=>{const{valueOffsets:e,children:n}=r,{[t]:i,[t+1]:s}=e,o=n[0];return new ru(o.slice(i,s-i))},W1=(r,t)=>new tu(r,t),H1=(r,t)=>r.type.mode===Xe.Dense?Hg(r,t):Yg(r,t),Hg=(r,t)=>{const e=r.type.typeIdToChildIndex[r.typeIds[t]],n=r.children[e];return We.visit(n,r.valueOffsets[t])},Yg=(r,t)=>{const e=r.type.typeIdToChildIndex[r.typeIds[t]],n=r.children[e];return We.visit(n,t)},Y1=(r,t)=>{var e;return(e=r.dictionary)===null||e===void 0?void 0:e.get(r.values[t])},q1=(r,t)=>r.type.unit===Un.DAY_TIME?qg(r,t):Kg(r,t),qg=({values:r},t)=>r.subarray(2*t,2*(t+1)),Kg=({values:r},t)=>{const e=r[t],n=new Int32Array(2);return n[0]=Math.trunc(e/12),n[1]=Math.trunc(e%12),n},K1=(r,t)=>{const{stride:e,children:n}=r,s=n[0].slice(t*e,e);return new xt([s])};tt.prototype.visitNull=ot(L1);tt.prototype.visitBool=ot(C1);tt.prototype.visitInt=ot(M1);tt.prototype.visitInt8=ot(Vn);tt.prototype.visitInt16=ot(Vn);tt.prototype.visitInt32=ot(Vn);tt.prototype.visitInt64=ot(Mg);tt.prototype.visitUint8=ot(Vn);tt.prototype.visitUint16=ot(Vn);tt.prototype.visitUint32=ot(Vn);tt.prototype.visitUint64=ot(Mg);tt.prototype.visitFloat=ot(U1);tt.prototype.visitFloat16=ot(R1);tt.prototype.visitFloat32=ot(Vn);tt.prototype.visitFloat64=ot(Vn);tt.prototype.visitUtf8=ot(N1);tt.prototype.visitBinary=ot(P1);tt.prototype.visitFixedSizeBinary=ot(B1);tt.prototype.visitDate=ot($1);tt.prototype.visitDateDay=ot(Pg);tt.prototype.visitDateMillisecond=ot(Ng);tt.prototype.visitTimestamp=ot(k1);tt.prototype.visitTimestampSecond=ot(Ug);tt.prototype.visitTimestampMillisecond=ot($g);tt.prototype.visitTimestampMicrosecond=ot(kg);tt.prototype.visitTimestampNanosecond=ot(Gg);tt.prototype.visitTime=ot(G1);tt.prototype.visitTimeSecond=ot(jg);tt.prototype.visitTimeMillisecond=ot(zg);tt.prototype.visitTimeMicrosecond=ot(Vg);tt.prototype.visitTimeNanosecond=ot(Wg);tt.prototype.visitDecimal=ot(j1);tt.prototype.visitList=ot(z1);tt.prototype.visitStruct=ot(W1);tt.prototype.visitUnion=ot(H1);tt.prototype.visitDenseUnion=ot(Hg);tt.prototype.visitSparseUnion=ot(Yg);tt.prototype.visitDictionary=ot(Y1);tt.prototype.visitInterval=ot(q1);tt.prototype.visitIntervalDayTime=ot(qg);tt.prototype.visitIntervalYearMonth=ot(Kg);tt.prototype.visitFixedSizeList=ot(K1);tt.prototype.visitMap=ot(V1);const We=new tt,Mr=Symbol.for("keys"),Pi=Symbol.for("vals");class ru{constructor(t){return this[Mr]=new xt([t.children[0]]).memoize(),this[Pi]=t.children[1],new Proxy(this,new J1)}[Symbol.iterator](){return new Z1(this[Mr],this[Pi])}get size(){return this[Mr].length}toArray(){return Object.values(this.toJSON())}toJSON(){const t=this[Mr],e=this[Pi],n={};for(let i=-1,s=t.length;++i<s;)n[t.get(i)]=We.visit(e,i);return n}toString(){return`{${[...this].map(([t,e])=>`${Ps(t)}: ${Ps(e)}`).join(", ")}}`}[Symbol.for("nodejs.util.inspect.custom")](){return this.toString()}}class Z1{constructor(t,e){this.keys=t,this.vals=e,this.keyIndex=0,this.numKeys=t.length}[Symbol.iterator](){return this}next(){const t=this.keyIndex;return t===this.numKeys?{done:!0,value:null}:(this.keyIndex++,{done:!1,value:[this.keys.get(t),We.visit(this.vals,t)]})}}class J1{isExtensible(){return!1}deleteProperty(){return!1}preventExtensions(){return!0}ownKeys(t){return t[Mr].toArray().map(String)}has(t,e){return t[Mr].includes(e)}getOwnPropertyDescriptor(t,e){if(t[Mr].indexOf(e)!==-1)return{writable:!0,enumerable:!0,configurable:!0}}get(t,e){if(Reflect.has(t,e))return t[e];const n=t[Mr].indexOf(e);if(n!==-1){const i=We.visit(Reflect.get(t,Pi),n);return Reflect.set(t,e,i),i}}set(t,e,n){const i=t[Mr].indexOf(e);return i!==-1?(hr.visit(Reflect.get(t,Pi),i,n),Reflect.set(t,e,n)):Reflect.has(t,e)?Reflect.set(t,e,n):!1}}Object.defineProperties(ru.prototype,{[Symbol.toStringTag]:{enumerable:!1,configurable:!1,value:"Row"},[Mr]:{writable:!0,enumerable:!1,configurable:!1,value:null},[Pi]:{writable:!0,enumerable:!1,configurable:!1,value:null}});let Gh;function Zg(r,t,e,n){const{length:i=0}=r;let s=typeof t!="number"?0:t,o=typeof e!="number"?i:e;return s<0&&(s=(s%i+i)%i),o<0&&(o=(o%i+i)%i),o<s&&(Gh=s,s=o,o=Gh),o>i&&(o=i),n?n(r,s,o):[s,o]}const jh=r=>r!==r;function ls(r){if(typeof r!=="object"||r===null)return jh(r)?jh:e=>e===r;if(r instanceof Date){const e=r.valueOf();return n=>n instanceof Date?n.valueOf()===e:!1}return ArrayBuffer.isView(r)?e=>e?VE(r,e):!1:r instanceof Map?Q1(r):Array.isArray(r)?X1(r):r instanceof xt?tA(r):eA(r,!0)}function X1(r){const t=[];for(let e=-1,n=r.length;++e<n;)t[e]=ls(r[e]);return Ya(t)}function Q1(r){let t=-1;const e=[];for(const n of r.values())e[++t]=ls(n);return Ya(e)}function tA(r){const t=[];for(let e=-1,n=r.length;++e<n;)t[e]=ls(r.get(e));return Ya(t)}function eA(r,t=!1){const e=Object.keys(r);if(!t&&e.length===0)return()=>!1;const n=[];for(let i=-1,s=e.length;++i<s;)n[i]=ls(r[e[i]]);return Ya(n,e)}function Ya(r,t){return e=>{if(!e||typeof e!="object")return!1;switch(e.constructor){case Array:return rA(r,e);case Map:return zh(r,e,e.keys());case ru:case tu:case Object:case void 0:return zh(r,e,t||Object.keys(e))}return e instanceof xt?nA(r,e):!1}}function rA(r,t){const e=r.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!r[n](t[n]))return!1;return!0}function nA(r,t){const e=r.length;if(t.length!==e)return!1;for(let n=-1;++n<e;)if(!r[n](t.get(n)))return!1;return!0}function zh(r,t,e){const n=e[Symbol.iterator](),i=t instanceof Map?t.keys():Object.keys(t)[Symbol.iterator](),s=t instanceof Map?t.values():Object.values(t)[Symbol.iterator]();let o=0;const a=r.length;let c=s.next(),l=n.next(),u=i.next();for(;o<a&&!l.done&&!u.done&&!c.done&&!(l.value!==u.value||!r[o](c.value));++o,l=n.next(),u=i.next(),c=s.next());return o===a&&l.done&&u.done&&c.done?!0:(n.return&&n.return(),i.return&&i.return(),s.return&&s.return(),!1)}function Jg(r,t,e,n){return(e&1<<n)!==0}function iA(r,t,e,n){return(e&1<<n)>>n}function nu(r,t,e){const n=e.byteLength+7&-8;if(r>0||e.byteLength<n){const i=new Uint8Array(n);return i.set(r%8===0?e.subarray(r>>3):Zo(new iu(e,r,t,null,Jg)).subarray(0,n)),i}return e}function Zo(r){const t=[];let e=0,n=0,i=0;for(const o of r)o&&(i|=1<<n),++n===8&&(t[e++]=i,i=n=0);(e===0||n>0)&&(t[e++]=i);const s=new Uint8Array(t.length+7&-8);return s.set(t),s}class iu{constructor(t,e,n,i,s){this.bytes=t,this.length=n,this.context=i,this.get=s,this.bit=e%8,this.byteIndex=e>>3,this.byte=t[this.byteIndex++],this.index=0}next(){return this.index<this.length?(this.bit===8&&(this.bit=0,this.byte=this.bytes[this.byteIndex++]),{value:this.get(this.context,this.index++,this.byte,this.bit++)}):{done:!0,value:null}}[Symbol.iterator](){return this}}function zc(r,t,e){if(e-t<=0)return 0;if(e-t<8){let s=0;for(const o of new iu(r,t,e-t,r,iA))s+=o;return s}const n=e>>3<<3,i=t+(t%8===0?0:8-t%8);return zc(r,t,i)+zc(r,n,e)+sA(r,i>>3,n-i>>3)}function sA(r,t,e){let n=0,i=Math.trunc(t);const s=new DataView(r.buffer,r.byteOffset,r.byteLength),o=e===void 0?r.byteLength:i+e;for(;o-i>=4;)n+=fc(s.getUint32(i)),i+=4;for(;o-i>=2;)n+=fc(s.getUint16(i)),i+=2;for(;o-i>=1;)n+=fc(s.getUint8(i)),i+=1;return n}function fc(r){let t=Math.trunc(r);return t=t-(t>>>1&1431655765),t=(t&858993459)+(t>>>2&858993459),(t+(t>>>4)&252645135)*16843009>>>24}const oA=-1;class Gt{constructor(t,e,n,i,s,o=[],a){this.type=t,this.children=o,this.dictionary=a,this.offset=Math.floor(Math.max(e||0,0)),this.length=Math.floor(Math.max(n||0,0)),this._nullCount=Math.floor(Math.max(i||0,-1));let c;s instanceof Gt?(this.stride=s.stride,this.values=s.values,this.typeIds=s.typeIds,this.nullBitmap=s.nullBitmap,this.valueOffsets=s.valueOffsets):(this.stride=an(t),s&&((c=s[0])&&(this.valueOffsets=c),(c=s[1])&&(this.values=c),(c=s[2])&&(this.nullBitmap=c),(c=s[3])&&(this.typeIds=c))),this.nullable=this._nullCount!==0&&this.nullBitmap&&this.nullBitmap.byteLength>0}get typeId(){return this.type.typeId}get ArrayType(){return this.type.ArrayType}get buffers(){return[this.valueOffsets,this.values,this.nullBitmap,this.typeIds]}get byteLength(){let t=0;const{valueOffsets:e,values:n,nullBitmap:i,typeIds:s}=this;return e&&(t+=e.byteLength),n&&(t+=n.byteLength),i&&(t+=i.byteLength),s&&(t+=s.byteLength),this.children.reduce((o,a)=>o+a.byteLength,t)}get nullCount(){let t=this._nullCount,e;return t<=oA&&(e=this.nullBitmap)&&(this._nullCount=t=this.length-zc(e,this.offset,this.offset+this.length)),t}getValid(t){if(this.nullable&&this.nullCount>0){const e=this.offset+t;return(this.nullBitmap[e>>3]&1<<e%8)!==0}return!0}setValid(t,e){if(!this.nullable)return e;if(!this.nullBitmap||this.nullBitmap.byteLength<=t>>3){const{nullBitmap:c}=this._changeLengthAndBackfillNullBitmap(this.length);Object.assign(this,{nullBitmap:c,_nullCount:0})}const{nullBitmap:n,offset:i}=this,s=i+t>>3,o=(i+t)%8,a=n[s]>>o&1;return e?a===0&&(n[s]|=1<<o,this._nullCount=this.nullCount+1):a===1&&(n[s]&=~(1<<o),this._nullCount=this.nullCount-1),e}clone(t=this.type,e=this.offset,n=this.length,i=this._nullCount,s=this,o=this.children){return new Gt(t,e,n,i,s,o,this.dictionary)}slice(t,e){const{stride:n,typeId:i,children:s}=this,o=+(this._nullCount===0)-1,a=i===16?n:1,c=this._sliceBuffers(t,e,n,i);return this.clone(this.type,this.offset+t,e,o,c,s.length===0||this.valueOffsets?s:this._sliceChildren(s,a*t,a*e))}_changeLengthAndBackfillNullBitmap(t){if(this.typeId===w.Null)return this.clone(this.type,0,t,0);const{length:e,nullCount:n}=this,i=new Uint8Array((t+63&-64)>>3).fill(255,0,e>>3);i[e>>3]=(1<<e-(e&-8))-1,n>0&&i.set(nu(this.offset,e,this.nullBitmap),0);const s=this.buffers;return s[on.VALIDITY]=i,this.clone(this.type,0,t,n+(t-e),s)}_sliceBuffers(t,e,n,i){let s;const{buffers:o}=this;return(s=o[on.TYPE])&&(o[on.TYPE]=s.subarray(t,t+e)),(s=o[on.OFFSET])&&(o[on.OFFSET]=s.subarray(t,t+e+1))||(s=o[on.DATA])&&(o[on.DATA]=i===6?s:s.subarray(n*t,n*(t+e))),o}_sliceChildren(t,e,n){return t.map(i=>i.slice(e,n))}}Gt.prototype.children=Object.freeze([]);class Ds extends gt{visit(t){return this.getVisitFn(t.type).call(this,t)}visitNull(t){const{["type"]:e,["offset"]:n=0,["length"]:i=0}=t;return new Gt(e,n,i,0)}visitBool(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length>>3,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitInt(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitFloat(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length,["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitUtf8(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.data),s=It(t.nullBitmap),o=gs(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Gt(e,n,a,c,[o,i,s])}visitBinary(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.data),s=It(t.nullBitmap),o=gs(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Gt(e,n,a,c,[o,i,s])}visitFixedSizeBinary(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitDate(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitTimestamp(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitTime(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitDecimal(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitList(t){const{["type"]:e,["offset"]:n=0,["child"]:i}=t,s=It(t.nullBitmap),o=gs(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Gt(e,n,a,c,[o,void 0,s],[i])}visitStruct(t){const{["type"]:e,["offset"]:n=0,["children"]:i=[]}=t,s=It(t.nullBitmap),{length:o=i.reduce((c,{length:l})=>Math.max(c,l),0),nullCount:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,void 0,s],i)}visitUnion(t){const{["type"]:e,["offset"]:n=0,["children"]:i=[]}=t,s=It(t.nullBitmap),o=Mt(e.ArrayType,t.typeIds),{["length"]:a=o.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;if(Q.isSparseUnion(e))return new Gt(e,n,a,c,[void 0,void 0,s,o],i);const l=gs(t.valueOffsets);return new Gt(e,n,a,c,[l,void 0,s,o],i)}visitDictionary(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.indices.ArrayType,t.data),{["dictionary"]:o=new xt([new Ds().visit({type:e.dictionary})])}=t,{["length"]:a=s.length,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Gt(e,n,a,c,[void 0,s,i],[],o)}visitInterval(t){const{["type"]:e,["offset"]:n=0}=t,i=It(t.nullBitmap),s=Mt(e.ArrayType,t.data),{["length"]:o=s.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,s,i])}visitFixedSizeList(t){const{["type"]:e,["offset"]:n=0,["child"]:i=new Ds().visit({type:e.valueType})}=t,s=It(t.nullBitmap),{["length"]:o=i.length/an(e),["nullCount"]:a=t.nullBitmap?-1:0}=t;return new Gt(e,n,o,a,[void 0,void 0,s],[i])}visitMap(t){const{["type"]:e,["offset"]:n=0,["child"]:i=new Ds().visit({type:e.childType})}=t,s=It(t.nullBitmap),o=gs(t.valueOffsets),{["length"]:a=o.length-1,["nullCount"]:c=t.nullBitmap?-1:0}=t;return new Gt(e,n,a,c,[o,void 0,s],[i])}}function pt(r){return new Ds().visit(r)}class Vh{constructor(t=0,e){this.numChunks=t,this.getChunkIterator=e,this.chunkIndex=0,this.chunkIterator=this.getChunkIterator(0)}next(){for(;this.chunkIndex<this.numChunks;){const t=this.chunkIterator.next();if(!t.done)return t;++this.chunkIndex<this.numChunks&&(this.chunkIterator=this.getChunkIterator(this.chunkIndex))}return{done:!0,value:null}}[Symbol.iterator](){return this}}function Xg(r){return r.reduce((t,e)=>t+e.nullCount,0)}function Qg(r){return r.reduce((t,e,n)=>(t[n+1]=t[n]+e.length,t),new Uint32Array(r.length+1))}function ty(r,t,e,n){const i=[];for(let s=-1,o=r.length;++s<o;){const a=r[s],c=t[s],{length:l}=a;if(c>=n)break;if(e>=c+l)continue;if(c>=e&&c+l<=n){i.push(a);continue}const u=Math.max(0,e-c),h=Math.min(n-c,l);i.push(a.slice(u,h-u))}return i.length===0&&i.push(r[0].slice(0,0)),i}function su(r,t,e,n){let i=0,s=0,o=t.length-1;do{if(i>=o-1)return e<t[o]?n(r,i,e-t[i]):null;s=i+Math.trunc((o-i)*.5),e<t[s]?o=s:i=s}while(i<o)}function ou(r,t){return r.getValid(t)}function Ni(r){function t(e,n,i){return r(e[n],i)}return function(e){const n=this.data;return su(n,this._offsets,e,t)}}function ey(r){let t;function e(n,i,s){return r(n[i],s,t)}return function(n,i){const s=this.data;t=i;const o=su(s,this._offsets,n,e);return t=void 0,o}}function ry(r){let t;function e(n,i,s){let o=s,a=0,c=0;for(let l=i-1,u=n.length;++l<u;){const h=n[l];if(~(a=r(h,t,o)))return c+a;o=0,c+=h.length}return-1}return function(n,i){t=n;const s=this.data,o=typeof i!="number"?e(s,0,0):su(s,this._offsets,i,e);return t=void 0,o}}class et extends gt{}function aA(r,t){return t===null&&r.length>0?0:-1}function cA(r,t){const{nullBitmap:e}=r;if(!e||r.nullCount<=0)return-1;let n=0;for(const i of new iu(e,r.offset+(t||0),r.length,e,Jg)){if(!i)return n;++n}return-1}function ft(r,t,e){if(t===void 0)return-1;if(t===null)return cA(r,e);const n=We.getVisitFn(r),i=ls(t);for(let s=(e||0)-1,o=r.length;++s<o;)if(i(n(r,s)))return s;return-1}function ny(r,t,e){const n=We.getVisitFn(r),i=ls(t);for(let s=(e||0)-1,o=r.length;++s<o;)if(i(n(r,s)))return s;return-1}et.prototype.visitNull=aA;et.prototype.visitBool=ft;et.prototype.visitInt=ft;et.prototype.visitInt8=ft;et.prototype.visitInt16=ft;et.prototype.visitInt32=ft;et.prototype.visitInt64=ft;et.prototype.visitUint8=ft;et.prototype.visitUint16=ft;et.prototype.visitUint32=ft;et.prototype.visitUint64=ft;et.prototype.visitFloat=ft;et.prototype.visitFloat16=ft;et.prototype.visitFloat32=ft;et.prototype.visitFloat64=ft;et.prototype.visitUtf8=ft;et.prototype.visitBinary=ft;et.prototype.visitFixedSizeBinary=ft;et.prototype.visitDate=ft;et.prototype.visitDateDay=ft;et.prototype.visitDateMillisecond=ft;et.prototype.visitTimestamp=ft;et.prototype.visitTimestampSecond=ft;et.prototype.visitTimestampMillisecond=ft;et.prototype.visitTimestampMicrosecond=ft;et.prototype.visitTimestampNanosecond=ft;et.prototype.visitTime=ft;et.prototype.visitTimeSecond=ft;et.prototype.visitTimeMillisecond=ft;et.prototype.visitTimeMicrosecond=ft;et.prototype.visitTimeNanosecond=ft;et.prototype.visitDecimal=ft;et.prototype.visitList=ft;et.prototype.visitStruct=ft;et.prototype.visitUnion=ft;et.prototype.visitDenseUnion=ny;et.prototype.visitSparseUnion=ny;et.prototype.visitDictionary=ft;et.prototype.visitInterval=ft;et.prototype.visitIntervalDayTime=ft;et.prototype.visitIntervalYearMonth=ft;et.prototype.visitFixedSizeList=ft;et.prototype.visitMap=ft;const Jo=new et;class rt extends gt{}function at(r){const{type:t}=r;if(r.nullCount===0&&r.stride===1&&(t.typeId===w.Timestamp||t instanceof kn&&t.bitWidth!==64||t instanceof $s&&t.bitWidth!==64||t instanceof Us&&t.precision!==Ge.HALF))return new Vh(r.data.length,n=>{const i=r.data[n];return i.values.subarray(0,i.length)[Symbol.iterator]()});let e=0;return new Vh(r.data.length,n=>{const s=r.data[n].length,o=r.slice(e,e+s);return e+=s,new lA(o)})}class lA{constructor(t){this.vector=t,this.index=0}next(){return this.index<this.vector.length?{value:this.vector.get(this.index++)}:{done:!0,value:null}}[Symbol.iterator](){return this}}rt.prototype.visitNull=at;rt.prototype.visitBool=at;rt.prototype.visitInt=at;rt.prototype.visitInt8=at;rt.prototype.visitInt16=at;rt.prototype.visitInt32=at;rt.prototype.visitInt64=at;rt.prototype.visitUint8=at;rt.prototype.visitUint16=at;rt.prototype.visitUint32=at;rt.prototype.visitUint64=at;rt.prototype.visitFloat=at;rt.prototype.visitFloat16=at;rt.prototype.visitFloat32=at;rt.prototype.visitFloat64=at;rt.prototype.visitUtf8=at;rt.prototype.visitBinary=at;rt.prototype.visitFixedSizeBinary=at;rt.prototype.visitDate=at;rt.prototype.visitDateDay=at;rt.prototype.visitDateMillisecond=at;rt.prototype.visitTimestamp=at;rt.prototype.visitTimestampSecond=at;rt.prototype.visitTimestampMillisecond=at;rt.prototype.visitTimestampMicrosecond=at;rt.prototype.visitTimestampNanosecond=at;rt.prototype.visitTime=at;rt.prototype.visitTimeSecond=at;rt.prototype.visitTimeMillisecond=at;rt.prototype.visitTimeMicrosecond=at;rt.prototype.visitTimeNanosecond=at;rt.prototype.visitDecimal=at;rt.prototype.visitList=at;rt.prototype.visitStruct=at;rt.prototype.visitUnion=at;rt.prototype.visitDenseUnion=at;rt.prototype.visitSparseUnion=at;rt.prototype.visitDictionary=at;rt.prototype.visitInterval=at;rt.prototype.visitIntervalDayTime=at;rt.prototype.visitIntervalYearMonth=at;rt.prototype.visitFixedSizeList=at;rt.prototype.visitMap=at;const au=new rt,uA=(r,t)=>r+t;class Wn extends gt{visitNull(t,e){return 0}visitInt(t,e){return t.type.bitWidth/8}visitFloat(t,e){return t.type.ArrayType.BYTES_PER_ELEMENT}visitBool(t,e){return 1/8}visitDecimal(t,e){return t.type.bitWidth/8}visitDate(t,e){return(t.type.unit+1)*4}visitTime(t,e){return t.type.bitWidth/8}visitTimestamp(t,e){return t.type.unit===Dt.SECOND?4:8}visitInterval(t,e){return(t.type.unit+1)*4}visitStruct(t,e){return t.children.reduce((n,i)=>n+Zr.visit(i,e),0)}visitFixedSizeBinary(t,e){return t.type.byteWidth}visitMap(t,e){return 8+t.children.reduce((n,i)=>n+Zr.visit(i,e),0)}visitDictionary(t,e){var n;return t.type.indices.bitWidth/8+(((n=t.dictionary)===null||n===void 0?void 0:n.getByteLength(t.values[e]))||0)}}const hA=({valueOffsets:r},t)=>8+(r[t+1]-r[t]),dA=({valueOffsets:r},t)=>8+(r[t+1]-r[t]),fA=({valueOffsets:r,stride:t,children:e},n)=>{const i=e[0],{[n*t]:s}=r,{[n*t+1]:o}=r,a=Zr.getVisitFn(i.type),c=i.slice(s,o-s);let l=8;for(let u=-1,h=o-s;++u<h;)l+=a(c,u);return l},pA=({stride:r,children:t},e)=>{const n=t[0],i=n.slice(e*r,r),s=Zr.getVisitFn(n.type);let o=0;for(let a=-1,c=i.length;++a<c;)o+=s(i,a);return o},gA=(r,t)=>r.type.mode===Xe.Dense?iy(r,t):sy(r,t),iy=({type:r,children:t,typeIds:e,valueOffsets:n},i)=>{const s=r.typeIdToChildIndex[e[i]];return 8+Zr.visit(t[s],n[i])},sy=({children:r},t)=>4+Zr.visitMany(r,r.map(()=>t)).reduce(uA,0);Wn.prototype.visitUtf8=hA;Wn.prototype.visitBinary=dA;Wn.prototype.visitList=fA;Wn.prototype.visitFixedSizeList=pA;Wn.prototype.visitUnion=gA;Wn.prototype.visitDenseUnion=iy;Wn.prototype.visitSparseUnion=sy;const Zr=new Wn;var oy;const ay={},cy={};class xt{constructor(t){var e,n,i;const s=t[0]instanceof xt?t.flatMap(a=>a.data):t;if(s.length===0||s.some(a=>!(a instanceof Gt)))throw new TypeError("Vector constructor expects an Array of Data instances.");const o=(e=s[0])===null||e===void 0?void 0:e.type;switch(s.length){case 0:this._offsets=[0];break;case 1:{const{get:a,set:c,indexOf:l,byteLength:u}=ay[o.typeId],h=s[0];this.isValid=d=>ou(h,d),this.get=d=>a(h,d),this.set=(d,f)=>c(h,d,f),this.indexOf=d=>l(h,d),this.getByteLength=d=>u(h,d),this._offsets=[0,h.length];break}default:Object.setPrototypeOf(this,cy[o.typeId]),this._offsets=Qg(s);break}this.data=s,this.type=o,this.stride=an(o),this.numChildren=(i=(n=o.children)===null||n===void 0?void 0:n.length)!==null&&i!==void 0?i:0,this.length=this._offsets[this._offsets.length-1]}get byteLength(){return this._byteLength===-1&&(this._byteLength=this.data.reduce((t,e)=>t+e.byteLength,0)),this._byteLength}get nullCount(){return this._nullCount===-1&&(this._nullCount=Xg(this.data)),this._nullCount}get ArrayType(){return this.type.ArrayType}get[Symbol.toStringTag](){return`${this.VectorName}<${this.type[Symbol.toStringTag]}>`}get VectorName(){return`${w[this.type.typeId]}Vector`}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}includes(t,e){return this.indexOf(t,e)>0}getByteLength(t){return 0}[Symbol.iterator](){return au.visit(this)}concat(...t){return new xt(this.data.concat(t.flatMap(e=>e.data).flat(Number.POSITIVE_INFINITY)))}slice(t,e){return new xt(Zg(this,t,e,({data:n,_offsets:i},s,o)=>ty(n,i,s,o)))}toJSON(){return[...this]}toArray(){const{type:t,data:e,length:n,stride:i,ArrayType:s}=this;switch(t.typeId){case w.Int:case w.Float:case w.Decimal:case w.Time:case w.Timestamp:switch(e.length){case 0:return new s;case 1:return e[0].values.subarray(0,n*i);default:return e.reduce((o,{values:a,length:c})=>(o.array.set(a.subarray(0,c*i),o.offset),o.offset+=c*i,o),{array:new s(n*i),offset:0}).array}}return[...this]}toString(){return`[${[...this].join(",")}]`}getChild(t){var e;return this.getChildAt((e=this.type.children)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.numChildren?new xt(this.data.map(({children:e})=>e[t])):null}get isMemoized(){return Q.isDictionary(this.type)?this.data[0].dictionary.isMemoized:!1}memoize(){if(Q.isDictionary(this.type)){const t=new Xo(this.data[0].dictionary),e=this.data.map(n=>{const i=n.clone();return i.dictionary=t,i});return new xt(e)}return new Xo(this)}unmemoize(){if(Q.isDictionary(this.type)&&this.isMemoized){const t=this.data[0].dictionary.unmemoize(),e=this.data.map(n=>{const i=n.clone();return i.dictionary=t,i});return new xt(e)}return this}}oy=Symbol.toStringTag;xt[oy]=(r=>{r.type=Q.prototype,r.data=[],r.length=0,r.stride=1,r.numChildren=0,r._nullCount=-1,r._byteLength=-1,r._offsets=new Uint32Array([0]),r[Symbol.isConcatSpreadable]=!0;const t=Object.keys(w).map(e=>w[e]).filter(e=>typeof e=="number"&&e!==w.NONE);for(const e of t){const n=We.getVisitFnByTypeId(e),i=hr.getVisitFnByTypeId(e),s=Jo.getVisitFnByTypeId(e),o=Zr.getVisitFnByTypeId(e);ay[e]={get:n,set:i,indexOf:s,byteLength:o},cy[e]=Object.create(r,{isValid:{value:Ni(ou)},get:{value:Ni(We.getVisitFnByTypeId(e))},set:{value:ey(hr.getVisitFnByTypeId(e))},indexOf:{value:ry(Jo.getVisitFnByTypeId(e))},getByteLength:{value:Ni(Zr.getVisitFnByTypeId(e))}})}return"Vector"})(xt.prototype);class Xo extends xt{constructor(t){super(t.data);const e=this.get,n=this.set,i=this.slice,s=new Array(this.length);Object.defineProperty(this,"get",{value(o){const a=s[o];if(a!==void 0)return a;const c=e.call(this,o);return s[o]=c,c}}),Object.defineProperty(this,"set",{value(o,a){n.call(this,o,a),s[o]=a}}),Object.defineProperty(this,"slice",{value:(o,a)=>new Xo(i.call(this,o,a))}),Object.defineProperty(this,"isMemoized",{value:!0}),Object.defineProperty(this,"unmemoize",{value:()=>new xt(this.data)}),Object.defineProperty(this,"memoize",{value:()=>this})}}class Vc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}metaDataLength(){return this.bb.readInt32(this.bb_pos+8)}bodyLength(){return this.bb.readInt64(this.bb_pos+16)}static sizeOf(){return 24}static createBlock(t,e,n,i){return t.prep(8,24),t.writeInt64(i),t.pad(4),t.writeInt32(n),t.writeInt64(e),t.offset()}}const pc=2,Ur=4,ln=4,$t=4,Fn=new Int32Array(2),Wh=new Float32Array(Fn.buffer),Hh=new Float64Array(Fn.buffer),go=new Uint16Array(new Uint8Array([1,0]).buffer)[0]===1;let fn=class Wc{constructor(t,e){this.low=t|0,this.high=e|0}static create(t,e){return t==0&&e==0?Wc.ZERO:new Wc(t,e)}toFloat64(){return(this.low>>>0)+this.high*4294967296}equals(t){return this.low==t.low&&this.high==t.high}};fn.ZERO=new fn(0,0);var Hc;(function(r){r[r.UTF8_BYTES=1]="UTF8_BYTES",r[r.UTF16_STRING=2]="UTF16_STRING"})(Hc||(Hc={}));let Hi=class ly{constructor(t){this.bytes_=t,this.position_=0}static allocate(t){return new ly(new Uint8Array(t))}clear(){this.position_=0}bytes(){return this.bytes_}position(){return this.position_}setPosition(t){this.position_=t}capacity(){return this.bytes_.length}readInt8(t){return this.readUint8(t)<<24>>24}readUint8(t){return this.bytes_[t]}readInt16(t){return this.readUint16(t)<<16>>16}readUint16(t){return this.bytes_[t]|this.bytes_[t+1]<<8}readInt32(t){return this.bytes_[t]|this.bytes_[t+1]<<8|this.bytes_[t+2]<<16|this.bytes_[t+3]<<24}readUint32(t){return this.readInt32(t)>>>0}readInt64(t){return new fn(this.readInt32(t),this.readInt32(t+4))}readUint64(t){return new fn(this.readUint32(t),this.readUint32(t+4))}readFloat32(t){return Fn[0]=this.readInt32(t),Wh[0]}readFloat64(t){return Fn[go?0:1]=this.readInt32(t),Fn[go?1:0]=this.readInt32(t+4),Hh[0]}writeInt8(t,e){this.bytes_[t]=e}writeUint8(t,e){this.bytes_[t]=e}writeInt16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeUint16(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8}writeInt32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeUint32(t,e){this.bytes_[t]=e,this.bytes_[t+1]=e>>8,this.bytes_[t+2]=e>>16,this.bytes_[t+3]=e>>24}writeInt64(t,e){this.writeInt32(t,e.low),this.writeInt32(t+4,e.high)}writeUint64(t,e){this.writeUint32(t,e.low),this.writeUint32(t+4,e.high)}writeFloat32(t,e){Wh[0]=e,this.writeInt32(t,Fn[0])}writeFloat64(t,e){Hh[0]=e,this.writeInt32(t,Fn[go?0:1]),this.writeInt32(t+4,Fn[go?1:0])}getBufferIdentifier(){if(this.bytes_.length<this.position_+Ur+ln)throw new Error("FlatBuffers: ByteBuffer is too short to contain an identifier.");let t="";for(let e=0;e<ln;e++)t+=String.fromCharCode(this.readInt8(this.position_+Ur+e));return t}__offset(t,e){const n=t-this.readInt32(t);return e<this.readInt16(n)?this.readInt16(n+e):0}__union(t,e){return t.bb_pos=e+this.readInt32(e),t.bb=this,t}__string(t,e){t+=this.readInt32(t);const n=this.readInt32(t);let i="",s=0;if(t+=Ur,e===Hc.UTF8_BYTES)return this.bytes_.subarray(t,t+n);for(;s<n;){let o;const a=this.readUint8(t+s++);if(a<192)o=a;else{const c=this.readUint8(t+s++);if(a<224)o=(a&31)<<6|c&63;else{const l=this.readUint8(t+s++);if(a<240)o=(a&15)<<12|(c&63)<<6|l&63;else{const u=this.readUint8(t+s++);o=(a&7)<<18|(c&63)<<12|(l&63)<<6|u&63}}}o<65536?i+=String.fromCharCode(o):(o-=65536,i+=String.fromCharCode((o>>10)+55296,(o&1023)+56320))}return i}__union_with_string(t,e){return typeof t=="string"?this.__string(e):this.__union(t,e)}__indirect(t){return t+this.readInt32(t)}__vector(t){return t+this.readInt32(t)+Ur}__vector_len(t){return this.readInt32(t+this.readInt32(t))}__has_identifier(t){if(t.length!=ln)throw new Error("FlatBuffers: file identifier must be length "+ln);for(let e=0;e<ln;e++)if(t.charCodeAt(e)!=this.readInt8(this.position()+Ur+e))return!1;return!0}createLong(t,e){return fn.create(t,e)}createScalarList(t,e){const n=[];for(let i=0;i<e;++i)t(i)!==null&&n.push(t(i));return n}createObjList(t,e){const n=[];for(let i=0;i<e;++i){const s=t(i);s!==null&&n.push(s.unpack())}return n}},uy=class hy{constructor(t){this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null;let e;t?e=t:e=1024,this.bb=Hi.allocate(e),this.space=e}clear(){this.bb.clear(),this.space=this.bb.capacity(),this.minalign=1,this.vtable=null,this.vtable_in_use=0,this.isNested=!1,this.object_start=0,this.vtables=[],this.vector_num_elems=0,this.force_defaults=!1,this.string_maps=null}forceDefaults(t){this.force_defaults=t}dataBuffer(){return this.bb}asUint8Array(){return this.bb.bytes().subarray(this.bb.position(),this.bb.position()+this.offset())}prep(t,e){t>this.minalign&&(this.minalign=t);const n=~(this.bb.capacity()-this.space+e)+1&t-1;for(;this.space<n+t+e;){const i=this.bb.capacity();this.bb=hy.growByteBuffer(this.bb),this.space+=this.bb.capacity()-i}this.pad(n)}pad(t){for(let e=0;e<t;e++)this.bb.writeInt8(--this.space,0)}writeInt8(t){this.bb.writeInt8(this.space-=1,t)}writeInt16(t){this.bb.writeInt16(this.space-=2,t)}writeInt32(t){this.bb.writeInt32(this.space-=4,t)}writeInt64(t){this.bb.writeInt64(this.space-=8,t)}writeFloat32(t){this.bb.writeFloat32(this.space-=4,t)}writeFloat64(t){this.bb.writeFloat64(this.space-=8,t)}addInt8(t){this.prep(1,0),this.writeInt8(t)}addInt16(t){this.prep(2,0),this.writeInt16(t)}addInt32(t){this.prep(4,0),this.writeInt32(t)}addInt64(t){this.prep(8,0),this.writeInt64(t)}addFloat32(t){this.prep(4,0),this.writeFloat32(t)}addFloat64(t){this.prep(8,0),this.writeFloat64(t)}addFieldInt8(t,e,n){(this.force_defaults||e!=n)&&(this.addInt8(e),this.slot(t))}addFieldInt16(t,e,n){(this.force_defaults||e!=n)&&(this.addInt16(e),this.slot(t))}addFieldInt32(t,e,n){(this.force_defaults||e!=n)&&(this.addInt32(e),this.slot(t))}addFieldInt64(t,e,n){(this.force_defaults||!e.equals(n))&&(this.addInt64(e),this.slot(t))}addFieldFloat32(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat32(e),this.slot(t))}addFieldFloat64(t,e,n){(this.force_defaults||e!=n)&&(this.addFloat64(e),this.slot(t))}addFieldOffset(t,e,n){(this.force_defaults||e!=n)&&(this.addOffset(e),this.slot(t))}addFieldStruct(t,e,n){e!=n&&(this.nested(e),this.slot(t))}nested(t){if(t!=this.offset())throw new Error("FlatBuffers: struct must be serialized inline.")}notNested(){if(this.isNested)throw new Error("FlatBuffers: object serialization must not be nested.")}slot(t){this.vtable!==null&&(this.vtable[t]=this.offset())}offset(){return this.bb.capacity()-this.space}static growByteBuffer(t){const e=t.capacity();if(e&3221225472)throw new Error("FlatBuffers: cannot grow buffer beyond 2 gigabytes.");const n=e<<1,i=Hi.allocate(n);return i.setPosition(n-e),i.bytes().set(t.bytes(),n-e),i}addOffset(t){this.prep(Ur,0),this.writeInt32(this.offset()-t+Ur)}startObject(t){this.notNested(),this.vtable==null&&(this.vtable=[]),this.vtable_in_use=t;for(let e=0;e<t;e++)this.vtable[e]=0;this.isNested=!0,this.object_start=this.offset()}endObject(){if(this.vtable==null||!this.isNested)throw new Error("FlatBuffers: endObject called without startObject");this.addInt32(0);const t=this.offset();let e=this.vtable_in_use-1;for(;e>=0&&this.vtable[e]==0;e--);const n=e+1;for(;e>=0;e--)this.addInt16(this.vtable[e]!=0?t-this.vtable[e]:0);const i=2;this.addInt16(t-this.object_start);const s=(n+i)*pc;this.addInt16(s);let o=0;const a=this.space;t:for(e=0;e<this.vtables.length;e++){const c=this.bb.capacity()-this.vtables[e];if(s==this.bb.readInt16(c)){for(let l=pc;l<s;l+=pc)if(this.bb.readInt16(a+l)!=this.bb.readInt16(c+l))continue t;o=this.vtables[e];break}}return o?(this.space=this.bb.capacity()-t,this.bb.writeInt32(this.space,o-t)):(this.vtables.push(this.offset()),this.bb.writeInt32(this.bb.capacity()-t,this.offset()-t)),this.isNested=!1,t}finish(t,e,n){const i=n?$t:0;if(e){const s=e;if(this.prep(this.minalign,Ur+ln+i),s.length!=ln)throw new Error("FlatBuffers: file identifier must be length "+ln);for(let o=ln-1;o>=0;o--)this.writeInt8(s.charCodeAt(o))}this.prep(this.minalign,Ur+i),this.addOffset(t),i&&this.addInt32(this.bb.capacity()-this.space),this.bb.setPosition(this.space)}finishSizePrefixed(t,e){this.finish(t,e,!0)}requiredField(t,e){const n=this.bb.capacity()-t,i=n-this.bb.readInt32(n);if(!(this.bb.readInt16(i+e)!=0))throw new Error("FlatBuffers: field "+e+" must be set")}startVector(t,e,n){this.notNested(),this.vector_num_elems=e,this.prep(Ur,t*e),this.prep(n,t*e)}endVector(){return this.writeInt32(this.vector_num_elems),this.offset()}createSharedString(t){if(!t)return 0;if(this.string_maps||(this.string_maps=new Map),this.string_maps.has(t))return this.string_maps.get(t);const e=this.createString(t);return this.string_maps.set(t,e),e}createString(t){if(!t)return 0;let e;if(t instanceof Uint8Array)e=t;else{e=[];let n=0;for(;n<t.length;){let i;const s=t.charCodeAt(n++);if(s<55296||s>=56320)i=s;else{const o=t.charCodeAt(n++);i=(s<<10)+o+-56613888}i<128?e.push(i):(i<2048?e.push(i>>6&31|192):(i<65536?e.push(i>>12&15|224):e.push(i>>18&7|240,i>>12&63|128),e.push(i>>6&63|128)),e.push(i&63|128))}}this.addInt8(0),this.startVector(1,e.length,1),this.bb.setPosition(this.space-=e.length);for(let n=0,i=this.space,s=this.bb.bytes();n<e.length;n++)s[i++]=e[n];return this.endVector()}createLong(t,e){return fn.create(t,e)}createObjectOffset(t){return t===null?0:typeof t=="string"?this.createString(t):t.pack(this)}createObjectOffsetList(t){const e=[];for(let n=0;n<t.length;++n){const i=t[n];if(i!==null)e.push(this.createObjectOffset(i));else throw new Error("FlatBuffers: Argument for createObjectOffsetList cannot contain null.")}return e}createStructOffsetList(t,e){return e(this,t.length),this.createObjectOffsetList(t),this.endVector()}};class se{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsKeyValue(t,e){return(e||new se).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsKeyValue(t,e){return t.setPosition(t.position()+$t),(e||new se).__init(t.readInt32(t.position())+t.position(),t)}key(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}value(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startKeyValue(t){t.startObject(2)}static addKey(t,e){t.addFieldOffset(0,e,0)}static addValue(t,e){t.addFieldOffset(1,e,0)}static endKeyValue(t){return t.endObject()}static createKeyValue(t,e,n){return se.startKeyValue(t),se.addKey(t,e),se.addValue(t,n),se.endKeyValue(t)}}var Yi;(function(r){r[r.V1=0]="V1",r[r.V2=1]="V2",r[r.V3=2]="V3",r[r.V4=3]="V4",r[r.V5=4]="V5"})(Yi||(Yi={}));var qi;(function(r){r[r.Little=0]="Little",r[r.Big=1]="Big"})(qi||(qi={}));var Qo;(function(r){r[r.DenseArray=0]="DenseArray"})(Qo||(Qo={}));class Ke{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInt(t,e){return(e||new Ke).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInt(t,e){return t.setPosition(t.position()+$t),(e||new Ke).__init(t.readInt32(t.position())+t.position(),t)}bitWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}isSigned(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startInt(t){t.startObject(2)}static addBitWidth(t,e){t.addFieldInt32(0,e,0)}static addIsSigned(t,e){t.addFieldInt8(1,+e,0)}static endInt(t){return t.endObject()}static createInt(t,e,n){return Ke.startInt(t),Ke.addBitWidth(t,e),Ke.addIsSigned(t,n),Ke.endInt(t)}}class un{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryEncoding(t,e){return(e||new un).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryEncoding(t,e){return t.setPosition(t.position()+$t),(e||new un).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}indexType(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Ke).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isOrdered(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}dictionaryKind(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt16(this.bb_pos+t):Qo.DenseArray}static startDictionaryEncoding(t){t.startObject(4)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addIndexType(t,e){t.addFieldOffset(1,e,0)}static addIsOrdered(t,e){t.addFieldInt8(2,+e,0)}static addDictionaryKind(t,e){t.addFieldInt16(3,e,Qo.DenseArray)}static endDictionaryEncoding(t){return t.endObject()}}class ti{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBinary(t,e){return(e||new ti).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBinary(t,e){return t.setPosition(t.position()+$t),(e||new ti).__init(t.readInt32(t.position())+t.position(),t)}static startBinary(t){t.startObject(0)}static endBinary(t){return t.endObject()}static createBinary(t){return ti.startBinary(t),ti.endBinary(t)}}class ei{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBool(t,e){return(e||new ei).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBool(t,e){return t.setPosition(t.position()+$t),(e||new ei).__init(t.readInt32(t.position())+t.position(),t)}static startBool(t){t.startObject(0)}static endBool(t){return t.endObject()}static createBool(t){return ei.startBool(t),ei.endBool(t)}}var ta;(function(r){r[r.DAY=0]="DAY",r[r.MILLISECOND=1]="MILLISECOND"})(ta||(ta={}));let Do=class bi{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDate(t,e){return(e||new bi).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDate(t,e){return t.setPosition(t.position()+$t),(e||new bi).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ta.MILLISECOND}static startDate(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,ta.MILLISECOND)}static endDate(t){return t.endObject()}static createDate(t,e){return bi.startDate(t),bi.addUnit(t,e),bi.endDate(t)}};class Ne{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDecimal(t,e){return(e||new Ne).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDecimal(t,e){return t.setPosition(t.position()+$t),(e||new Ne).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}scale(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):0}bitWidth(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readInt32(this.bb_pos+t):128}static startDecimal(t){t.startObject(3)}static addPrecision(t,e){t.addFieldInt32(0,e,0)}static addScale(t,e){t.addFieldInt32(1,e,0)}static addBitWidth(t,e){t.addFieldInt32(2,e,128)}static endDecimal(t){return t.endObject()}static createDecimal(t,e,n,i){return Ne.startDecimal(t),Ne.addPrecision(t,e),Ne.addScale(t,n),Ne.addBitWidth(t,i),Ne.endDecimal(t)}}var Ki;(function(r){r[r.SECOND=0]="SECOND",r[r.MILLISECOND=1]="MILLISECOND",r[r.MICROSECOND=2]="MICROSECOND",r[r.NANOSECOND=3]="NANOSECOND"})(Ki||(Ki={}));class $r{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeBinary(t,e){return(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeBinary(t,e){return t.setPosition(t.position()+$t),(e||new $r).__init(t.readInt32(t.position())+t.position(),t)}byteWidth(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeBinary(t){t.startObject(1)}static addByteWidth(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeBinary(t){return t.endObject()}static createFixedSizeBinary(t,e){return $r.startFixedSizeBinary(t),$r.addByteWidth(t,e),$r.endFixedSizeBinary(t)}}class kr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFixedSizeList(t,e){return(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFixedSizeList(t,e){return t.setPosition(t.position()+$t),(e||new kr).__init(t.readInt32(t.position())+t.position(),t)}listSize(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt32(this.bb_pos+t):0}static startFixedSizeList(t){t.startObject(1)}static addListSize(t,e){t.addFieldInt32(0,e,0)}static endFixedSizeList(t){return t.endObject()}static createFixedSizeList(t,e){return kr.startFixedSizeList(t),kr.addListSize(t,e),kr.endFixedSizeList(t)}}var ea;(function(r){r[r.HALF=0]="HALF",r[r.SINGLE=1]="SINGLE",r[r.DOUBLE=2]="DOUBLE"})(ea||(ea={}));class Gr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFloatingPoint(t,e){return(e||new Gr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFloatingPoint(t,e){return t.setPosition(t.position()+$t),(e||new Gr).__init(t.readInt32(t.position())+t.position(),t)}precision(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ea.HALF}static startFloatingPoint(t){t.startObject(1)}static addPrecision(t,e){t.addFieldInt16(0,e,ea.HALF)}static endFloatingPoint(t){return t.endObject()}static createFloatingPoint(t,e){return Gr.startFloatingPoint(t),Gr.addPrecision(t,e),Gr.endFloatingPoint(t)}}var ra;(function(r){r[r.YEAR_MONTH=0]="YEAR_MONTH",r[r.DAY_TIME=1]="DAY_TIME",r[r.MONTH_DAY_NANO=2]="MONTH_DAY_NANO"})(ra||(ra={}));class jr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsInterval(t,e){return(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsInterval(t,e){return t.setPosition(t.position()+$t),(e||new jr).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):ra.YEAR_MONTH}static startInterval(t){t.startObject(1)}static addUnit(t,e){t.addFieldInt16(0,e,ra.YEAR_MONTH)}static endInterval(t){return t.endObject()}static createInterval(t,e){return jr.startInterval(t),jr.addUnit(t,e),jr.endInterval(t)}}class ri{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsList(t,e){return(e||new ri).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsList(t,e){return t.setPosition(t.position()+$t),(e||new ri).__init(t.readInt32(t.position())+t.position(),t)}static startList(t){t.startObject(0)}static endList(t){return t.endObject()}static createList(t){return ri.startList(t),ri.endList(t)}}let Oo=class _i{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMap(t,e){return(e||new _i).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMap(t,e){return t.setPosition(t.position()+$t),(e||new _i).__init(t.readInt32(t.position())+t.position(),t)}keysSorted(){const t=this.bb.__offset(this.bb_pos,4);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startMap(t){t.startObject(1)}static addKeysSorted(t,e){t.addFieldInt8(0,+e,0)}static endMap(t){return t.endObject()}static createMap(t,e){return _i.startMap(t),_i.addKeysSorted(t,e),_i.endMap(t)}};class ni{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsNull(t,e){return(e||new ni).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsNull(t,e){return t.setPosition(t.position()+$t),(e||new ni).__init(t.readInt32(t.position())+t.position(),t)}static startNull(t){t.startObject(0)}static endNull(t){return t.endObject()}static createNull(t){return ni.startNull(t),ni.endNull(t)}}class ii{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsStruct_(t,e){return(e||new ii).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsStruct_(t,e){return t.setPosition(t.position()+$t),(e||new ii).__init(t.readInt32(t.position())+t.position(),t)}static startStruct_(t){t.startObject(0)}static endStruct_(t){return t.endObject()}static createStruct_(t){return ii.startStruct_(t),ii.endStruct_(t)}}class or{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTime(t,e){return(e||new or).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTime(t,e){return t.setPosition(t.position()+$t),(e||new or).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ki.MILLISECOND}bitWidth(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt32(this.bb_pos+t):32}static startTime(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Ki.MILLISECOND)}static addBitWidth(t,e){t.addFieldInt32(1,e,32)}static endTime(t){return t.endObject()}static createTime(t,e,n){return or.startTime(t),or.addUnit(t,e),or.addBitWidth(t,n),or.endTime(t)}}class ar{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsTimestamp(t,e){return(e||new ar).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsTimestamp(t,e){return t.setPosition(t.position()+$t),(e||new ar).__init(t.readInt32(t.position())+t.position(),t)}unit(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Ki.SECOND}timezone(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.__string(this.bb_pos+e,t):null}static startTimestamp(t){t.startObject(2)}static addUnit(t,e){t.addFieldInt16(0,e,Ki.SECOND)}static addTimezone(t,e){t.addFieldOffset(1,e,0)}static endTimestamp(t){return t.endObject()}static createTimestamp(t,e,n){return ar.startTimestamp(t),ar.addUnit(t,e),ar.addTimezone(t,n),ar.endTimestamp(t)}}var na;(function(r){r[r.Sparse=0]="Sparse",r[r.Dense=1]="Dense"})(na||(na={}));class Me{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUnion(t,e){return(e||new Me).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUnion(t,e){return t.setPosition(t.position()+$t),(e||new Me).__init(t.readInt32(t.position())+t.position(),t)}mode(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):na.Sparse}typeIds(t){const e=this.bb.__offset(this.bb_pos,6);return e?this.bb.readInt32(this.bb.__vector(this.bb_pos+e)+t*4):0}typeIdsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}typeIdsArray(){const t=this.bb.__offset(this.bb_pos,6);return t?new Int32Array(this.bb.bytes().buffer,this.bb.bytes().byteOffset+this.bb.__vector(this.bb_pos+t),this.bb.__vector_len(this.bb_pos+t)):null}static startUnion(t){t.startObject(2)}static addMode(t,e){t.addFieldInt16(0,e,na.Sparse)}static addTypeIds(t,e){t.addFieldOffset(1,e,0)}static createTypeIdsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addInt32(e[n]);return t.endVector()}static startTypeIdsVector(t,e){t.startVector(4,e,4)}static endUnion(t){return t.endObject()}static createUnion(t,e,n){return Me.startUnion(t),Me.addMode(t,e),Me.addTypeIds(t,n),Me.endUnion(t)}}class si{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsUtf8(t,e){return(e||new si).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsUtf8(t,e){return t.setPosition(t.position()+$t),(e||new si).__init(t.readInt32(t.position())+t.position(),t)}static startUtf8(t){t.startObject(0)}static endUtf8(t){return t.endObject()}static createUtf8(t){return si.startUtf8(t),si.endUtf8(t)}}var Kt;(function(r){r[r.NONE=0]="NONE",r[r.Null=1]="Null",r[r.Int=2]="Int",r[r.FloatingPoint=3]="FloatingPoint",r[r.Binary=4]="Binary",r[r.Utf8=5]="Utf8",r[r.Bool=6]="Bool",r[r.Decimal=7]="Decimal",r[r.Date=8]="Date",r[r.Time=9]="Time",r[r.Timestamp=10]="Timestamp",r[r.Interval=11]="Interval",r[r.List=12]="List",r[r.Struct_=13]="Struct_",r[r.Union=14]="Union",r[r.FixedSizeBinary=15]="FixedSizeBinary",r[r.FixedSizeList=16]="FixedSizeList",r[r.Map=17]="Map",r[r.Duration=18]="Duration",r[r.LargeBinary=19]="LargeBinary",r[r.LargeUtf8=20]="LargeUtf8",r[r.LargeList=21]="LargeList"})(Kt||(Kt={}));let nr=class To{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsField(t,e){return(e||new To).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsField(t,e){return t.setPosition(t.position()+$t),(e||new To).__init(t.readInt32(t.position())+t.position(),t)}name(t){const e=this.bb.__offset(this.bb_pos,4);return e?this.bb.__string(this.bb_pos+e,t):null}nullable(){const t=this.bb.__offset(this.bb_pos,6);return t?!!this.bb.readInt8(this.bb_pos+t):!1}typeType(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.readUint8(this.bb_pos+t):Kt.NONE}type(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.__union(t,this.bb_pos+e):null}dictionary(t){const e=this.bb.__offset(this.bb_pos,12);return e?(t||new un).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}children(t,e){const n=this.bb.__offset(this.bb_pos,14);return n?(e||new To).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}childrenLength(){const t=this.bb.__offset(this.bb_pos,14);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,16);return n?(e||new se).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,16);return t?this.bb.__vector_len(this.bb_pos+t):0}static startField(t){t.startObject(7)}static addName(t,e){t.addFieldOffset(0,e,0)}static addNullable(t,e){t.addFieldInt8(1,+e,0)}static addTypeType(t,e){t.addFieldInt8(2,e,Kt.NONE)}static addType(t,e){t.addFieldOffset(3,e,0)}static addDictionary(t,e){t.addFieldOffset(4,e,0)}static addChildren(t,e){t.addFieldOffset(5,e,0)}static createChildrenVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startChildrenVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(6,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endField(t){return t.endObject()}},Rr=class nn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsSchema(t,e){return(e||new nn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsSchema(t,e){return t.setPosition(t.position()+$t),(e||new nn).__init(t.readInt32(t.position())+t.position(),t)}endianness(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):qi.Little}fields(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new nr).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}fieldsLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new se).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}features(t){const e=this.bb.__offset(this.bb_pos,10);return e?this.bb.readInt64(this.bb.__vector(this.bb_pos+e)+t*8):this.bb.createLong(0,0)}featuresLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}static startSchema(t){t.startObject(4)}static addEndianness(t,e){t.addFieldInt16(0,e,qi.Little)}static addFields(t,e){t.addFieldOffset(1,e,0)}static createFieldsVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startFieldsVector(t,e){t.startVector(4,e,4)}static addCustomMetadata(t,e){t.addFieldOffset(2,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static addFeatures(t,e){t.addFieldOffset(3,e,0)}static createFeaturesVector(t,e){t.startVector(8,e.length,8);for(let n=e.length-1;n>=0;n--)t.addInt64(e[n]);return t.endVector()}static startFeaturesVector(t,e){t.startVector(8,e,8)}static endSchema(t){return t.endObject()}static finishSchemaBuffer(t,e){t.finish(e)}static finishSizePrefixedSchemaBuffer(t,e){t.finish(e,void 0,!0)}static createSchema(t,e,n,i,s){return nn.startSchema(t),nn.addEndianness(t,e),nn.addFields(t,n),nn.addCustomMetadata(t,i),nn.addFeatures(t,s),nn.endSchema(t)}};class qe{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsFooter(t,e){return(e||new qe).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsFooter(t,e){return t.setPosition(t.position()+$t),(e||new qe).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yi.V1}schema(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new Rr).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}dictionaries(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new Vc).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}dictionariesLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}recordBatches(t,e){const n=this.bb.__offset(this.bb_pos,10);return n?(e||new Vc).__init(this.bb.__vector(this.bb_pos+n)+t*24,this.bb):null}recordBatchesLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.__vector_len(this.bb_pos+t):0}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new se).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startFooter(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Yi.V1)}static addSchema(t,e){t.addFieldOffset(1,e,0)}static addDictionaries(t,e){t.addFieldOffset(2,e,0)}static startDictionariesVector(t,e){t.startVector(24,e,8)}static addRecordBatches(t,e){t.addFieldOffset(3,e,0)}static startRecordBatchesVector(t,e){t.startVector(24,e,8)}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endFooter(t){return t.endObject()}static finishFooterBuffer(t,e){t.finish(e)}static finishSizePrefixedFooterBuffer(t,e){t.finish(e,void 0,!0)}}class Lt{constructor(t=[],e,n){this.fields=t||[],this.metadata=e||new Map,n||(n=Yc(t)),this.dictionaries=n}get[Symbol.toStringTag](){return"Schema"}get names(){return this.fields.map(t=>t.name)}toString(){return`Schema<{ ${this.fields.map((t,e)=>`${e}: ${t}`).join(", ")} }>`}select(t){const e=new Set(t),n=this.fields.filter(i=>e.has(i.name));return new Lt(n,this.metadata)}selectAt(t){const e=t.map(n=>this.fields[n]).filter(Boolean);return new Lt(e,this.metadata)}assign(...t){const e=t[0]instanceof Lt?t[0]:Array.isArray(t[0])?new Lt(t[0]):new Lt(t),n=[...this.fields],i=yo(yo(new Map,this.metadata),e.metadata),s=e.fields.filter(a=>{const c=n.findIndex(l=>l.name===a.name);return~c?(n[c]=a.clone({metadata:yo(yo(new Map,n[c].metadata),a.metadata)}))&&!1:!0}),o=Yc(s,new Map);return new Lt([...n,...s],i,new Map([...this.dictionaries,...o]))}}Lt.prototype.fields=null;Lt.prototype.metadata=null;Lt.prototype.dictionaries=null;class zt{constructor(t,e,n=!1,i){this.name=t,this.type=e,this.nullable=n,this.metadata=i||new Map}static new(...t){let[e,n,i,s]=t;return t[0]&&typeof t[0]=="object"&&({name:e}=t[0],n===void 0&&(n=t[0].type),i===void 0&&(i=t[0].nullable),s===void 0&&(s=t[0].metadata)),new zt(`${e}`,n,i,s)}get typeId(){return this.type.typeId}get[Symbol.toStringTag](){return"Field"}toString(){return`${this.name}: ${this.type}`}clone(...t){let[e,n,i,s]=t;return!t[0]||typeof t[0]!="object"?[e=this.name,n=this.type,i=this.nullable,s=this.metadata]=t:{name:e=this.name,type:n=this.type,nullable:i=this.nullable,metadata:s=this.metadata}=t[0],zt.new(e,n,i,s)}}zt.prototype.type=null;zt.prototype.name=null;zt.prototype.nullable=null;zt.prototype.metadata=null;function yo(r,t){return new Map([...r||new Map,...t||new Map])}function Yc(r,t=new Map){for(let e=-1,n=r.length;++e<n;){const s=r[e].type;if(Q.isDictionary(s)){if(!t.has(s.id))t.set(s.id,s.dictionary);else if(t.get(s.id)!==s.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}s.children&&s.children.length>0&&Yc(s.children,t)}return t}var Yh=fn,yA=uy,mA=Hi;class ks{constructor(t,e=Ze.V4,n,i){this.schema=t,this.version=e,n&&(this._recordBatches=n),i&&(this._dictionaryBatches=i)}static decode(t){t=new mA(It(t));const e=qe.getRootAsFooter(t),n=Lt.decode(e.schema());return new vA(n,e)}static encode(t){const e=new yA,n=Lt.encode(e,t.schema);qe.startRecordBatchesVector(e,t.numRecordBatches);for(const o of[...t.recordBatches()].slice().reverse())Gn.encode(e,o);const i=e.endVector();qe.startDictionariesVector(e,t.numDictionaries);for(const o of[...t.dictionaryBatches()].slice().reverse())Gn.encode(e,o);const s=e.endVector();return qe.startFooter(e),qe.addSchema(e,n),qe.addVersion(e,Ze.V4),qe.addRecordBatches(e,i),qe.addDictionaries(e,s),qe.finishFooterBuffer(e,qe.endFooter(e)),e.asUint8Array()}get numRecordBatches(){return this._recordBatches.length}get numDictionaries(){return this._dictionaryBatches.length}*recordBatches(){for(let t,e=-1,n=this.numRecordBatches;++e<n;)(t=this.getRecordBatch(e))&&(yield t)}*dictionaryBatches(){for(let t,e=-1,n=this.numDictionaries;++e<n;)(t=this.getDictionaryBatch(e))&&(yield t)}getRecordBatch(t){return t>=0&&t<this.numRecordBatches&&this._recordBatches[t]||null}getDictionaryBatch(t){return t>=0&&t<this.numDictionaries&&this._dictionaryBatches[t]||null}}class vA extends ks{constructor(t,e){super(t,e.version()),this._footer=e}get numRecordBatches(){return this._footer.recordBatchesLength()}get numDictionaries(){return this._footer.dictionariesLength()}getRecordBatch(t){if(t>=0&&t<this.numRecordBatches){const e=this._footer.recordBatches(t);if(e)return Gn.decode(e)}return null}getDictionaryBatch(t){if(t>=0&&t<this.numDictionaries){const e=this._footer.dictionaries(t);if(e)return Gn.decode(e)}return null}}class Gn{constructor(t,e,n){this.metaDataLength=t,this.offset=typeof n=="number"?n:n.low,this.bodyLength=typeof e=="number"?e:e.low}static decode(t){return new Gn(t.metaDataLength(),t.bodyLength(),t.offset())}static encode(t,e){const{metaDataLength:n}=e,i=new Yh(e.offset,0),s=new Yh(e.bodyLength,0);return Vc.createBlock(t,i,n,s)}}const Zt=Object.freeze({done:!0,value:void 0});class qh{constructor(t){this._json=t}get schema(){return this._json.schema}get batches(){return this._json.batches||[]}get dictionaries(){return this._json.dictionaries||[]}}class cu{tee(){return this._getDOMStream().tee()}pipe(t,e){return this._getNodeStream().pipe(t,e)}pipeTo(t,e){return this._getDOMStream().pipeTo(t,e)}pipeThrough(t,e){return this._getDOMStream().pipeThrough(t,e)}_getDOMStream(){return this._DOMStream||(this._DOMStream=this.toDOMStream())}_getNodeStream(){return this._nodeStream||(this._nodeStream=this.toNodeStream())}}class bA extends cu{constructor(){super(),this._values=[],this.resolvers=[],this._closedPromise=new Promise(t=>this._closedPromiseResolve=t)}get closed(){return this._closedPromise}cancel(t){return X(this,void 0,void 0,function*(){yield this.return(t)})}write(t){this._ensureOpen()&&(this.resolvers.length<=0?this._values.push(t):this.resolvers.shift().resolve({done:!1,value:t}))}abort(t){this._closedPromiseResolve&&(this.resolvers.length<=0?this._error={error:t}:this.resolvers.shift().reject({done:!0,value:t}))}close(){if(this._closedPromiseResolve){const{resolvers:t}=this;for(;t.length>0;)t.shift().resolve(Zt);this._closedPromiseResolve(),this._closedPromiseResolve=void 0}}[Symbol.asyncIterator](){return this}toDOMStream(t){return ir.toDOMStream(this._closedPromiseResolve||this._error?this:this._values,t)}toNodeStream(t){return ir.toNodeStream(this._closedPromiseResolve||this._error?this:this._values,t)}throw(t){return X(this,void 0,void 0,function*(){return yield this.abort(t),Zt})}return(t){return X(this,void 0,void 0,function*(){return yield this.close(),Zt})}read(t){return X(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return X(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(...t){return this._values.length>0?Promise.resolve({done:!1,value:this._values.shift()}):this._error?Promise.reject({done:!0,value:this._error.error}):this._closedPromiseResolve?new Promise((e,n)=>{this.resolvers.push({resolve:e,reject:n})}):Promise.resolve(Zt)}_ensureOpen(){if(this._closedPromiseResolve)return!0;throw new Error("AsyncQueue is closed")}}class Fo extends bA{write(t){if((t=It(t)).byteLength>0)return super.write(t)}toString(t=!1){return t?$c(this.toUint8Array(!0)):this.toUint8Array(!1).then($c)}toUint8Array(t=!1){return t?Kr(this._values)[0]:X(this,void 0,void 0,function*(){var e,n;const i=[];let s=0;try{for(var o=ci(this),a;a=yield o.next(),!a.done;){const c=a.value;i.push(c),s+=c.byteLength}}catch(c){e={error:c}}finally{try{a&&!a.done&&(n=o.return)&&(yield n.call(o))}finally{if(e)throw e.error}}return Kr(i,s)[0]})}}class ia{constructor(t){t&&(this.source=new _A(ir.fromIterable(t)))}[Symbol.iterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class Zi{constructor(t){t instanceof Zi?this.source=t.source:t instanceof Fo?this.source=new Zn(ir.fromAsyncIterable(t)):Yp(t)?this.source=new Zn(ir.fromNodeStream(t)):ql(t)?this.source=new Zn(ir.fromDOMStream(t)):Hp(t)?this.source=new Zn(ir.fromDOMStream(t.body)):qs(t)?this.source=new Zn(ir.fromIterable(t)):Mn(t)?this.source=new Zn(ir.fromAsyncIterable(t)):cs(t)&&(this.source=new Zn(ir.fromAsyncIterable(t)))}[Symbol.asyncIterator](){return this}next(t){return this.source.next(t)}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}get closed(){return this.source.closed}cancel(t){return this.source.cancel(t)}peek(t){return this.source.peek(t)}read(t){return this.source.read(t)}}class _A{constructor(t){this.source=t}cancel(t){this.return(t)}peek(t){return this.next(t,"peek").value}read(t){return this.next(t,"read").value}next(t,e="read"){return this.source.next({cmd:e,size:t})}throw(t){return Object.create(this.source.throw&&this.source.throw(t)||Zt)}return(t){return Object.create(this.source.return&&this.source.return(t)||Zt)}}class Zn{constructor(t){this.source=t,this._closedPromise=new Promise(e=>this._closedPromiseResolve=e)}cancel(t){return X(this,void 0,void 0,function*(){yield this.return(t)})}get closed(){return this._closedPromise}read(t){return X(this,void 0,void 0,function*(){return(yield this.next(t,"read")).value})}peek(t){return X(this,void 0,void 0,function*(){return(yield this.next(t,"peek")).value})}next(t,e="read"){return X(this,void 0,void 0,function*(){return yield this.source.next({cmd:e,size:t})})}throw(t){return X(this,void 0,void 0,function*(){const e=this.source.throw&&(yield this.source.throw(t))||Zt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}return(t){return X(this,void 0,void 0,function*(){const e=this.source.return&&(yield this.source.return(t))||Zt;return this._closedPromiseResolve&&this._closedPromiseResolve(),this._closedPromiseResolve=void 0,Object.create(e)})}}class Kh extends ia{constructor(t,e){super(),this.position=0,this.buffer=It(t),this.size=typeof e>"u"?this.buffer.byteLength:e}readInt32(t){const{buffer:e,byteOffset:n}=this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)}seek(t){return this.position=Math.min(t,this.size),t<this.size}read(t){const{buffer:e,size:n,position:i}=this;return e&&i<n?(typeof t!="number"&&(t=Number.POSITIVE_INFINITY),this.position=Math.min(n,i+Math.min(n-i,t)),e.subarray(i,this.position)):null}readAt(t,e){const n=this.buffer,i=Math.min(this.size,t+e);return n?n.subarray(t,i):new Uint8Array(e)}close(){this.buffer&&(this.buffer=null)}throw(t){return this.close(),{done:!0,value:t}}return(t){return this.close(),{done:!0,value:t}}}class sa extends Zi{constructor(t,e){super(),this.position=0,this._handle=t,typeof e=="number"?this.size=e:this._pending=X(this,void 0,void 0,function*(){this.size=(yield t.stat()).size,delete this._pending})}readInt32(t){return X(this,void 0,void 0,function*(){const{buffer:e,byteOffset:n}=yield this.readAt(t,4);return new DataView(e,n).getInt32(0,!0)})}seek(t){return X(this,void 0,void 0,function*(){return this._pending&&(yield this._pending),this.position=Math.min(t,this.size),t<this.size})}read(t){return X(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:e,size:n,position:i}=this;if(e&&i<n){typeof t!="number"&&(t=Number.POSITIVE_INFINITY);let s=i,o=0,a=0;const c=Math.min(n,s+Math.min(n-s,t)),l=new Uint8Array(Math.max(0,(this.position=c)-s));for(;(s+=a)<c&&(o+=a)<l.byteLength;)({bytesRead:a}=yield e.read(l,o,l.byteLength-o,s));return l}return null})}readAt(t,e){return X(this,void 0,void 0,function*(){this._pending&&(yield this._pending);const{_handle:n,size:i}=this;if(n&&t+e<i){const s=Math.min(i,t+e),o=new Uint8Array(s-t);return(yield n.read(o,0,e,t)).buffer}return new Uint8Array(e)})}close(){return X(this,void 0,void 0,function*(){const t=this._handle;this._handle=null,t&&(yield t.close())})}throw(t){return X(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}return(t){return X(this,void 0,void 0,function*(){return yield this.close(),{done:!0,value:t}})}}const wA=65536;function Ai(r){return r<0&&(r=4294967295+r+1),`0x${r.toString(16)}`}const Ji=8,lu=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8];class dy{constructor(t){this.buffer=t}high(){return this.buffer[1]}low(){return this.buffer[0]}_times(t){const e=new Uint32Array([this.buffer[1]>>>16,this.buffer[1]&65535,this.buffer[0]>>>16,this.buffer[0]&65535]),n=new Uint32Array([t.buffer[1]>>>16,t.buffer[1]&65535,t.buffer[0]>>>16,t.buffer[0]&65535]);let i=e[3]*n[3];this.buffer[0]=i&65535;let s=i>>>16;return i=e[2]*n[3],s+=i,i=e[3]*n[2]>>>0,s+=i,this.buffer[0]+=s<<16,this.buffer[1]=s>>>0<i?wA:0,this.buffer[1]+=s>>>16,this.buffer[1]+=e[1]*n[3]+e[2]*n[2]+e[3]*n[1],this.buffer[1]+=e[0]*n[3]+e[1]*n[2]+e[2]*n[1]+e[3]*n[0]<<16,this}_plus(t){const e=this.buffer[0]+t.buffer[0]>>>0;this.buffer[1]+=t.buffer[1],e<this.buffer[0]>>>0&&++this.buffer[1],this.buffer[0]=e}lessThan(t){return this.buffer[1]<t.buffer[1]||this.buffer[1]===t.buffer[1]&&this.buffer[0]<t.buffer[0]}equals(t){return this.buffer[1]===t.buffer[1]&&this.buffer[0]==t.buffer[0]}greaterThan(t){return t.lessThan(this)}hex(){return`${Ai(this.buffer[1])} ${Ai(this.buffer[0])}`}}class Ct extends dy{times(t){return this._times(t),this}plus(t){return this._plus(t),this}static from(t,e=new Uint32Array(2)){return Ct.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Ct.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.length,i=new Ct(e);for(let s=0;s<n;){const o=Ji<n-s?Ji:n-s,a=new Ct(new Uint32Array([Number.parseInt(t.slice(s,s+o),10),0])),c=new Ct(new Uint32Array([lu[o],0]));i.times(c),i.plus(a),s+=o}return i}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,i=t.length;++n<i;)Ct.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new Ct(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Ct(new Uint32Array(t.buffer)).plus(e)}}class Pe extends dy{negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[0]==0&&++this.buffer[1],this}times(t){return this._times(t),this}plus(t){return this._plus(t),this}lessThan(t){const e=this.buffer[1]<<0,n=t.buffer[1]<<0;return e<n||e===n&&this.buffer[0]<t.buffer[0]}static from(t,e=new Uint32Array(2)){return Pe.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(2)){return Pe.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(2)){const n=t.startsWith("-"),i=t.length,s=new Pe(e);for(let o=n?1:0;o<i;){const a=Ji<i-o?Ji:i-o,c=new Pe(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0])),l=new Pe(new Uint32Array([lu[a],0]));s.times(l),s.plus(c),o+=a}return n?s.negate():s}static convertArray(t){const e=new Uint32Array(t.length*2);for(let n=-1,i=t.length;++n<i;)Pe.from(t[n],new Uint32Array(e.buffer,e.byteOffset+2*n*4,2));return e}static multiply(t,e){return new Pe(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Pe(new Uint32Array(t.buffer)).plus(e)}}class Br{constructor(t){this.buffer=t}high(){return new Pe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2))}low(){return new Pe(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset,2))}negate(){return this.buffer[0]=~this.buffer[0]+1,this.buffer[1]=~this.buffer[1],this.buffer[2]=~this.buffer[2],this.buffer[3]=~this.buffer[3],this.buffer[0]==0&&++this.buffer[1],this.buffer[1]==0&&++this.buffer[2],this.buffer[2]==0&&++this.buffer[3],this}times(t){const e=new Ct(new Uint32Array([this.buffer[3],0])),n=new Ct(new Uint32Array([this.buffer[2],0])),i=new Ct(new Uint32Array([this.buffer[1],0])),s=new Ct(new Uint32Array([this.buffer[0],0])),o=new Ct(new Uint32Array([t.buffer[3],0])),a=new Ct(new Uint32Array([t.buffer[2],0])),c=new Ct(new Uint32Array([t.buffer[1],0])),l=new Ct(new Uint32Array([t.buffer[0],0]));let u=Ct.multiply(s,l);this.buffer[0]=u.low();const h=new Ct(new Uint32Array([u.high(),0]));return u=Ct.multiply(i,l),h.plus(u),u=Ct.multiply(s,c),h.plus(u),this.buffer[1]=h.low(),this.buffer[3]=h.lessThan(u)?1:0,this.buffer[2]=h.high(),new Ct(new Uint32Array(this.buffer.buffer,this.buffer.byteOffset+8,2)).plus(Ct.multiply(n,l)).plus(Ct.multiply(i,c)).plus(Ct.multiply(s,a)),this.buffer[3]+=Ct.multiply(e,l).plus(Ct.multiply(n,c)).plus(Ct.multiply(i,a)).plus(Ct.multiply(s,o)).low(),this}plus(t){const e=new Uint32Array(4);return e[3]=this.buffer[3]+t.buffer[3]>>>0,e[2]=this.buffer[2]+t.buffer[2]>>>0,e[1]=this.buffer[1]+t.buffer[1]>>>0,e[0]=this.buffer[0]+t.buffer[0]>>>0,e[0]<this.buffer[0]>>>0&&++e[1],e[1]<this.buffer[1]>>>0&&++e[2],e[2]<this.buffer[2]>>>0&&++e[3],this.buffer[3]=e[3],this.buffer[2]=e[2],this.buffer[1]=e[1],this.buffer[0]=e[0],this}hex(){return`${Ai(this.buffer[3])} ${Ai(this.buffer[2])} ${Ai(this.buffer[1])} ${Ai(this.buffer[0])}`}static multiply(t,e){return new Br(new Uint32Array(t.buffer)).times(e)}static add(t,e){return new Br(new Uint32Array(t.buffer)).plus(e)}static from(t,e=new Uint32Array(4)){return Br.fromString(typeof t=="string"?t:t.toString(),e)}static fromNumber(t,e=new Uint32Array(4)){return Br.fromString(t.toString(),e)}static fromString(t,e=new Uint32Array(4)){const n=t.startsWith("-"),i=t.length,s=new Br(e);for(let o=n?1:0;o<i;){const a=Ji<i-o?Ji:i-o,c=new Br(new Uint32Array([Number.parseInt(t.slice(o,o+a),10),0,0,0])),l=new Br(new Uint32Array([lu[a],0,0,0]));s.times(l),s.plus(c),o+=a}return n?s.negate():s}static convertArray(t){const e=new Uint32Array(t.length*4);for(let n=-1,i=t.length;++n<i;)Br.from(t[n],new Uint32Array(e.buffer,e.byteOffset+4*4*n,4));return e}}class fy extends gt{constructor(t,e,n,i){super(),this.nodesIndex=-1,this.buffersIndex=-1,this.bytes=t,this.nodes=e,this.buffers=n,this.dictionaries=i}visit(t){return super.visit(t instanceof zt?t.type:t)}visitNull(t,{length:e}=this.nextFieldNode()){return pt({type:t,length:e})}visitBool(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitInt(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFloat(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitUtf8(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),data:this.readData(t)})}visitFixedSizeBinary(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDate(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTimestamp(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitTime(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitDecimal(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitList(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}visitStruct(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),children:this.visitMany(t.children)})}visitUnion(t){return t.mode===Xe.Sparse?this.visitSparseUnion(t):this.visitDenseUnion(t)}visitDenseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),valueOffsets:this.readOffsets(t),children:this.visitMany(t.children)})}visitSparseUnion(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),typeIds:this.readTypeIds(t),children:this.visitMany(t.children)})}visitDictionary(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t.indices),dictionary:this.readDictionary(t)})}visitInterval(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),data:this.readData(t)})}visitFixedSizeList(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),child:this.visit(t.children[0])})}visitMap(t,{length:e,nullCount:n}=this.nextFieldNode()){return pt({type:t,length:e,nullCount:n,nullBitmap:this.readNullBitmap(t,n),valueOffsets:this.readOffsets(t),child:this.visit(t.children[0])})}nextFieldNode(){return this.nodes[++this.nodesIndex]}nextBufferRange(){return this.buffers[++this.buffersIndex]}readNullBitmap(t,e,n=this.nextBufferRange()){return e>0&&this.readData(t,n)||new Uint8Array(0)}readOffsets(t,e){return this.readData(t,e)}readTypeIds(t,e){return this.readData(t,e)}readData(t,{length:e,offset:n}=this.nextBufferRange()){return this.bytes.subarray(n,n+e)}readDictionary(t){return this.dictionaries.get(t.id)}}class SA extends fy{constructor(t,e,n,i){super(new Uint8Array(0),e,n,i),this.sources=t}readNullBitmap(t,e,{offset:n}=this.nextBufferRange()){return e<=0?new Uint8Array(0):Zo(this.sources[n])}readOffsets(t,{offset:e}=this.nextBufferRange()){return Mt(Uint8Array,Mt(Int32Array,this.sources[e]))}readTypeIds(t,{offset:e}=this.nextBufferRange()){return Mt(Uint8Array,Mt(t.ArrayType,this.sources[e]))}readData(t,{offset:e}=this.nextBufferRange()){const{sources:n}=this;return Q.isTimestamp(t)||(Q.isInt(t)||Q.isTime(t))&&t.bitWidth===64||Q.isDate(t)&&t.unit===yn.MILLISECOND?Mt(Uint8Array,Pe.convertArray(n[e])):Q.isDecimal(t)?Mt(Uint8Array,Br.convertArray(n[e])):Q.isBinary(t)||Q.isFixedSizeBinary(t)?EA(n[e]):Q.isBool(t)?Zo(n[e]):Q.isUtf8(t)?Yl(n[e].join("")):Mt(Uint8Array,Mt(t.ArrayType,n[e].map(i=>+i)))}}function EA(r){const t=r.join(""),e=new Uint8Array(t.length/2);for(let n=0;n<t.length;n+=2)e[n>>1]=Number.parseInt(t.slice(n,n+2),16);return e}class nt extends gt{compareSchemas(t,e){return t===e||e instanceof t.constructor&&this.compareManyFields(t.fields,e.fields)}compareManyFields(t,e){return t===e||Array.isArray(t)&&Array.isArray(e)&&t.length===e.length&&t.every((n,i)=>this.compareFields(n,e[i]))}compareFields(t,e){return t===e||e instanceof t.constructor&&t.name===e.name&&t.nullable===e.nullable&&this.visit(t.type,e.type)}}function He(r,t){return t instanceof r.constructor}function Ks(r,t){return r===t||He(r,t)}function Sn(r,t){return r===t||He(r,t)&&r.bitWidth===t.bitWidth&&r.isSigned===t.isSigned}function qa(r,t){return r===t||He(r,t)&&r.precision===t.precision}function AA(r,t){return r===t||He(r,t)&&r.byteWidth===t.byteWidth}function uu(r,t){return r===t||He(r,t)&&r.unit===t.unit}function Zs(r,t){return r===t||He(r,t)&&r.unit===t.unit&&r.timezone===t.timezone}function Js(r,t){return r===t||He(r,t)&&r.unit===t.unit&&r.bitWidth===t.bitWidth}function IA(r,t){return r===t||He(r,t)&&r.children.length===t.children.length&&jn.compareManyFields(r.children,t.children)}function DA(r,t){return r===t||He(r,t)&&r.children.length===t.children.length&&jn.compareManyFields(r.children,t.children)}function hu(r,t){return r===t||He(r,t)&&r.mode===t.mode&&r.typeIds.every((e,n)=>e===t.typeIds[n])&&jn.compareManyFields(r.children,t.children)}function OA(r,t){return r===t||He(r,t)&&r.id===t.id&&r.isOrdered===t.isOrdered&&jn.visit(r.indices,t.indices)&&jn.visit(r.dictionary,t.dictionary)}function du(r,t){return r===t||He(r,t)&&r.unit===t.unit}function TA(r,t){return r===t||He(r,t)&&r.listSize===t.listSize&&r.children.length===t.children.length&&jn.compareManyFields(r.children,t.children)}function FA(r,t){return r===t||He(r,t)&&r.keysSorted===t.keysSorted&&r.children.length===t.children.length&&jn.compareManyFields(r.children,t.children)}nt.prototype.visitNull=Ks;nt.prototype.visitBool=Ks;nt.prototype.visitInt=Sn;nt.prototype.visitInt8=Sn;nt.prototype.visitInt16=Sn;nt.prototype.visitInt32=Sn;nt.prototype.visitInt64=Sn;nt.prototype.visitUint8=Sn;nt.prototype.visitUint16=Sn;nt.prototype.visitUint32=Sn;nt.prototype.visitUint64=Sn;nt.prototype.visitFloat=qa;nt.prototype.visitFloat16=qa;nt.prototype.visitFloat32=qa;nt.prototype.visitFloat64=qa;nt.prototype.visitUtf8=Ks;nt.prototype.visitBinary=Ks;nt.prototype.visitFixedSizeBinary=AA;nt.prototype.visitDate=uu;nt.prototype.visitDateDay=uu;nt.prototype.visitDateMillisecond=uu;nt.prototype.visitTimestamp=Zs;nt.prototype.visitTimestampSecond=Zs;nt.prototype.visitTimestampMillisecond=Zs;nt.prototype.visitTimestampMicrosecond=Zs;nt.prototype.visitTimestampNanosecond=Zs;nt.prototype.visitTime=Js;nt.prototype.visitTimeSecond=Js;nt.prototype.visitTimeMillisecond=Js;nt.prototype.visitTimeMicrosecond=Js;nt.prototype.visitTimeNanosecond=Js;nt.prototype.visitDecimal=Ks;nt.prototype.visitList=IA;nt.prototype.visitStruct=DA;nt.prototype.visitUnion=hu;nt.prototype.visitDenseUnion=hu;nt.prototype.visitSparseUnion=hu;nt.prototype.visitDictionary=OA;nt.prototype.visitInterval=du;nt.prototype.visitIntervalDayTime=du;nt.prototype.visitIntervalYearMonth=du;nt.prototype.visitFixedSizeList=TA;nt.prototype.visitMap=FA;const jn=new nt;function qc(r,t){return jn.compareSchemas(r,t)}function gc(r,t){return xA(r,t.map(e=>e.data.concat()))}function xA(r,t){const e=[...r.fields],n=[],i={numBatches:t.reduce((h,d)=>Math.max(h,d.length),0)};let s=0,o=0,a=-1;const c=t.length;let l,u=[];for(;i.numBatches-- >0;){for(o=Number.POSITIVE_INFINITY,a=-1;++a<c;)u[a]=l=t[a].shift(),o=Math.min(o,l?l.length:o);Number.isFinite(o)&&(u=LA(e,o,u,t,i),o>0&&(n[s++]=pt({type:new Fe(e),length:o,nullCount:0,children:u.slice()})))}return[r=r.assign(e),n.map(h=>new Ue(r,h))]}function LA(r,t,e,n,i){var s;const o=(t+63&-64)>>3;for(let a=-1,c=n.length;++a<c;){const l=e[a],u=l==null?void 0:l.length;if(u>=t)u===t?e[a]=l:(e[a]=l.slice(0,t),i.numBatches=Math.max(i.numBatches,n[a].unshift(l.slice(t,u-t))));else{const h=r[a];r[a]=h.clone({nullable:!0}),e[a]=(s=l==null?void 0:l._changeLengthAndBackfillNullBitmap(t))!==null&&s!==void 0?s:pt({type:h.type,length:t,nullCount:t,nullBitmap:new Uint8Array(o)})}}return e}var py;class Ae{constructor(...t){var e,n;if(t.length===0)return this.batches=[],this.schema=new Lt([]),this._offsets=[0],this;let i,s;t[0]instanceof Lt&&(i=t.shift()),t[t.length-1]instanceof Uint32Array&&(s=t.pop());const o=c=>{if(c){if(c instanceof Ue)return[c];if(c instanceof Ae)return c.batches;if(c instanceof Gt){if(c.type instanceof Fe)return[new Ue(new Lt(c.type.children),c)]}else{if(Array.isArray(c))return c.flatMap(l=>o(l));if(typeof c[Symbol.iterator]=="function")return[...c].flatMap(l=>o(l));if(typeof c=="object"){const l=Object.keys(c),u=l.map(f=>new xt([c[f]])),h=new Lt(l.map((f,m)=>new zt(String(f),u[m].type))),[,d]=gc(h,u);return d.length===0?[new Ue(c)]:d}}}return[]},a=t.flatMap(c=>o(c));if(i=(n=i??((e=a[0])===null||e===void 0?void 0:e.schema))!==null&&n!==void 0?n:new Lt([]),!(i instanceof Lt))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");for(const c of a){if(!(c instanceof Ue))throw new TypeError("Table constructor expects a [Schema, RecordBatch[]] pair.");if(!qc(i,c.schema))throw new TypeError("Table and inner RecordBatch schemas must be equivalent.")}this.schema=i,this.batches=a,this._offsets=s??Qg(this.data)}get data(){return this.batches.map(({data:t})=>t)}get numCols(){return this.schema.fields.length}get numRows(){return this.data.reduce((t,e)=>t+e.length,0)}get nullCount(){return this._nullCount===-1&&(this._nullCount=Xg(this.data)),this._nullCount}isValid(t){return!1}get(t){return null}set(t,e){}indexOf(t,e){return-1}getByteLength(t){return 0}[Symbol.iterator](){return this.batches.length>0?au.visit(new xt(this.data)):new Array(0)[Symbol.iterator]()}toArray(){return[...this]}toString(){return`[
  ${this.toArray().join(`,
  `)}
]`}concat(...t){const e=this.schema,n=this.data.concat(t.flatMap(({data:i})=>i));return new Ae(e,n.map(i=>new Ue(e,i)))}slice(t,e){const n=this.schema;[t,e]=Zg({length:this.numRows},t,e);const i=ty(this.data,this._offsets,t,e);return new Ae(n,i.map(s=>new Ue(n,s)))}getChild(t){return this.getChildAt(this.schema.fields.findIndex(e=>e.name===t))}getChildAt(t){if(t>-1&&t<this.schema.fields.length){const e=this.data.map(n=>n.children[t]);if(e.length===0){const{type:n}=this.schema.fields[t],i=pt({type:n,length:0,nullCount:0});e.push(i._changeLengthAndBackfillNullBitmap(this.numRows))}return new xt(e)}return null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===t),e)}setChildAt(t,e){let n=this.schema,i=[...this.batches];if(t>-1&&t<this.numCols){e||(e=new xt([pt({type:new $n,length:this.numRows})]));const s=n.fields.slice(),o=s[t].clone({type:e.type}),a=this.schema.fields.map((c,l)=>this.getChildAt(l));[s[t],a[t]]=[o,e],[n,i]=gc(n,a)}return new Ae(n,i)}select(t){const e=this.schema.fields.reduce((n,i,s)=>n.set(i.name,s),new Map);return this.selectAt(t.map(n=>e.get(n)).filter(n=>n>-1))}selectAt(t){const e=this.schema.selectAt(t),n=this.batches.map(i=>i.selectAt(t));return new Ae(e,n)}assign(t){const e=this.schema.fields,[n,i]=t.schema.fields.reduce((a,c,l)=>{const[u,h]=a,d=e.findIndex(f=>f.name===c.name);return~d?h[d]=l:u.push(l),a},[[],[]]),s=this.schema.assign(t.schema),o=[...e.map((a,c)=>[c,i[c]]).map(([a,c])=>c===void 0?this.getChildAt(a):t.getChildAt(c)),...n.map(a=>t.getChildAt(a))].filter(Boolean);return new Ae(...gc(s,o))}}py=Symbol.toStringTag;Ae[py]=(r=>(r.schema=null,r.batches=[],r._offsets=new Uint32Array([0]),r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,r.isValid=Ni(ou),r.get=Ni(We.getVisitFn(w.Struct)),r.set=ey(hr.getVisitFn(w.Struct)),r.indexOf=ry(Jo.getVisitFn(w.Struct)),r.getByteLength=Ni(Zr.getVisitFn(w.Struct)),"Table"))(Ae.prototype);var gy;let Ue=class ws{constructor(...t){switch(t.length){case 2:{if([this.schema]=t,!(this.schema instanceof Lt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");if([,this.data=pt({nullCount:0,type:new Fe(this.schema.fields),children:this.schema.fields.map(e=>pt({type:e.type,nullCount:0}))})]=t,!(this.data instanceof Gt))throw new TypeError("RecordBatch constructor expects a [Schema, Data] pair.");[this.schema,this.data]=Zh(this.schema,this.data.children);break}case 1:{const[e]=t,{fields:n,children:i,length:s}=Object.keys(e).reduce((c,l,u)=>(c.children[u]=e[l],c.length=Math.max(c.length,e[l].length),c.fields[u]=zt.new({name:l,type:e[l].type,nullable:!0}),c),{length:0,fields:new Array,children:new Array}),o=new Lt(n),a=pt({type:new Fe(n),length:s,children:i,nullCount:0});[this.schema,this.data]=Zh(o,a.children,s);break}default:throw new TypeError("RecordBatch constructor expects an Object mapping names to child Data, or a [Schema, Data] pair.")}}get dictionaries(){return this._dictionaries||(this._dictionaries=yy(this.schema.fields,this.data.children))}get numCols(){return this.schema.fields.length}get numRows(){return this.data.length}get nullCount(){return this.data.nullCount}isValid(t){return this.data.getValid(t)}get(t){return We.visit(this.data,t)}set(t,e){return hr.visit(this.data,t,e)}indexOf(t,e){return Jo.visit(this.data,t,e)}getByteLength(t){return Zr.visit(this.data,t)}[Symbol.iterator](){return au.visit(new xt([this.data]))}toArray(){return[...this]}concat(...t){return new Ae(this.schema,[this,...t])}slice(t,e){const[n]=new xt([this.data]).slice(t,e).data;return new ws(this.schema,n)}getChild(t){var e;return this.getChildAt((e=this.schema.fields)===null||e===void 0?void 0:e.findIndex(n=>n.name===t))}getChildAt(t){return t>-1&&t<this.schema.fields.length?new xt([this.data.children[t]]):null}setChild(t,e){var n;return this.setChildAt((n=this.schema.fields)===null||n===void 0?void 0:n.findIndex(i=>i.name===t),e)}setChildAt(t,e){let n=this.schema,i=this.data;if(t>-1&&t<this.numCols){e||(e=new xt([pt({type:new $n,length:this.numRows})]));const s=n.fields.slice(),o=i.children.slice(),a=s[t].clone({type:e.type});[s[t],o[t]]=[a,e.data[0]],n=new Lt(s,new Map(this.schema.metadata)),i=pt({type:new Fe(s),children:o})}return new ws(n,i)}select(t){const e=this.schema.select(t),n=new Fe(e.fields),i=[];for(const s of t){const o=this.schema.fields.findIndex(a=>a.name===s);~o&&(i[o]=this.data.children[o])}return new ws(e,pt({type:n,length:this.numRows,children:i}))}selectAt(t){const e=this.schema.selectAt(t),n=t.map(s=>this.data.children[s]).filter(Boolean),i=pt({type:new Fe(e.fields),length:this.numRows,children:n});return new ws(e,i)}};gy=Symbol.toStringTag;Ue[gy]=(r=>(r._nullCount=-1,r[Symbol.isConcatSpreadable]=!0,"RecordBatch"))(Ue.prototype);function Zh(r,t,e=t.reduce((n,i)=>Math.max(n,i.length),0)){var n;const i=[...r.fields],s=[...t],o=(e+63&-64)>>3;for(const[a,c]of r.fields.entries()){const l=t[a];(!l||l.length!==e)&&(i[a]=c.clone({nullable:!0}),s[a]=(n=l==null?void 0:l._changeLengthAndBackfillNullBitmap(e))!==null&&n!==void 0?n:pt({type:c.type,length:e,nullCount:e,nullBitmap:new Uint8Array(o)}))}return[r.assign(i),pt({type:new Fe(i),length:e,children:s})]}function yy(r,t,e=new Map){for(let n=-1,i=r.length;++n<i;){const o=r[n].type,a=t[n];if(Q.isDictionary(o)){if(!e.has(o.id))a.dictionary&&e.set(o.id,a.dictionary);else if(e.get(o.id)!==a.dictionary)throw new Error("Cannot create Schema containing two different dictionaries with the same Id")}o.children&&o.children.length>0&&yy(o.children,a.children,e)}return e}class fu extends Ue{constructor(t){const e=t.fields.map(i=>pt({type:i.type})),n=pt({type:new Fe(t.fields),nullCount:0,children:e});super(t,n)}}var oa;(function(r){r[r.BUFFER=0]="BUFFER"})(oa||(oa={}));var aa;(function(r){r[r.LZ4_FRAME=0]="LZ4_FRAME",r[r.ZSTD=1]="ZSTD"})(aa||(aa={}));class xn{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsBodyCompression(t,e){return(e||new xn).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsBodyCompression(t,e){return t.setPosition(t.position()+$t),(e||new xn).__init(t.readInt32(t.position())+t.position(),t)}codec(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt8(this.bb_pos+t):aa.LZ4_FRAME}method(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readInt8(this.bb_pos+t):oa.BUFFER}static startBodyCompression(t){t.startObject(2)}static addCodec(t,e){t.addFieldInt8(0,e,aa.LZ4_FRAME)}static addMethod(t,e){t.addFieldInt8(1,e,oa.BUFFER)}static endBodyCompression(t){return t.endObject()}static createBodyCompression(t,e,n){return xn.startBodyCompression(t),xn.addCodec(t,e),xn.addMethod(t,n),xn.endBodyCompression(t)}}class my{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}offset(){return this.bb.readInt64(this.bb_pos)}length(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createBuffer(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}}let vy=class{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}length(){return this.bb.readInt64(this.bb_pos)}nullCount(){return this.bb.readInt64(this.bb_pos+8)}static sizeOf(){return 16}static createFieldNode(t,e,n){return t.prep(8,16),t.writeInt64(n),t.writeInt64(e),t.offset()}},cn=class Kc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsRecordBatch(t,e){return(e||new Kc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsRecordBatch(t,e){return t.setPosition(t.position()+$t),(e||new Kc).__init(t.readInt32(t.position())+t.position(),t)}length(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}nodes(t,e){const n=this.bb.__offset(this.bb_pos,6);return n?(e||new vy).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}nodesLength(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.__vector_len(this.bb_pos+t):0}buffers(t,e){const n=this.bb.__offset(this.bb_pos,8);return n?(e||new my).__init(this.bb.__vector(this.bb_pos+n)+t*16,this.bb):null}buffersLength(){const t=this.bb.__offset(this.bb_pos,8);return t?this.bb.__vector_len(this.bb_pos+t):0}compression(t){const e=this.bb.__offset(this.bb_pos,10);return e?(t||new xn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}static startRecordBatch(t){t.startObject(4)}static addLength(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addNodes(t,e){t.addFieldOffset(1,e,0)}static startNodesVector(t,e){t.startVector(16,e,8)}static addBuffers(t,e){t.addFieldOffset(2,e,0)}static startBuffersVector(t,e){t.startVector(16,e,8)}static addCompression(t,e){t.addFieldOffset(3,e,0)}static endRecordBatch(t){return t.endObject()}},wi=class Zc{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsDictionaryBatch(t,e){return(e||new Zc).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsDictionaryBatch(t,e){return t.setPosition(t.position()+$t),(e||new Zc).__init(t.readInt32(t.position())+t.position(),t)}id(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}data(t){const e=this.bb.__offset(this.bb_pos,6);return e?(t||new cn).__init(this.bb.__indirect(this.bb_pos+e),this.bb):null}isDelta(){const t=this.bb.__offset(this.bb_pos,8);return t?!!this.bb.readInt8(this.bb_pos+t):!1}static startDictionaryBatch(t){t.startObject(3)}static addId(t,e){t.addFieldInt64(0,e,t.createLong(0,0))}static addData(t,e){t.addFieldOffset(1,e,0)}static addIsDelta(t,e){t.addFieldInt8(2,+e,0)}static endDictionaryBatch(t){return t.endObject()}};var ca;(function(r){r[r.NONE=0]="NONE",r[r.Schema=1]="Schema",r[r.DictionaryBatch=2]="DictionaryBatch",r[r.RecordBatch=3]="RecordBatch",r[r.Tensor=4]="Tensor",r[r.SparseTensor=5]="SparseTensor"})(ca||(ca={}));let Dn=class Cr{constructor(){this.bb=null,this.bb_pos=0}__init(t,e){return this.bb_pos=t,this.bb=e,this}static getRootAsMessage(t,e){return(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}static getSizePrefixedRootAsMessage(t,e){return t.setPosition(t.position()+$t),(e||new Cr).__init(t.readInt32(t.position())+t.position(),t)}version(){const t=this.bb.__offset(this.bb_pos,4);return t?this.bb.readInt16(this.bb_pos+t):Yi.V1}headerType(){const t=this.bb.__offset(this.bb_pos,6);return t?this.bb.readUint8(this.bb_pos+t):ca.NONE}header(t){const e=this.bb.__offset(this.bb_pos,8);return e?this.bb.__union(t,this.bb_pos+e):null}bodyLength(){const t=this.bb.__offset(this.bb_pos,10);return t?this.bb.readInt64(this.bb_pos+t):this.bb.createLong(0,0)}customMetadata(t,e){const n=this.bb.__offset(this.bb_pos,12);return n?(e||new se).__init(this.bb.__indirect(this.bb.__vector(this.bb_pos+n)+t*4),this.bb):null}customMetadataLength(){const t=this.bb.__offset(this.bb_pos,12);return t?this.bb.__vector_len(this.bb_pos+t):0}static startMessage(t){t.startObject(5)}static addVersion(t,e){t.addFieldInt16(0,e,Yi.V1)}static addHeaderType(t,e){t.addFieldInt8(1,e,ca.NONE)}static addHeader(t,e){t.addFieldOffset(2,e,0)}static addBodyLength(t,e){t.addFieldInt64(3,e,t.createLong(0,0))}static addCustomMetadata(t,e){t.addFieldOffset(4,e,0)}static createCustomMetadataVector(t,e){t.startVector(4,e.length,4);for(let n=e.length-1;n>=0;n--)t.addOffset(e[n]);return t.endVector()}static startCustomMetadataVector(t,e){t.startVector(4,e,4)}static endMessage(t){return t.endObject()}static finishMessageBuffer(t,e){t.finish(e)}static finishSizePrefixedMessageBuffer(t,e){t.finish(e,void 0,!0)}static createMessage(t,e,n,i,s,o){return Cr.startMessage(t),Cr.addVersion(t,e),Cr.addHeaderType(t,n),Cr.addHeader(t,i),Cr.addBodyLength(t,s),Cr.addCustomMetadata(t,o),Cr.endMessage(t)}};var CA=fn;class RA extends gt{visit(t,e){return t==null||e==null?void 0:super.visit(t,e)}visitNull(t,e){return ni.startNull(e),ni.endNull(e)}visitInt(t,e){return Ke.startInt(e),Ke.addBitWidth(e,t.bitWidth),Ke.addIsSigned(e,t.isSigned),Ke.endInt(e)}visitFloat(t,e){return Gr.startFloatingPoint(e),Gr.addPrecision(e,t.precision),Gr.endFloatingPoint(e)}visitBinary(t,e){return ti.startBinary(e),ti.endBinary(e)}visitBool(t,e){return ei.startBool(e),ei.endBool(e)}visitUtf8(t,e){return si.startUtf8(e),si.endUtf8(e)}visitDecimal(t,e){return Ne.startDecimal(e),Ne.addScale(e,t.scale),Ne.addPrecision(e,t.precision),Ne.addBitWidth(e,t.bitWidth),Ne.endDecimal(e)}visitDate(t,e){return Do.startDate(e),Do.addUnit(e,t.unit),Do.endDate(e)}visitTime(t,e){return or.startTime(e),or.addUnit(e,t.unit),or.addBitWidth(e,t.bitWidth),or.endTime(e)}visitTimestamp(t,e){const n=t.timezone&&e.createString(t.timezone)||void 0;return ar.startTimestamp(e),ar.addUnit(e,t.unit),n!==void 0&&ar.addTimezone(e,n),ar.endTimestamp(e)}visitInterval(t,e){return jr.startInterval(e),jr.addUnit(e,t.unit),jr.endInterval(e)}visitList(t,e){return ri.startList(e),ri.endList(e)}visitStruct(t,e){return ii.startStruct_(e),ii.endStruct_(e)}visitUnion(t,e){Me.startTypeIdsVector(e,t.typeIds.length);const n=Me.createTypeIdsVector(e,t.typeIds);return Me.startUnion(e),Me.addMode(e,t.mode),Me.addTypeIds(e,n),Me.endUnion(e)}visitDictionary(t,e){const n=this.visit(t.indices,e);return un.startDictionaryEncoding(e),un.addId(e,new CA(t.id,0)),un.addIsOrdered(e,t.isOrdered),n!==void 0&&un.addIndexType(e,n),un.endDictionaryEncoding(e)}visitFixedSizeBinary(t,e){return $r.startFixedSizeBinary(e),$r.addByteWidth(e,t.byteWidth),$r.endFixedSizeBinary(e)}visitFixedSizeList(t,e){return kr.startFixedSizeList(e),kr.addListSize(e,t.listSize),kr.endFixedSizeList(e)}visitMap(t,e){return Oo.startMap(e),Oo.addKeysSorted(e,t.keysSorted),Oo.endMap(e)}}const yc=new RA;function BA(r,t=new Map){return new Lt(NA(r,t),xo(r.customMetadata),t)}function by(r){return new Qe(r.count,_y(r.columns),wy(r.columns))}function PA(r){return new Jr(by(r.data),r.id,r.isDelta)}function NA(r,t){return(r.fields||[]).filter(Boolean).map(e=>zt.fromJSON(e,t))}function Jh(r,t){return(r.children||[]).filter(Boolean).map(e=>zt.fromJSON(e,t))}function _y(r){return(r||[]).reduce((t,e)=>[...t,new pi(e.count,MA(e.VALIDITY)),..._y(e.children)],[])}function wy(r,t=[]){for(let e=-1,n=(r||[]).length;++e<n;){const i=r[e];i.VALIDITY&&t.push(new Wr(t.length,i.VALIDITY.length)),i.TYPE&&t.push(new Wr(t.length,i.TYPE.length)),i.OFFSET&&t.push(new Wr(t.length,i.OFFSET.length)),i.DATA&&t.push(new Wr(t.length,i.DATA.length)),t=wy(i.children,t)}return t}function MA(r){return(r||[]).reduce((t,e)=>t+ +(e===0),0)}function UA(r,t){let e,n,i,s,o,a;return!t||!(s=r.dictionary)?(o=Qh(r,Jh(r,t)),i=new zt(r.name,o,r.nullable,xo(r.customMetadata))):t.has(e=s.id)?(n=(n=s.indexType)?Xh(n):new Ms,a=new Wi(t.get(e),n,e,s.isOrdered),i=new zt(r.name,a,r.nullable,xo(r.customMetadata))):(n=(n=s.indexType)?Xh(n):new Ms,t.set(e,o=Qh(r,Jh(r,t))),a=new Wi(o,n,e,s.isOrdered),i=new zt(r.name,a,r.nullable,xo(r.customMetadata))),i||null}function xo(r){return new Map(Object.entries(r||{}))}function Xh(r){return new kn(r.isSigned,r.bitWidth)}function Qh(r,t){const e=r.type.name;switch(e){case"NONE":return new $n;case"null":return new $n;case"binary":return new Uo;case"utf8":return new $o;case"bool":return new ko;case"list":return new Wo((t||[])[0]);case"struct":return new Fe(t||[]);case"struct_":return new Fe(t||[])}switch(e){case"int":{const n=r.type;return new kn(n.isSigned,n.bitWidth)}case"floatingpoint":{const n=r.type;return new Us(Ge[n.precision])}case"decimal":{const n=r.type;return new Go(n.scale,n.precision,n.bitWidth)}case"date":{const n=r.type;return new jo(yn[n.unit])}case"time":{const n=r.type;return new $s(Dt[n.unit],n.bitWidth)}case"timestamp":{const n=r.type;return new zo(Dt[n.unit],n.timezone)}case"interval":{const n=r.type;return new Vo(Un[n.unit])}case"union":{const n=r.type;return new Ho(Xe[n.mode],n.typeIds||[],t||[])}case"fixedsizebinary":{const n=r.type;return new Yo(n.byteWidth)}case"fixedsizelist":{const n=r.type;return new qo(n.listSize,(t||[])[0])}case"map":{const n=r.type;return new Ko((t||[])[0],n.keysSorted)}}throw new Error(`Unrecognized type: "${e}"`)}var di=fn,$A=uy,kA=Hi;class xe{constructor(t,e,n,i){this._version=e,this._headerType=n,this.body=new Uint8Array(0),i&&(this._createHeader=()=>i),this._bodyLength=typeof t=="number"?t:t.low}static fromJSON(t,e){const n=new xe(0,Ze.V4,e);return n._createHeader=GA(t,e),n}static decode(t){t=new kA(It(t));const e=Dn.getRootAsMessage(t),n=e.bodyLength(),i=e.version(),s=e.headerType(),o=new xe(n,i,s);return o._createHeader=jA(e,s),o}static encode(t){const e=new $A;let n=-1;return t.isSchema()?n=Lt.encode(e,t.header()):t.isRecordBatch()?n=Qe.encode(e,t.header()):t.isDictionaryBatch()&&(n=Jr.encode(e,t.header())),Dn.startMessage(e),Dn.addVersion(e,Ze.V4),Dn.addHeader(e,n),Dn.addHeaderType(e,t.headerType),Dn.addBodyLength(e,new di(t.bodyLength,0)),Dn.finishMessageBuffer(e,Dn.endMessage(e)),e.asUint8Array()}static from(t,e=0){if(t instanceof Lt)return new xe(0,Ze.V4,Ft.Schema,t);if(t instanceof Qe)return new xe(e,Ze.V4,Ft.RecordBatch,t);if(t instanceof Jr)return new xe(e,Ze.V4,Ft.DictionaryBatch,t);throw new Error(`Unrecognized Message header: ${t}`)}get type(){return this.headerType}get version(){return this._version}get headerType(){return this._headerType}get bodyLength(){return this._bodyLength}header(){return this._createHeader()}isSchema(){return this.headerType===Ft.Schema}isRecordBatch(){return this.headerType===Ft.RecordBatch}isDictionaryBatch(){return this.headerType===Ft.DictionaryBatch}}class Qe{constructor(t,e,n){this._nodes=e,this._buffers=n,this._length=typeof t=="number"?t:t.low}get nodes(){return this._nodes}get length(){return this._length}get buffers(){return this._buffers}}class Jr{constructor(t,e,n=!1){this._data=t,this._isDelta=n,this._id=typeof e=="number"?e:e.low}get id(){return this._id}get data(){return this._data}get isDelta(){return this._isDelta}get length(){return this.data.length}get nodes(){return this.data.nodes}get buffers(){return this.data.buffers}}class Wr{constructor(t,e){this.offset=typeof t=="number"?t:t.low,this.length=typeof e=="number"?e:e.low}}class pi{constructor(t,e){this.length=typeof t=="number"?t:t.low,this.nullCount=typeof e=="number"?e:e.low}}function GA(r,t){return()=>{switch(t){case Ft.Schema:return Lt.fromJSON(r);case Ft.RecordBatch:return Qe.fromJSON(r);case Ft.DictionaryBatch:return Jr.fromJSON(r)}throw new Error(`Unrecognized Message type: { name: ${Ft[t]}, type: ${t} }`)}}function jA(r,t){return()=>{switch(t){case Ft.Schema:return Lt.decode(r.header(new Rr));case Ft.RecordBatch:return Qe.decode(r.header(new cn),r.version());case Ft.DictionaryBatch:return Jr.decode(r.header(new wi),r.version())}throw new Error(`Unrecognized Message type: { name: ${Ft[t]}, type: ${t} }`)}}zt.encode=QA;zt.decode=JA;zt.fromJSON=UA;Lt.encode=XA;Lt.decode=zA;Lt.fromJSON=BA;Qe.encode=tI;Qe.decode=VA;Qe.fromJSON=by;Jr.encode=eI;Jr.decode=WA;Jr.fromJSON=PA;pi.encode=rI;pi.decode=YA;Wr.encode=nI;Wr.decode=HA;function zA(r,t=new Map){const e=ZA(r,t);return new Lt(e,Lo(r),t)}function VA(r,t=Ze.V4){if(r.compression()!==null)throw new Error("Record batch compression not implemented");return new Qe(r.length(),qA(r),KA(r,t))}function WA(r,t=Ze.V4){return new Jr(Qe.decode(r.data(),t),r.id(),r.isDelta())}function HA(r){return new Wr(r.offset(),r.length())}function YA(r){return new pi(r.length(),r.nullCount())}function qA(r){const t=[];for(let e,n=-1,i=-1,s=r.nodesLength();++n<s;)(e=r.nodes(n))&&(t[++i]=pi.decode(e));return t}function KA(r,t){const e=[];for(let n,i=-1,s=-1,o=r.buffersLength();++i<o;)(n=r.buffers(i))&&(t<Ze.V4&&(n.bb_pos+=8*(i+1)),e[++s]=Wr.decode(n));return e}function ZA(r,t){const e=[];for(let n,i=-1,s=-1,o=r.fieldsLength();++i<o;)(n=r.fields(i))&&(e[++s]=zt.decode(n,t));return e}function td(r,t){const e=[];for(let n,i=-1,s=-1,o=r.childrenLength();++i<o;)(n=r.children(i))&&(e[++s]=zt.decode(n,t));return e}function JA(r,t){let e,n,i,s,o,a;return!t||!(a=r.dictionary())?(i=rd(r,td(r,t)),n=new zt(r.name(),i,r.nullable(),Lo(r))):t.has(e=a.id().low)?(s=(s=a.indexType())?ed(s):new Ms,o=new Wi(t.get(e),s,e,a.isOrdered()),n=new zt(r.name(),o,r.nullable(),Lo(r))):(s=(s=a.indexType())?ed(s):new Ms,t.set(e,i=rd(r,td(r,t))),o=new Wi(i,s,e,a.isOrdered()),n=new zt(r.name(),o,r.nullable(),Lo(r))),n||null}function Lo(r){const t=new Map;if(r)for(let e,n,i=-1,s=Math.trunc(r.customMetadataLength());++i<s;)(e=r.customMetadata(i))&&(n=e.key())!=null&&t.set(n,e.value());return t}function ed(r){return new kn(r.isSigned(),r.bitWidth())}function rd(r,t){const e=r.typeType();switch(e){case Kt.NONE:return new $n;case Kt.Null:return new $n;case Kt.Binary:return new Uo;case Kt.Utf8:return new $o;case Kt.Bool:return new ko;case Kt.List:return new Wo((t||[])[0]);case Kt.Struct_:return new Fe(t||[])}switch(e){case Kt.Int:{const n=r.type(new Ke);return new kn(n.isSigned(),n.bitWidth())}case Kt.FloatingPoint:{const n=r.type(new Gr);return new Us(n.precision())}case Kt.Decimal:{const n=r.type(new Ne);return new Go(n.scale(),n.precision(),n.bitWidth())}case Kt.Date:{const n=r.type(new Do);return new jo(n.unit())}case Kt.Time:{const n=r.type(new or);return new $s(n.unit(),n.bitWidth())}case Kt.Timestamp:{const n=r.type(new ar);return new zo(n.unit(),n.timezone())}case Kt.Interval:{const n=r.type(new jr);return new Vo(n.unit())}case Kt.Union:{const n=r.type(new Me);return new Ho(n.mode(),n.typeIdsArray()||[],t||[])}case Kt.FixedSizeBinary:{const n=r.type(new $r);return new Yo(n.byteWidth())}case Kt.FixedSizeList:{const n=r.type(new kr);return new qo(n.listSize(),(t||[])[0])}case Kt.Map:{const n=r.type(new Oo);return new Ko((t||[])[0],n.keysSorted())}}throw new Error(`Unrecognized type: "${Kt[e]}" (${e})`)}function XA(r,t){const e=t.fields.map(s=>zt.encode(r,s));Rr.startFieldsVector(r,e.length);const n=Rr.createFieldsVector(r,e),i=t.metadata&&t.metadata.size>0?Rr.createCustomMetadataVector(r,[...t.metadata].map(([s,o])=>{const a=r.createString(`${s}`),c=r.createString(`${o}`);return se.startKeyValue(r),se.addKey(r,a),se.addValue(r,c),se.endKeyValue(r)})):-1;return Rr.startSchema(r),Rr.addFields(r,n),Rr.addEndianness(r,iI?qi.Little:qi.Big),i!==-1&&Rr.addCustomMetadata(r,i),Rr.endSchema(r)}function QA(r,t){let e=-1,n=-1,i=-1;const s=t.type;let o=t.typeId;Q.isDictionary(s)?(o=s.dictionary.typeId,i=yc.visit(s,r),n=yc.visit(s.dictionary,r)):n=yc.visit(s,r);const a=(s.children||[]).map(u=>zt.encode(r,u)),c=nr.createChildrenVector(r,a),l=t.metadata&&t.metadata.size>0?nr.createCustomMetadataVector(r,[...t.metadata].map(([u,h])=>{const d=r.createString(`${u}`),f=r.createString(`${h}`);return se.startKeyValue(r),se.addKey(r,d),se.addValue(r,f),se.endKeyValue(r)})):-1;return t.name&&(e=r.createString(t.name)),nr.startField(r),nr.addType(r,n),nr.addTypeType(r,o),nr.addChildren(r,c),nr.addNullable(r,!!t.nullable),e!==-1&&nr.addName(r,e),i!==-1&&nr.addDictionary(r,i),l!==-1&&nr.addCustomMetadata(r,l),nr.endField(r)}function tI(r,t){const e=t.nodes||[],n=t.buffers||[];cn.startNodesVector(r,e.length);for(const o of e.slice().reverse())pi.encode(r,o);const i=r.endVector();cn.startBuffersVector(r,n.length);for(const o of n.slice().reverse())Wr.encode(r,o);const s=r.endVector();return cn.startRecordBatch(r),cn.addLength(r,new di(t.length,0)),cn.addNodes(r,i),cn.addBuffers(r,s),cn.endRecordBatch(r)}function eI(r,t){const e=Qe.encode(r,t.data);return wi.startDictionaryBatch(r),wi.addId(r,new di(t.id,0)),wi.addIsDelta(r,t.isDelta),wi.addData(r,e),wi.endDictionaryBatch(r)}function rI(r,t){return vy.createFieldNode(r,new di(t.length,0),new di(t.nullCount,0))}function nI(r,t){return my.createBuffer(r,new di(t.offset,0),new di(t.length,0))}const iI=(()=>{const r=new ArrayBuffer(2);return new DataView(r).setInt16(0,256,!0),new Int16Array(r)[0]===256})(),pu=r=>`Expected ${Ft[r]} Message in stream, but was null or length 0.`,gu=r=>`Header pointer of flatbuffer-encoded ${Ft[r]} Message is null or length 0.`,Sy=(r,t)=>`Expected to read ${r} metadata bytes, but only read ${t}.`,Ey=(r,t)=>`Expected to read ${r} bytes for message body, but only read ${t}.`;class Ay{constructor(t){this.source=t instanceof ia?t:new ia(t)}[Symbol.iterator](){return this}next(){let t;return(t=this.readMetadataLength()).done||t.value===-1&&(t=this.readMetadataLength()).done||(t=this.readMetadata(t.value)).done?Zt:t}throw(t){return this.source.throw(t)}return(t){return this.source.return(t)}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(pu(t));return e.value}readMessageBody(t){if(t<=0)return new Uint8Array(0);const e=It(this.source.read(t));if(e.byteLength<t)throw new Error(Ey(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()}readSchema(t=!1){const e=Ft.Schema,n=this.readMessage(e),i=n==null?void 0:n.header();if(t&&!i)throw new Error(gu(e));return i}readMetadataLength(){const t=this.source.read(Ka),e=t&&new Hi(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}}readMetadata(t){const e=this.source.read(t);if(!e)return Zt;if(e.byteLength<t)throw new Error(Sy(t,e.byteLength));return{done:!1,value:xe.decode(e)}}}class sI{constructor(t,e){this.source=t instanceof Zi?t:Wp(t)?new sa(t,e):new Zi(t)}[Symbol.asyncIterator](){return this}next(){return X(this,void 0,void 0,function*(){let t;return(t=yield this.readMetadataLength()).done||t.value===-1&&(t=yield this.readMetadataLength()).done||(t=yield this.readMetadata(t.value)).done?Zt:t})}throw(t){return X(this,void 0,void 0,function*(){return yield this.source.throw(t)})}return(t){return X(this,void 0,void 0,function*(){return yield this.source.return(t)})}readMessage(t){return X(this,void 0,void 0,function*(){let e;if((e=yield this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(pu(t));return e.value})}readMessageBody(t){return X(this,void 0,void 0,function*(){if(t<=0)return new Uint8Array(0);const e=It(yield this.source.read(t));if(e.byteLength<t)throw new Error(Ey(t,e.byteLength));return e.byteOffset%8===0&&e.byteOffset+e.byteLength<=e.buffer.byteLength?e:e.slice()})}readSchema(t=!1){return X(this,void 0,void 0,function*(){const e=Ft.Schema,n=yield this.readMessage(e),i=n==null?void 0:n.header();if(t&&!i)throw new Error(gu(e));return i})}readMetadataLength(){return X(this,void 0,void 0,function*(){const t=yield this.source.read(Ka),e=t&&new Hi(t),n=(e==null?void 0:e.readInt32(0))||0;return{done:n===0,value:n}})}readMetadata(t){return X(this,void 0,void 0,function*(){const e=yield this.source.read(t);if(!e)return Zt;if(e.byteLength<t)throw new Error(Sy(t,e.byteLength));return{done:!1,value:xe.decode(e)}})}}class oI extends Ay{constructor(t){super(new Uint8Array(0)),this._schema=!1,this._body=[],this._batchIndex=0,this._dictionaryIndex=0,this._json=t instanceof qh?t:new qh(t)}next(){const{_json:t}=this;if(!this._schema)return this._schema=!0,{done:!1,value:xe.fromJSON(t.schema,Ft.Schema)};if(this._dictionaryIndex<t.dictionaries.length){const e=t.dictionaries[this._dictionaryIndex++];return this._body=e.data.columns,{done:!1,value:xe.fromJSON(e,Ft.DictionaryBatch)}}if(this._batchIndex<t.batches.length){const e=t.batches[this._batchIndex++];return this._body=e.columns,{done:!1,value:xe.fromJSON(e,Ft.RecordBatch)}}return this._body=[],Zt}readMessageBody(t){return e(this._body);function e(n){return(n||[]).reduce((i,s)=>[...i,...s.VALIDITY&&[s.VALIDITY]||[],...s.TYPE&&[s.TYPE]||[],...s.OFFSET&&[s.OFFSET]||[],...s.DATA&&[s.DATA]||[],...e(s.children)],[])}}readMessage(t){let e;if((e=this.next()).done)return null;if(t!=null&&e.value.headerType!==t)throw new Error(pu(t));return e.value}readSchema(){const t=Ft.Schema,e=this.readMessage(t),n=e==null?void 0:e.header();if(!e||!n)throw new Error(gu(t));return n}}const Ka=4,Jc="ARROW1",Gs=new Uint8Array(Jc.length);for(let r=0;r<Jc.length;r+=1)Gs[r]=Jc.codePointAt(r);function yu(r,t=0){for(let e=-1,n=Gs.length;++e<n;)if(Gs[e]!==r[t+e])return!1;return!0}const Xs=Gs.length,Iy=Xs+Ka,aI=Xs*2+Ka;class pn extends cu{constructor(t){super(),this._impl=t}get closed(){return this._impl.closed}get schema(){return this._impl.schema}get autoDestroy(){return this._impl.autoDestroy}get dictionaries(){return this._impl.dictionaries}get numDictionaries(){return this._impl.numDictionaries}get numRecordBatches(){return this._impl.numRecordBatches}get footer(){return this._impl.isFile()?this._impl.footer:null}isSync(){return this._impl.isSync()}isAsync(){return this._impl.isAsync()}isFile(){return this._impl.isFile()}isStream(){return this._impl.isStream()}next(){return this._impl.next()}throw(t){return this._impl.throw(t)}return(t){return this._impl.return(t)}cancel(){return this._impl.cancel()}reset(t){return this._impl.reset(t),this._DOMStream=void 0,this._nodeStream=void 0,this}open(t){const e=this._impl.open(t);return Mn(e)?e.then(()=>this):this}readRecordBatch(t){return this._impl.isFile()?this._impl.readRecordBatch(t):null}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}toDOMStream(){return ir.toDOMStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this})}toNodeStream(){return ir.toNodeStream(this.isSync()?{[Symbol.iterator]:()=>this}:{[Symbol.asyncIterator]:()=>this},{objectMode:!0})}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}static from(t){return t instanceof pn?t:kc(t)?hI(t):Wp(t)?pI(t):Mn(t)?X(this,void 0,void 0,function*(){return yield pn.from(yield t)}):Hp(t)||ql(t)||Yp(t)||cs(t)?fI(new Zi(t)):dI(new ia(t))}static readAll(t){return t instanceof pn?t.isSync()?nd(t):id(t):kc(t)||ArrayBuffer.isView(t)||qs(t)||Vp(t)?nd(t):id(t)}}class la extends pn{constructor(t){super(t),this._impl=t}readAll(){return[...this]}[Symbol.iterator](){return this._impl[Symbol.iterator]()}[Symbol.asyncIterator](){return Vr(this,arguments,function*(){yield ut(yield*Io(ci(this[Symbol.iterator]())))})}}class ua extends pn{constructor(t){super(t),this._impl=t}readAll(){var t,e;return X(this,void 0,void 0,function*(){const n=new Array;try{for(var i=ci(this),s;s=yield i.next(),!s.done;){const o=s.value;n.push(o)}}catch(o){t={error:o}}finally{try{s&&!s.done&&(e=i.return)&&(yield e.call(i))}finally{if(t)throw t.error}}return n})}[Symbol.iterator](){throw new Error("AsyncRecordBatchStreamReader is not Iterable")}[Symbol.asyncIterator](){return this._impl[Symbol.asyncIterator]()}}class Dy extends la{constructor(t){super(t),this._impl=t}}class cI extends ua{constructor(t){super(t),this._impl=t}}class Oy{constructor(t=new Map){this.closed=!1,this.autoDestroy=!0,this._dictionaryIndex=0,this._recordBatchIndex=0,this.dictionaries=t}get numDictionaries(){return this._dictionaryIndex}get numRecordBatches(){return this._recordBatchIndex}isSync(){return!1}isAsync(){return!1}isFile(){return!1}isStream(){return!1}reset(t){return this._dictionaryIndex=0,this._recordBatchIndex=0,this.schema=t,this.dictionaries=new Map,this}_loadRecordBatch(t,e){const n=this._loadVectors(t,e,this.schema.fields),i=pt({type:new Fe(this.schema.fields),length:t.length,children:n});return new Ue(this.schema,i)}_loadDictionaryBatch(t,e){const{id:n,isDelta:i}=t,{dictionaries:s,schema:o}=this,a=s.get(n);if(i||!a){const c=o.dictionaries.get(n),l=this._loadVectors(t.data,e,[c]);return(a&&i?a.concat(new xt(l)):new xt(l)).memoize()}return a.memoize()}_loadVectors(t,e,n){return new fy(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}class ha extends Oy{constructor(t,e){super(e),this._reader=kc(t)?new oI(this._handle=t):new Ay(this._handle=t)}isSync(){return!0}isStream(){return!0}[Symbol.iterator](){return this}cancel(){!this.closed&&(this.closed=!0)&&(this.reset()._reader.return(),this._reader=null,this.dictionaries=null)}open(t){return this.closed||(this.autoDestroy=Fy(this,t),this.schema||(this.schema=this._reader.readSchema())||this.cancel()),this}throw(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.throw(t):Zt}return(t){return!this.closed&&this.autoDestroy&&(this.closed=!0)?this.reset()._reader.return(t):Zt}next(){if(this.closed)return Zt;let t;const{_reader:e}=this;for(;t=this._readNextMessageAndValidate();)if(t.isSchema())this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),i=e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),i=e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new fu(this.schema)}):this.return()}_readNextMessageAndValidate(t){return this._reader.readMessage(t)}}class da extends Oy{constructor(t,e){super(e),this._reader=new sI(this._handle=t)}isAsync(){return!0}isStream(){return!0}[Symbol.asyncIterator](){return this}cancel(){return X(this,void 0,void 0,function*(){!this.closed&&(this.closed=!0)&&(yield this.reset()._reader.return(),this._reader=null,this.dictionaries=null)})}open(t){return X(this,void 0,void 0,function*(){return this.closed||(this.autoDestroy=Fy(this,t),this.schema||(this.schema=yield this._reader.readSchema())||(yield this.cancel())),this})}throw(t){return X(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.throw(t):Zt})}return(t){return X(this,void 0,void 0,function*(){return!this.closed&&this.autoDestroy&&(this.closed=!0)?yield this.reset()._reader.return(t):Zt})}next(){return X(this,void 0,void 0,function*(){if(this.closed)return Zt;let t;const{_reader:e}=this;for(;t=yield this._readNextMessageAndValidate();)if(t.isSchema())yield this.reset(t.header());else if(t.isRecordBatch()){this._recordBatchIndex++;const n=t.header(),i=yield e.readMessageBody(t.bodyLength);return{done:!1,value:this._loadRecordBatch(n,i)}}else if(t.isDictionaryBatch()){this._dictionaryIndex++;const n=t.header(),i=yield e.readMessageBody(t.bodyLength),s=this._loadDictionaryBatch(n,i);this.dictionaries.set(n.id,s)}return this.schema&&this._recordBatchIndex===0?(this._recordBatchIndex++,{done:!1,value:new fu(this.schema)}):yield this.return()})}_readNextMessageAndValidate(t){return X(this,void 0,void 0,function*(){return yield this._reader.readMessage(t)})}}class Ty extends ha{constructor(t,e){super(t instanceof Kh?t:new Kh(t),e)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isSync(){return!0}isFile(){return!0}open(t){if(!this.closed&&!this._footer){this.schema=(this._footer=this._readFooter()).schema;for(const e of this._footer.dictionaryBatches())e&&this._readDictionaryBatch(this._dictionaryIndex++)}return super.open(t)}readRecordBatch(t){var e;if(this.closed)return null;this._footer||this.open();const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&this._handle.seek(n.offset)){const i=this._reader.readMessage(Ft.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null}_readDictionaryBatch(t){var e;const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&this._handle.seek(n.offset)){const i=this._reader.readMessage(Ft.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}}_readFooter(){const{_handle:t}=this,e=t.size-Iy,n=t.readInt32(e),i=t.readAt(e-n,n);return ks.decode(i)}_readNextMessageAndValidate(t){var e;if(this._footer||this.open(),this._footer&&this._recordBatchIndex<this.numRecordBatches){const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(this._recordBatchIndex);if(n&&this._handle.seek(n.offset))return this._reader.readMessage(t)}return null}}class lI extends da{constructor(t,...e){const n=typeof e[0]!="number"?e.shift():void 0,i=e[0]instanceof Map?e.shift():void 0;super(t instanceof sa?t:new sa(t,n),i)}get footer(){return this._footer}get numDictionaries(){return this._footer?this._footer.numDictionaries:0}get numRecordBatches(){return this._footer?this._footer.numRecordBatches:0}isFile(){return!0}isAsync(){return!0}open(t){const e=Object.create(null,{open:{get:()=>super.open}});return X(this,void 0,void 0,function*(){if(!this.closed&&!this._footer){this.schema=(this._footer=yield this._readFooter()).schema;for(const n of this._footer.dictionaryBatches())n&&(yield this._readDictionaryBatch(this._dictionaryIndex++))}return yield e.open.call(this,t)})}readRecordBatch(t){var e;return X(this,void 0,void 0,function*(){if(this.closed)return null;this._footer||(yield this.open());const n=(e=this._footer)===null||e===void 0?void 0:e.getRecordBatch(t);if(n&&(yield this._handle.seek(n.offset))){const i=yield this._reader.readMessage(Ft.RecordBatch);if(i!=null&&i.isRecordBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength);return this._loadRecordBatch(s,o)}}return null})}_readDictionaryBatch(t){var e;return X(this,void 0,void 0,function*(){const n=(e=this._footer)===null||e===void 0?void 0:e.getDictionaryBatch(t);if(n&&(yield this._handle.seek(n.offset))){const i=yield this._reader.readMessage(Ft.DictionaryBatch);if(i!=null&&i.isDictionaryBatch()){const s=i.header(),o=yield this._reader.readMessageBody(i.bodyLength),a=this._loadDictionaryBatch(s,o);this.dictionaries.set(s.id,a)}}})}_readFooter(){return X(this,void 0,void 0,function*(){const{_handle:t}=this;t._pending&&(yield t._pending);const e=t.size-Iy,n=yield t.readInt32(e),i=yield t.readAt(e-n,n);return ks.decode(i)})}_readNextMessageAndValidate(t){return X(this,void 0,void 0,function*(){if(this._footer||(yield this.open()),this._footer&&this._recordBatchIndex<this.numRecordBatches){const e=this._footer.getRecordBatch(this._recordBatchIndex);if(e&&(yield this._handle.seek(e.offset)))return yield this._reader.readMessage(t)}return null})}}class uI extends ha{constructor(t,e){super(t,e)}_loadVectors(t,e,n){return new SA(e,t.nodes,t.buffers,this.dictionaries).visitMany(n)}}function Fy(r,t){return t&&typeof t.autoDestroy=="boolean"?t.autoDestroy:r.autoDestroy}function*nd(r){const t=pn.from(r);try{if(!t.open({autoDestroy:!1}).closed)do yield t;while(!t.reset().open().closed)}finally{t.cancel()}}function id(r){return Vr(this,arguments,function*(){const e=yield ut(pn.from(r));try{if(!(yield ut(e.open({autoDestroy:!1}))).closed)do yield yield ut(e);while(!(yield ut(e.reset().open())).closed)}finally{yield ut(e.cancel())}})}function hI(r){return new la(new uI(r))}function dI(r){const t=r.peek(Xs+7&-8);return t&&t.byteLength>=4?yu(t)?new Dy(new Ty(r.read())):new la(new ha(r)):new la(new ha(function*(){}()))}function fI(r){return X(this,void 0,void 0,function*(){const t=yield r.peek(Xs+7&-8);return t&&t.byteLength>=4?yu(t)?new Dy(new Ty(yield r.read())):new ua(new da(r)):new ua(new da(function(){return Vr(this,arguments,function*(){})}()))})}function pI(r){return X(this,void 0,void 0,function*(){const{size:t}=yield r.stat(),e=new sa(r,t);return t>=aI&&yu(yield e.readAt(0,Xs+7&-8))?new cI(new lI(e)):new ua(new da(e))})}class re extends gt{constructor(){super(),this._byteLength=0,this._nodes=[],this._buffers=[],this._bufferRegions=[]}static assemble(...t){const e=i=>i.flatMap(s=>Array.isArray(s)?e(s):s instanceof Ue?s.data.children:s.data),n=new re;return n.visitMany(e(t)),n}visit(t){if(t instanceof xt)return this.visitMany(t.data),this;const{type:e}=t;if(!Q.isDictionary(e)){const{length:n,nullCount:i}=t;if(n>2147483647)throw new RangeError("Cannot write arrays larger than 2^31 - 1 in length");Q.isNull(e)||Sr.call(this,i<=0?new Uint8Array(0):nu(t.offset,n,t.nullBitmap)),this.nodes.push(new pi(n,i))}return super.visit(t)}visitNull(t){return this}visitDictionary(t){return this.visit(t.clone(t.type.indices))}get nodes(){return this._nodes}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get bufferRegions(){return this._bufferRegions}}function Sr(r){const t=r.byteLength+7&-8;return this.buffers.push(r),this.bufferRegions.push(new Wr(this._byteLength,t)),this._byteLength+=t,this}function gI(r){const{type:t,length:e,typeIds:n,valueOffsets:i}=r;if(Sr.call(this,n),t.mode===Xe.Sparse)return Xc.call(this,r);if(t.mode===Xe.Dense){if(r.offset<=0)return Sr.call(this,i),Xc.call(this,r);{const s=n.reduce((u,h)=>Math.max(u,h),n[0]),o=new Int32Array(s+1),a=new Int32Array(s+1).fill(-1),c=new Int32Array(e),l=Zl(-i[0],e,i);for(let u,h,d=-1;++d<e;)(h=a[u=n[d]])===-1&&(h=a[u]=l[u]),c[d]=l[d]-h,++o[u];Sr.call(this,c);for(let u,h=-1,d=t.children.length;++h<d;)if(u=r.children[h]){const f=t.typeIds[h],m=Math.min(e,o[f]);this.visit(u.slice(a[f],m))}}}return this}function yI(r){let t;return r.nullCount>=r.length?Sr.call(this,new Uint8Array(0)):(t=r.values)instanceof Uint8Array?Sr.call(this,nu(r.offset,r.length,t)):Sr.call(this,Zo(r.values))}function Hn(r){return Sr.call(this,r.values.subarray(0,r.length*r.stride))}function xy(r){const{length:t,values:e,valueOffsets:n}=r,i=n[0],s=n[t],o=Math.min(s-i,e.byteLength-i);return Sr.call(this,Zl(-n[0],t,n)),Sr.call(this,e.subarray(i,i+o)),this}function mu(r){const{length:t,valueOffsets:e}=r;return e&&Sr.call(this,Zl(e[0],t,e)),this.visit(r.children[0])}function Xc(r){return this.visitMany(r.type.children.map((t,e)=>r.children[e]).filter(Boolean))[0]}re.prototype.visitBool=yI;re.prototype.visitInt=Hn;re.prototype.visitFloat=Hn;re.prototype.visitUtf8=xy;re.prototype.visitBinary=xy;re.prototype.visitFixedSizeBinary=Hn;re.prototype.visitDate=Hn;re.prototype.visitTimestamp=Hn;re.prototype.visitTime=Hn;re.prototype.visitDecimal=Hn;re.prototype.visitList=mu;re.prototype.visitStruct=Xc;re.prototype.visitUnion=gI;re.prototype.visitInterval=Hn;re.prototype.visitFixedSizeList=mu;re.prototype.visitMap=mu;class Ly extends cu{constructor(t){super(),this._position=0,this._started=!1,this._sink=new Fo,this._schema=null,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,Ve(t)||(t={autoDestroy:!0,writeLegacyIpcFormat:!1}),this._autoDestroy=typeof t.autoDestroy=="boolean"?t.autoDestroy:!0,this._writeLegacyIpcFormat=typeof t.writeLegacyIpcFormat=="boolean"?t.writeLegacyIpcFormat:!1}static throughNode(t){throw new Error('"throughNode" not available in this environment')}static throughDOM(t,e){throw new Error('"throughDOM" not available in this environment')}toString(t=!1){return this._sink.toString(t)}toUint8Array(t=!1){return this._sink.toUint8Array(t)}writeAll(t){return Mn(t)?t.then(e=>this.writeAll(e)):cs(t)?wu(this,t):_u(this,t)}get closed(){return this._sink.closed}[Symbol.asyncIterator](){return this._sink[Symbol.asyncIterator]()}toDOMStream(t){return this._sink.toDOMStream(t)}toNodeStream(t){return this._sink.toNodeStream(t)}close(){return this.reset()._sink.close()}abort(t){return this.reset()._sink.abort(t)}finish(){return this._autoDestroy?this.close():this.reset(this._sink,this._schema),this}reset(t=this._sink,e=null){return t===this._sink||t instanceof Fo?this._sink=t:(this._sink=new Fo,t&&ME(t)?this.toDOMStream({type:"bytes"}).pipeTo(t):t&&UE(t)&&this.toNodeStream({objectMode:!1}).pipe(t)),this._started&&this._schema&&this._writeFooter(this._schema),this._started=!1,this._dictionaryBlocks=[],this._recordBatchBlocks=[],this._dictionaryDeltaOffsets=new Map,(!e||!qc(e,this._schema))&&(e==null?(this._position=0,this._schema=null):(this._started=!0,this._schema=e,this._writeSchema(e))),this}write(t){let e=null;if(this._sink){if(t==null)return this.finish()&&void 0;if(t instanceof Ae&&!(e=t.schema))return this.finish()&&void 0;if(t instanceof Ue&&!(e=t.schema))return this.finish()&&void 0}else throw new Error("RecordBatchWriter is closed");if(e&&!qc(e,this._schema)){if(this._started&&this._autoDestroy)return this.close();this.reset(this._sink,e)}t instanceof Ue?t instanceof fu||this._writeRecordBatch(t):t instanceof Ae?this.writeAll(t.batches):qs(t)&&this.writeAll(t)}_writeMessage(t,e=8){const n=e-1,i=xe.encode(t),s=i.byteLength,o=this._writeLegacyIpcFormat?4:8,a=s+o+n&~n,c=a-s-o;return t.headerType===Ft.RecordBatch?this._recordBatchBlocks.push(new Gn(a,t.bodyLength,this._position)):t.headerType===Ft.DictionaryBatch&&this._dictionaryBlocks.push(new Gn(a,t.bodyLength,this._position)),this._writeLegacyIpcFormat||this._write(Int32Array.of(-1)),this._write(Int32Array.of(a-o)),s>0&&this._write(i),this._writePadding(c)}_write(t){if(this._started){const e=It(t);e&&e.byteLength>0&&(this._sink.write(e),this._position+=e.byteLength)}return this}_writeSchema(t){return this._writeMessage(xe.from(t))}_writeFooter(t){return this._writeLegacyIpcFormat?this._write(Int32Array.of(0)):this._write(Int32Array.of(-1,0))}_writeMagic(){return this._write(Gs)}_writePadding(t){return t>0?this._write(new Uint8Array(t)):this}_writeRecordBatch(t){const{byteLength:e,nodes:n,bufferRegions:i,buffers:s}=re.assemble(t),o=new Qe(t.numRows,n,i),a=xe.from(o,e);return this._writeDictionaries(t)._writeMessage(a)._writeBodyBuffers(s)}_writeDictionaryBatch(t,e,n=!1){this._dictionaryDeltaOffsets.set(e,t.length+(this._dictionaryDeltaOffsets.get(e)||0));const{byteLength:i,nodes:s,bufferRegions:o,buffers:a}=re.assemble(new xt([t])),c=new Qe(t.length,s,o),l=new Jr(c,e,n),u=xe.from(l,i);return this._writeMessage(u)._writeBodyBuffers(a)}_writeBodyBuffers(t){let e,n,i;for(let s=-1,o=t.length;++s<o;)(e=t[s])&&(n=e.byteLength)>0&&(this._write(e),(i=(n+7&-8)-n)>0&&this._writePadding(i));return this}_writeDictionaries(t){for(let[e,n]of t.dictionaries){let i=this._dictionaryDeltaOffsets.get(e)||0;if(i===0||(n=n==null?void 0:n.slice(i)).length>0)for(const s of n.data)this._writeDictionaryBatch(s,e,i>0),i+=s.length}return this}}class vu extends Ly{static writeAll(t,e){const n=new vu(e);return Mn(t)?t.then(i=>n.writeAll(i)):cs(t)?wu(n,t):_u(n,t)}}class bu extends Ly{static writeAll(t){const e=new bu;return Mn(t)?t.then(n=>e.writeAll(n)):cs(t)?wu(e,t):_u(e,t)}constructor(){super(),this._autoDestroy=!0}_writeSchema(t){return this._writeMagic()._writePadding(2)}_writeFooter(t){const e=ks.encode(new ks(t,Ze.V4,this._recordBatchBlocks,this._dictionaryBlocks));return super._writeFooter(t)._write(e)._write(Int32Array.of(e.byteLength))._writeMagic()}}function _u(r,t){let e=t;t instanceof Ae&&(e=t.batches,r.reset(void 0,t.schema));for(const n of e)r.write(n);return r.finish()}function wu(r,t){var e,n,i,s;return X(this,void 0,void 0,function*(){try{for(e=ci(t);n=yield e.next(),!n.done;){const o=n.value;r.write(o)}}catch(o){i={error:o}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(i)throw i.error}}return r.finish()})}function Ss(r){const t=pn.from(r);return Mn(t)?t.then(e=>Ss(e)):t.isAsync()?t.readAll().then(e=>new Ae(e)):new Ae(t.readAll())}function mc(r,t="stream"){return(t==="stream"?vu:bu).writeAll(r).toUint8Array(!0)}var sd=function(){function r(t,e,n,i){var s=this;this.getCell=function(o,a){var c=o<s.headerRows&&a<s.headerColumns,l=o>=s.headerRows&&a<s.headerColumns,u=o<s.headerRows&&a>=s.headerColumns;if(c){var h=["blank"];return a>0&&h.push("level"+o),{type:"blank",classNames:h.join(" "),content:""}}else if(u){var d=a-s.headerColumns,h=["col_heading","level"+o,"col"+d];return{type:"columns",classNames:h.join(" "),content:s.getContent(s.columnsTable,d,o)}}else if(l){var f=o-s.headerRows,h=["row_heading","level"+a,"row"+f];return{type:"index",id:"T_".concat(s.uuid,"level").concat(a,"_row").concat(f),classNames:h.join(" "),content:s.getContent(s.indexTable,f,a)}}else{var f=o-s.headerRows,d=a-s.headerColumns,h=["data","row"+f,"col"+d],m=s.styler?s.getContent(s.styler.displayValuesTable,f,d):s.getContent(s.dataTable,f,d);return{type:"data",id:"T_".concat(s.uuid,"row").concat(f,"_col").concat(d),classNames:h.join(" "),content:m}}},this.getContent=function(o,a,c){var l=o.getChildAt(c);if(l===null)return"";var u=s.getColumnTypeId(o,c);switch(u){case w.Timestamp:return s.nanosToDate(l.get(a));default:return l.get(a)}},this.dataTable=Ss(t),this.indexTable=Ss(e),this.columnsTable=Ss(n),this.styler=i?{caption:i.caption,displayValuesTable:Ss(i.displayValues),styles:i.styles,uuid:i.uuid}:void 0}return Object.defineProperty(r.prototype,"rows",{get:function(){return this.indexTable.numRows+this.columnsTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columns",{get:function(){return this.indexTable.numCols+this.columnsTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerRows",{get:function(){return this.rows-this.dataRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"headerColumns",{get:function(){return this.columns-this.dataColumns},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataRows",{get:function(){return this.dataTable.numRows},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"dataColumns",{get:function(){return this.dataTable.numCols},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"uuid",{get:function(){return this.styler&&this.styler.uuid},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"caption",{get:function(){return this.styler&&this.styler.caption},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"styles",{get:function(){return this.styler&&this.styler.styles},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"table",{get:function(){return this.dataTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"index",{get:function(){return this.indexTable},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"columnTable",{get:function(){return this.columnsTable},enumerable:!1,configurable:!0}),r.prototype.serialize=function(){return{data:mc(this.dataTable),index:mc(this.indexTable),columns:mc(this.columnsTable)}},r.prototype.getColumnTypeId=function(t,e){return t.schema.fields[e].type.typeId},r.prototype.nanosToDate=function(t){return new Date(t/1e6)},r}(),Os=function(){return Os=Object.assign||function(r){for(var t,e=1,n=arguments.length;e<n;e++){t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},Os.apply(this,arguments)},Ts;(function(r){r.COMPONENT_READY="streamlit:componentReady",r.SET_COMPONENT_VALUE="streamlit:setComponentValue",r.SET_FRAME_HEIGHT="streamlit:setFrameHeight"})(Ts||(Ts={}));var vr=function(){function r(){}return r.API_VERSION=1,r.RENDER_EVENT="streamlit:render",r.events=new EventTarget,r.registeredMessageListener=!1,r.setComponentReady=function(){r.registeredMessageListener||(window.addEventListener("message",r.onMessageEvent),r.registeredMessageListener=!0),r.sendBackMsg(Ts.COMPONENT_READY,{apiVersion:r.API_VERSION})},r.setFrameHeight=function(t){t===void 0&&(t=document.body.scrollHeight),t!==r.lastFrameHeight&&(r.lastFrameHeight=t,r.sendBackMsg(Ts.SET_FRAME_HEIGHT,{height:t}))},r.setComponentValue=function(t){var e;t instanceof sd?(e="dataframe",t=t.serialize()):vI(t)?(e="bytes",t=new Uint8Array(t.buffer)):t instanceof ArrayBuffer?(e="bytes",t=new Uint8Array(t)):e="json",r.sendBackMsg(Ts.SET_COMPONENT_VALUE,{value:t,dataType:e})},r.onMessageEvent=function(t){var e=t.data.type;switch(e){case r.RENDER_EVENT:r.onRenderMessage(t.data);break}},r.onRenderMessage=function(t){var e=t.args;e==null&&(console.error("Got null args in onRenderMessage. This should never happen"),e={});var n=t.dfs&&t.dfs.length>0?r.argsDataframeToObject(t.dfs):{};e=Os(Os({},e),n);var i=!!t.disabled,s=t.theme;s&&mI(s);var o={disabled:i,args:e,theme:s},a=new CustomEvent(r.RENDER_EVENT,{detail:o});r.events.dispatchEvent(a)},r.argsDataframeToObject=function(t){var e=t.map(function(n){var i=n.key,s=n.value;return[i,r.toArrowTable(s)]});return Object.fromEntries(e)},r.toArrowTable=function(t){var e,n=(e=t.data,e.data),i=e.index,s=e.columns,o=e.styler;return new sd(n,i,s,o)},r.sendBackMsg=function(t,e){window.parent.postMessage(Os({isStreamlitMessage:!0,type:t},e),"*")},r}(),mI=function(r){var t=document.createElement("style");document.head.appendChild(t),t.innerHTML=`
    :root {
      --primary-color: `.concat(r.primaryColor,`;
      --background-color: `).concat(r.backgroundColor,`;
      --secondary-background-color: `).concat(r.secondaryBackgroundColor,`;
      --text-color: `).concat(r.textColor,`;
      --font: `).concat(r.font,`;
    }

    body {
      background-color: var(--background-color);
      color: var(--text-color);
    }
  `)};function vI(r){var t=!1;try{t=r instanceof BigInt64Array||r instanceof BigUint64Array}catch{}return r instanceof Int8Array||r instanceof Uint8Array||r instanceof Uint8ClampedArray||r instanceof Int16Array||r instanceof Uint16Array||r instanceof Int32Array||r instanceof Uint32Array||r instanceof Float32Array||r instanceof Float64Array||t}var bI=function(){var r=function(t,e){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(n[s]=i[s])},r(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");r(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}}();(function(r){bI(t,r);function t(){return r!==null&&r.apply(this,arguments)||this}return t.prototype.componentDidMount=function(){vr.setFrameHeight()},t.prototype.componentDidUpdate=function(){vr.setFrameHeight()},t})(CE.PureComponent);function _I(){Ea(()=>{vr.setFrameHeight()}),fl(()=>{vr.setFrameHeight()})}const Su=(r,t)=>{const e=r.__vccOpts||r;for(const[n,i]of t)e[n]=i;return e},Cy=r=>(Rd("data-v-e9ebfabf"),r=r(),Bd(),r),wI={class:"graph"},SI={class:"feedback"},EI=yv('<div data-v-e9ebfabf><button id="start" data-v-e9ebfabf>arrange</button><button id="stop" data-v-e9ebfabf>stop</button><button id="reset" data-v-e9ebfabf>reset</button>  <span id="search" data-v-e9ebfabf><input type="search" id="search-input" list="suggestions" placeholder="Search node..." data-v-e9ebfabf><datalist id="suggestions" data-v-e9ebfabf><option value="Musk" data-v-e9ebfabf></option><option value="Gates" data-v-e9ebfabf></option></datalist></span></div>',1),AI={class:"selected"},II=Cy(()=>sr("div",{id:"sigma-container"},null,-1)),DI={class:"feedback"},OI={key:1,class:"debuginfo",id:"info01"},TI=Cy(()=>sr("hr",null,null,-1)),FI={__name:"VSigma",props:["args"],setup(r,{expose:t}){const e=r;let n=null,i=!1;const s=new Ut({multi:!0}),o=va({hoveredNode:"",hoveredEdge:"",searchQuery:"",selectedNode:"",selectedEdge:"",lastselectedNode:"",lastselectedEdge:"",lastselectedNodeData:"",lastselectedEdgeData:"",suggestions:[],hoveredNeighbors:[],nnodes:0,nedges:0}),a=nf(()=>(o==null?void 0:o.lastselectedNode)+(o==null?void 0:o.lastselectedEdge));vo(a,async()=>{c()});function c(){const u=JSON.parse(JSON.stringify(o));vr.setComponentValue({graph:s,state:u})}function l(u){var h=document.getElementById(u);h.style.visibility=="hidden"?h.style.visibility="visible":h.style.visibility="hidden"}return _I(),Ea(()=>{const u=document.getElementById("sigma-container"),h=document.getElementById("search-input"),d=document.getElementById("suggestions");s.import({nodes:e.args.nodes,edges:e.args.edges}),s.nodes().forEach((I,M)=>{s.setNodeAttribute(I,"index",M),s.setNodeAttribute(I,"label",I.toString()),s.setNodeAttribute(I,"type","pictogram"),s.setNodeAttribute(I,"image","https://icons.getbootstrap.com/assets/icons/person.svg")}),s.edges().forEach((I,M)=>{s.setEdgeAttribute(I,"index",M),s.setEdgeAttribute(I,"label",I.toString()),s.setEdgeAttribute(I,"type","line")}),hh.assign(s);const f=g0.inferSettings(s);n=new n0(s,{settings:f});let m={allowInvalidContainer:!0,enableEdgeClickEvents:!0,enableEdgeHoverEvents:!0,enableEdgeWheelEvents:!1,renderEdgeLabels:!0,nodeProgramClasses:{pictogram:rE()},...e.args.settings};const b=new qS(s,u,m),N=document.getElementById("start"),D=document.getElementById("stop"),O=document.getElementById("reset");N.addEventListener("click",()=>{n.start()}),D.addEventListener("click",()=>{n.isRunning&&n.stop()}),O.addEventListener("click",()=>{n.isRunning&&n.stop(),hh.assign(s),b.refresh()}),o.nnodes=s.nodes().length,o.nedges=s.edges().length,d.innerHTML=s.nodes().map(I=>`<option value="${s.getNodeAttribute(I,"label")}"></option>`).join(`
`),console.log(s);function T(I){if(o.searchQuery=I,h.value!==I&&(h.value=I),I){const M=I.toLowerCase(),B=s.nodes().map(E=>({id:E,label:s.getNodeAttribute(E,"label")})).filter(({label:E})=>E.toString().toLowerCase().includes(M));if(B.length===1&&B[0].label===I){o.selectedNode=B[0].label,o.lastselectedNode=B[0].label,o.lastselectedNodeData=s.getNodeAttributes(o.lastselectedNode),o.suggestions=void 0;const E=b.getNodeDisplayData(o.selectedNode);b.getCamera().animate(E,{duration:500})}else o.selectedNode=null,o.suggestions=new Set(B.map(({id:E})=>E))}else o.selectedNode=void 0,o.suggestions=void 0;b.refresh({skipIndexation:!0})}function _(I){I&&(o.hoveredNode=I,o.hoveredEdge=void 0,o.hoveredNeighbors=s.neighbors(I)),I||(o.hoveredNode=void 0,o.hoveredNeighbors=void 0),b.refresh({skipIndexation:!0})}function S(I){I&&(o.hoveredNode=void 0,o.hoveredEdge=I.edge),I||(o.hoveredEdge=void 0),b.refresh({skipIndexation:!0})}h.addEventListener("input",()=>{T(h.value||"")}),h.addEventListener("blur",()=>{T("")}),b.on("enterNode",({node:I})=>{_(I)}),b.on("leaveNode",()=>{_(void 0)}),b.on("downNode",({node:I})=>{}),b.on("clickNode",I=>{o.lastselectedNode=I.node,o.lastselectedNodeData=s.getNodeAttributes(I.node),o.lastselectedEdge=null,o.lastselectedEdgeData=null,o.hoveredNeighbors=s.neighbors(I.node)}),b.on("enterEdge",I=>{S(I)}),b.on("leaveEdge",()=>{S(void 0)}),b.on("clickEdge",I=>{o.lastselectedEdge=I.edge,o.lastselectedEdgeData=s.getEdgeAttributes(I.edge),o.lastselectedNode=null,o.lastselectedNodeData=null,o.hoveredNeighbors=null}),b.on("downStage",I=>{o.lastselectedEdge=null,o.lastselectedEdgeData=null,o.lastselectedNode=null,o.lastselectedNodeData=null,o.hoveredNeighbors=null}),b.setSetting("nodeReducer",(I,M)=>{const B={...M};return B.size=6,B.type="pictogram",B.image="https://icons.getbootstrap.com/assets/icons/person.svg",I===o.hoveredNode&&(B.size*=2),o.hoveredNeighbors&&Array.from(o.hoveredNeighbors).length>0&&o.hoveredNode!==I&&(o.hoveredNeighbors.includes(I)?(B.size*=2,B.forceLabel=!0):B.label=""),o.hoveredEdge&&(s.extremities(o.hoveredEdge).includes(I)?B.size*=2:B.label=""),I===o.selectedNode?B.highlighted=!0:o.suggestions&&Array.from(o.suggestions.values()).length>0&&(Array.from(o.suggestions.entries())[0][0]==I?B.forceLabel=!0:B.label=""),B}),b.setSetting("edgeReducer",(I,M)=>{const B={...M};return B.size=3,I===o.hoveredEdge&&(B.color="#aaaaff",B.size*=2,B.forceLabel=!0),o.hoveredNode&&(s.extremities(I).every(E=>E===o.hoveredNode||s.areNeighbors(E,o.hoveredNode))?(B.color="#aaaaff",B.size*=2,B.forceLabel=!0):B.size=1),o.suggestions&&Array.from(o.suggestions.values()).length>0&&(!Array.from(o.suggestions.values()).includes(s.source(I))||!Array.from(o.suggestions.values()).includes(s.target(I)))&&(B.color="#cccccc",B.label=""),B})}),Aa(()=>{n&&(n.kill(),render.kill())}),t({graph:s,state:o}),(u,h)=>(Rn(),Fi("div",wI,[sr("div",SI,Lr(o.nnodes)+" Nodes - "+Lr(o.nedges)+" Edges",1),EI,sr("div",AI,Lr(o.hoveredNode)+Lr(o.hoveredEdge)+" ",1),II,sr("div",DI,[Ec(i)?(Rn(),Fi("button",{key:0,onClick:h[0]||(h[0]=d=>l("info01"))},"i")):xc("",!0),Ec(i)?(Rn(),Fi("div",OI,[sr("div",null,"Selected Node: "+Lr(o.lastselectedNode)+" : "+Lr(o.lastselectedNodeData),1),sr("div",null,"Selected Edge: "+Lr(o.lastselectedEdge)+" : "+Lr(o.lastselectedEdgeData),1),TI,sr("div",null,"State : "+Lr(o),1)])):xc("",!0)])]))}},xI=Su(FI,[["__scopeId","data-v-e9ebfabf"]]),LI=Ud({name:"WithStreamlitConnection",setup(){const r=Cu(void 0),t=Cu(""),e=n=>{const i=n;r.value=i.detail,t.value=""};return Ea(()=>{vr.events.addEventListener(vr.RENDER_EVENT,e),vr.setComponentReady()}),fl(()=>{t.value!=""&&vr.setFrameHeight()}),Aa(()=>{vr.events.removeEventListener(vr.RENDER_EVENT,e)}),Gd(n=>{t.value=String(n)}),{renderData:r,componentError:t}}}),CI=r=>(Rd("data-v-9ae37d8b"),r=r(),Bd(),r),RI={key:0},BI=CI(()=>sr("h1",{class:"err__title"},"Component Error",-1)),PI={class:"err__msg"};function NI(r,t,e,n,i,s){return Rn(),Fi("div",null,[r.componentError!=""?(Rn(),Fi("div",RI,[BI,sr("div",PI,"Message: "+Lr(r.componentError),1)])):r.renderData!=null?Hm(r.$slots,"default",{key:1,args:r.renderData.args,disabled:r.renderData.disabled},void 0):xc("",!0)])}const MI=Su(LI,[["render",NI],["__scopeId","data-v-9ae37d8b"]]),UI=Ud({name:"App",components:{VSigma:xI,WithStreamlitConnection:MI}}),$I={id:"app"};function kI(r,t,e,n,i,s){const o=Pu("VSigma"),a=Pu("WithStreamlitConnection");return Rn(),Fi("div",$I,[Je(a,null,{default:Pd(({args:c})=>[Je(o,{args:c},null,8,["args"])]),_:1})])}const GI=Su(UI,[["render",kI]]);Xv(GI).mount("#app");
